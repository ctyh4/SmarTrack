var g4=Object.defineProperty;var m4=(e,t,n)=>t in e?g4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=(e,t,n)=>(m4(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Kb(e,t){const n=new Set(e.split(","));return t?i=>n.has(i.toLowerCase()):i=>n.has(i)}const Ve={},ol=[],Qi=()=>{},y4=()=>!1,Om=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Gb=e=>e.startsWith("onUpdate:"),Zn=Object.assign,Yb=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_4=Object.prototype.hasOwnProperty,oe=(e,t)=>_4.call(e,t),St=Array.isArray,al=e=>jd(e)==="[object Map]",Nm=e=>jd(e)==="[object Set]",VC=e=>jd(e)==="[object Date]",$t=e=>typeof e=="function",Nn=e=>typeof e=="string",Rs=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",JP=e=>(Me(e)||$t(e))&&$t(e.then)&&$t(e.catch),ZP=Object.prototype.toString,jd=e=>ZP.call(e),v4=e=>jd(e).slice(8,-1),t2=e=>jd(e)==="[object Object]",Qb=e=>Nn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Oh=Kb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lm=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},b4=/-(\w)/g,Yr=Lm(e=>e.replace(b4,(t,n)=>n?n.toUpperCase():"")),w4=/\B([A-Z])/g,Za=Lm(e=>e.replace(w4,"-$1").toLowerCase()),Fm=Lm(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pv=Lm(e=>e?`on${Fm(e)}`:""),Mo=(e,t)=>!Object.is(e,t),Eg=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},e2=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Gg=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let BC;const n2=()=>BC||(BC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xb(e){if(St(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Nn(i)?T4(i):Xb(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(Nn(e)||Me(e))return e}const E4=/;(?![^(]*\))/g,I4=/:([^]+)/,A4=/\/\*[^]*?\*\//g;function T4(e){const t={};return e.replace(A4,"").split(E4).forEach(n=>{if(n){const i=n.split(I4);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function vl(e){let t="";if(Nn(e))t=e;else if(St(e))for(let n=0;n<e.length;n++){const i=vl(e[n]);i&&(t+=i+" ")}else if(Me(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const C4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",S4=Kb(C4);function i2(e){return!!e||e===""}function x4(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Vm(e[i],t[i]);return n}function Vm(e,t){if(e===t)return!0;let n=VC(e),i=VC(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Rs(e),i=Rs(t),n||i)return e===t;if(n=St(e),i=St(t),n||i)return n&&i?x4(e,t):!1;if(n=Me(e),i=Me(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const a in e){const l=e.hasOwnProperty(a),u=t.hasOwnProperty(a);if(l&&!u||!l&&u||!Vm(e[a],t[a]))return!1}}return String(e)===String(t)}function k4(e,t){return e.findIndex(n=>Vm(n,t))}const Ht=e=>Nn(e)?e:e==null?"":St(e)||Me(e)&&(e.toString===ZP||!$t(e.toString))?JSON.stringify(e,r2,2):String(e),r2=(e,t)=>t&&t.__v_isRef?r2(e,t.value):al(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],s)=>(n[Rv(i,s)+" =>"]=r,n),{})}:Nm(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Rv(n))}:Rs(t)?Rv(t):Me(t)&&!St(t)&&!t2(t)?String(t):t,Rv=(e,t="")=>{var n;return Rs(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cr;class P4{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=cr,!t&&cr&&(this.index=(cr.scopes||(cr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=cr;try{return cr=this,t()}finally{cr=n}}}on(){cr=this}off(){cr=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function R4(e,t=cr){t&&t.active&&t.effects.push(e)}function D4(){return cr}let Oa;class Jb{constructor(t,n,i,r){this.fn=t,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,R4(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ho();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(M4(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),zo()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=So,n=Oa;try{return So=!0,Oa=this,this._runnings++,UC(this),this.fn()}finally{$C(this),this._runnings--,Oa=n,So=t}}stop(){var t;this.active&&(UC(this),$C(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function M4(e){return e.value}function UC(e){e._trackId++,e._depsLength=0}function $C(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)s2(e.deps[t],e);e.deps.length=e._depsLength}}function s2(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let So=!0,x0=0;const o2=[];function Ho(){o2.push(So),So=!1}function zo(){const e=o2.pop();So=e===void 0?!0:e}function Zb(){x0++}function tw(){for(x0--;!x0&&k0.length;)k0.shift()()}function a2(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&s2(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const k0=[];function c2(e,t,n){Zb();for(const i of e.keys()){let r;i._dirtyLevel<t&&(r??(r=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(r??(r=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&k0.push(i.scheduler)))}tw()}const l2=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},P0=new WeakMap,Na=Symbol(""),R0=Symbol("");function Pi(e,t,n){if(So&&Oa){let i=P0.get(e);i||P0.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=l2(()=>i.delete(n))),a2(Oa,r)}}function Ss(e,t,n,i,r,s){const a=P0.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&St(e)){const u=Number(i);a.forEach((d,f)=>{(f==="length"||!Rs(f)&&f>=u)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":St(e)?Qb(n)&&l.push(a.get("length")):(l.push(a.get(Na)),al(e)&&l.push(a.get(R0)));break;case"delete":St(e)||(l.push(a.get(Na)),al(e)&&l.push(a.get(R0)));break;case"set":al(e)&&l.push(a.get(Na));break}Zb();for(const u of l)u&&c2(u,4);tw()}const O4=Kb("__proto__,__v_isRef,__isVue"),u2=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rs)),jC=N4();function N4(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=de(this);for(let s=0,a=this.length;s<a;s++)Pi(i,"get",s+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(de)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ho(),Zb();const i=de(this)[t].apply(this,n);return tw(),zo(),i}}),e}function L4(e){Rs(e)||(e=String(e));const t=de(this);return Pi(t,"has",e),t.hasOwnProperty(e)}class h2{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?Y4:g2:s?p2:f2).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=St(t);if(!r){if(a&&oe(jC,n))return Reflect.get(jC,n,i);if(n==="hasOwnProperty")return L4}const l=Reflect.get(t,n,i);return(Rs(n)?u2.has(n):O4(n))||(r||Pi(t,"get",n),s)?l:Ri(l)?a&&Qb(n)?l:l.value:Me(l)?r?y2(l):Um(l):l}}class d2 extends h2{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(!this._isShallow){const u=sd(s);if(!Yg(i)&&!sd(i)&&(s=de(s),i=de(i)),!St(t)&&Ri(s)&&!Ri(i))return u?!1:(s.value=i,!0)}const a=St(t)&&Qb(n)?Number(n)<t.length:oe(t,n),l=Reflect.set(t,n,i,r);return t===de(r)&&(a?Mo(i,s)&&Ss(t,"set",n,i):Ss(t,"add",n,i)),l}deleteProperty(t,n){const i=oe(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&Ss(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!Rs(n)||!u2.has(n))&&Pi(t,"has",n),i}ownKeys(t){return Pi(t,"iterate",St(t)?"length":Na),Reflect.ownKeys(t)}}class F4 extends h2{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const V4=new d2,B4=new F4,U4=new d2(!0),ew=e=>e,Bm=e=>Reflect.getPrototypeOf(e);function Bp(e,t,n=!1,i=!1){e=e.__v_raw;const r=de(e),s=de(t);n||(Mo(t,s)&&Pi(r,"get",t),Pi(r,"get",s));const{has:a}=Bm(r),l=i?ew:n?rw:od;if(a.call(r,t))return l(e.get(t));if(a.call(r,s))return l(e.get(s));e!==r&&e.get(t)}function Up(e,t=!1){const n=this.__v_raw,i=de(n),r=de(e);return t||(Mo(e,r)&&Pi(i,"has",e),Pi(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function $p(e,t=!1){return e=e.__v_raw,!t&&Pi(de(e),"iterate",Na),Reflect.get(e,"size",e)}function HC(e){e=de(e);const t=de(this);return Bm(t).has.call(t,e)||(t.add(e),Ss(t,"add",e,e)),this}function zC(e,t){t=de(t);const n=de(this),{has:i,get:r}=Bm(n);let s=i.call(n,e);s||(e=de(e),s=i.call(n,e));const a=r.call(n,e);return n.set(e,t),s?Mo(t,a)&&Ss(n,"set",e,t):Ss(n,"add",e,t),this}function WC(e){const t=de(this),{has:n,get:i}=Bm(t);let r=n.call(t,e);r||(e=de(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&Ss(t,"delete",e,void 0),s}function qC(){const e=de(this),t=e.size!==0,n=e.clear();return t&&Ss(e,"clear",void 0,void 0),n}function jp(e,t){return function(i,r){const s=this,a=s.__v_raw,l=de(a),u=t?ew:e?rw:od;return!e&&Pi(l,"iterate",Na),a.forEach((d,f)=>i.call(r,u(d),u(f),s))}}function Hp(e,t,n){return function(...i){const r=this.__v_raw,s=de(r),a=al(s),l=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,d=r[e](...i),f=n?ew:t?rw:od;return!t&&Pi(s,"iterate",u?R0:Na),{next(){const{value:g,done:m}=d.next();return m?{value:g,done:m}:{value:l?[f(g[0]),f(g[1])]:f(g),done:m}},[Symbol.iterator](){return this}}}}function lo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function $4(){const e={get(s){return Bp(this,s)},get size(){return $p(this)},has:Up,add:HC,set:zC,delete:WC,clear:qC,forEach:jp(!1,!1)},t={get(s){return Bp(this,s,!1,!0)},get size(){return $p(this)},has:Up,add:HC,set:zC,delete:WC,clear:qC,forEach:jp(!1,!0)},n={get(s){return Bp(this,s,!0)},get size(){return $p(this,!0)},has(s){return Up.call(this,s,!0)},add:lo("add"),set:lo("set"),delete:lo("delete"),clear:lo("clear"),forEach:jp(!0,!1)},i={get(s){return Bp(this,s,!0,!0)},get size(){return $p(this,!0)},has(s){return Up.call(this,s,!0)},add:lo("add"),set:lo("set"),delete:lo("delete"),clear:lo("clear"),forEach:jp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Hp(s,!1,!1),n[s]=Hp(s,!0,!1),t[s]=Hp(s,!1,!0),i[s]=Hp(s,!0,!0)}),[e,n,t,i]}const[j4,H4,z4,W4]=$4();function nw(e,t){const n=t?e?W4:z4:e?H4:j4;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(oe(n,r)&&r in i?n:i,r,s)}const q4={get:nw(!1,!1)},K4={get:nw(!1,!0)},G4={get:nw(!0,!1)},f2=new WeakMap,p2=new WeakMap,g2=new WeakMap,Y4=new WeakMap;function Q4(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function X4(e){return e.__v_skip||!Object.isExtensible(e)?0:Q4(v4(e))}function Um(e){return sd(e)?e:iw(e,!1,V4,q4,f2)}function m2(e){return iw(e,!1,U4,K4,p2)}function y2(e){return iw(e,!0,B4,G4,g2)}function iw(e,t,n,i,r){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const a=X4(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return r.set(e,l),l}function Nh(e){return sd(e)?Nh(e.__v_raw):!!(e&&e.__v_isReactive)}function sd(e){return!!(e&&e.__v_isReadonly)}function Yg(e){return!!(e&&e.__v_isShallow)}function _2(e){return e?!!e.__v_raw:!1}function de(e){const t=e&&e.__v_raw;return t?de(t):e}function J4(e){return Object.isExtensible(e)&&e2(e,"__v_skip",!0),e}const od=e=>Me(e)?Um(e):e,rw=e=>Me(e)?y2(e):e;class v2{constructor(t,n,i,r){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Jb(()=>t(this._value),()=>Ig(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=de(this);return(!t._cacheable||t.effect.dirty)&&Mo(t._value,t._value=t.effect.run())&&Ig(t,4),b2(t),t.effect._dirtyLevel>=2&&Ig(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Z4(e,t,n=!1){let i,r;const s=$t(e);return s?(i=e,r=Qi):(i=e.get,r=e.set),new v2(i,r,s||!r,n)}function b2(e){var t;So&&Oa&&(e=de(e),a2(Oa,(t=e.dep)!=null?t:e.dep=l2(()=>e.dep=void 0,e instanceof v2?e:void 0)))}function Ig(e,t=4,n){e=de(e);const i=e.dep;i&&c2(i,t)}function Ri(e){return!!(e&&e.__v_isRef===!0)}function t5(e){return w2(e,!1)}function e5(e){return w2(e,!0)}function w2(e,t){return Ri(e)?e:new n5(e,t)}class n5{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:de(t),this._value=n?t:od(t)}get value(){return b2(this),this._value}set value(t){const n=this.__v_isShallow||Yg(t)||sd(t);t=n?t:de(t),Mo(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:od(t),Ig(this,4))}}function cl(e){return Ri(e)?e.value:e}const i5={get:(e,t,n)=>cl(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Ri(r)&&!Ri(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function E2(e){return Nh(e)?e:new Proxy(e,i5)}/**
* @vue/runtime-core v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xo(e,t,n,i){try{return i?e(...i):e()}catch(r){$m(r,t,n)}}function fr(e,t,n,i){if($t(e)){const r=xo(e,t,n,i);return r&&JP(r)&&r.catch(s=>{$m(s,t,n)}),r}if(St(e)){const r=[];for(let s=0;s<e.length;s++)r.push(fr(e[s],t,n,i));return r}}function $m(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const d=s.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](e,a,l)===!1)return}s=s.parent}const u=t.appContext.config.errorHandler;if(u){Ho(),xo(u,null,10,[e,a,l]),zo();return}}r5(e,n,r,i)}function r5(e,t,n,i=!0){console.error(e)}let ad=!1,D0=!1;const oi=[];let Rr=0;const ll=[];let yo=null,Aa=0;const I2=Promise.resolve();let sw=null;function ow(e){const t=sw||I2;return e?t.then(this?e.bind(this):e):t}function s5(e){let t=Rr+1,n=oi.length;for(;t<n;){const i=t+n>>>1,r=oi[i],s=cd(r);s<e||s===e&&r.pre?t=i+1:n=i}return t}function aw(e){(!oi.length||!oi.includes(e,ad&&e.allowRecurse?Rr+1:Rr))&&(e.id==null?oi.push(e):oi.splice(s5(e.id),0,e),A2())}function A2(){!ad&&!D0&&(D0=!0,sw=I2.then(C2))}function o5(e){const t=oi.indexOf(e);t>Rr&&oi.splice(t,1)}function a5(e){St(e)?ll.push(...e):(!yo||!yo.includes(e,e.allowRecurse?Aa+1:Aa))&&ll.push(e),A2()}function KC(e,t,n=ad?Rr+1:0){for(;n<oi.length;n++){const i=oi[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;oi.splice(n,1),n--,i()}}}function T2(e){if(ll.length){const t=[...new Set(ll)].sort((n,i)=>cd(n)-cd(i));if(ll.length=0,yo){yo.push(...t);return}for(yo=t,Aa=0;Aa<yo.length;Aa++)yo[Aa]();yo=null,Aa=0}}const cd=e=>e.id==null?1/0:e.id,c5=(e,t)=>{const n=cd(e)-cd(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function C2(e){D0=!1,ad=!0,oi.sort(c5);try{for(Rr=0;Rr<oi.length;Rr++){const t=oi[Rr];t&&t.active!==!1&&xo(t,null,14)}}finally{Rr=0,oi.length=0,T2(),ad=!1,sw=null,(oi.length||ll.length)&&C2()}}function l5(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ve;let r=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:m}=i[f]||Ve;m&&(r=n.map(v=>Nn(v)?v.trim():v)),g&&(r=n.map(Gg))}let l,u=i[l=Pv(t)]||i[l=Pv(Yr(t))];!u&&s&&(u=i[l=Pv(Za(t))]),u&&fr(u,e,6,r);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,fr(d,e,6,r)}}function S2(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let a={},l=!1;if(!$t(e)){const u=d=>{const f=S2(d,t,!0);f&&(l=!0,Zn(a,f))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!l?(Me(e)&&i.set(e,null),null):(St(s)?s.forEach(u=>a[u]=null):Zn(a,s),Me(e)&&i.set(e,a),a)}function jm(e,t){return!e||!Om(t)?!1:(t=t.slice(2).replace(/Once$/,""),oe(e,t[0].toLowerCase()+t.slice(1))||oe(e,Za(t))||oe(e,t))}let xi=null,Hm=null;function Qg(e){const t=xi;return xi=e,Hm=e&&e.type.__scopeId||null,t}function ze(e){Hm=e}function We(){Hm=null}function jr(e,t=xi,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&rS(-1);const s=Qg(t);let a;try{a=e(...r)}finally{Qg(s),i._d&&rS(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Dv(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[a],slots:l,attrs:u,emit:d,render:f,renderCache:g,data:m,setupState:v,ctx:E,inheritAttrs:b}=e;let w,A;const C=Qg(e);try{if(n.shapeFlag&4){const R=r||i,D=R;w=kr(f.call(D,R,g,s,v,m,E)),A=u}else{const R=t;w=kr(R.length>1?R(s,{attrs:u,slots:l,emit:d}):R(s,null)),A=t.props?u:u5(u)}}catch(R){Vh.length=0,$m(R,e,1),w=lt(ja)}let k=w;if(A&&b!==!1){const R=Object.keys(A),{shapeFlag:D}=k;R.length&&D&7&&(a&&R.some(Gb)&&(A=h5(A,a)),k=bl(k,A))}return n.dirs&&(k=bl(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),w=k,Qg(C),w}const u5=e=>{let t;for(const n in e)(n==="class"||n==="style"||Om(n))&&((t||(t={}))[n]=e[n]);return t},h5=(e,t)=>{const n={};for(const i in e)(!Gb(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function d5(e,t,n){const{props:i,children:r,component:s}=e,{props:a,children:l,patchFlag:u}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?GC(i,a,d):!!a;if(u&8){const f=t.dynamicProps;for(let g=0;g<f.length;g++){const m=f[g];if(a[m]!==i[m]&&!jm(d,m))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?GC(i,a,d):!0:!!a;return!1}function GC(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!jm(n,s))return!0}return!1}function f5({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const x2="components";function mt(e,t){return g5(x2,e,!0,t)||e}const p5=Symbol.for("v-ndc");function g5(e,t,n=!0,i=!1){const r=xi||ai;if(r){const s=r.type;if(e===x2){const l=c3(s,!1);if(l&&(l===t||l===Yr(t)||l===Fm(Yr(t))))return s}const a=YC(r[e]||s[e],t)||YC(r.appContext[e],t);return!a&&i?s:a}}function YC(e,t){return e&&(e[t]||e[Yr(t)]||e[Fm(Yr(t))])}const m5=e=>e.__isSuspense;function y5(e,t){t&&t.pendingBranch?St(e)?t.effects.push(...e):t.effects.push(e):a5(e)}const _5=Symbol.for("v-scx"),v5=()=>xs(_5),zp={};function Ag(e,t,n){return k2(e,t,n)}function k2(e,t,{immediate:n,deep:i,flush:r,once:s,onTrack:a,onTrigger:l}=Ve){if(t&&s){const M=t;t=(...N)=>{M(...N),D()}}const u=ai,d=M=>i===!0?M:Sa(M,i===!1?1:void 0);let f,g=!1,m=!1;if(Ri(e)?(f=()=>e.value,g=Yg(e)):Nh(e)?(f=()=>d(e),g=!0):St(e)?(m=!0,g=e.some(M=>Nh(M)||Yg(M)),f=()=>e.map(M=>{if(Ri(M))return M.value;if(Nh(M))return d(M);if($t(M))return xo(M,u,2)})):$t(e)?t?f=()=>xo(e,u,2):f=()=>(v&&v(),fr(e,u,3,[E])):f=Qi,t&&i){const M=f;f=()=>Sa(M())}let v,E=M=>{v=k.onStop=()=>{xo(M,u,4),v=k.onStop=void 0}},b;if(qm)if(E=Qi,t?n&&fr(t,u,3,[f(),m?[]:void 0,E]):f(),r==="sync"){const M=v5();b=M.__watcherHandles||(M.__watcherHandles=[])}else return Qi;let w=m?new Array(e.length).fill(zp):zp;const A=()=>{if(!(!k.active||!k.dirty))if(t){const M=k.run();(i||g||(m?M.some((N,V)=>Mo(N,w[V])):Mo(M,w)))&&(v&&v(),fr(t,u,3,[M,w===zp?void 0:m&&w[0]===zp?[]:w,E]),w=M)}else k.run()};A.allowRecurse=!!t;let C;r==="sync"?C=A:r==="post"?C=()=>Ai(A,u&&u.suspense):(A.pre=!0,u&&(A.id=u.uid),C=()=>aw(A));const k=new Jb(f,Qi,C),R=D4(),D=()=>{k.stop(),R&&Yb(R.effects,k)};return t?n?A():w=k.run():r==="post"?Ai(k.run.bind(k),u&&u.suspense):k.run(),b&&b.push(D),D}function b5(e,t,n){const i=this.proxy,r=Nn(e)?e.includes(".")?P2(i,e):()=>i[e]:e.bind(i,i);let s;$t(t)?s=t:(s=t.handler,n=t);const a=Hd(this),l=k2(r,s.bind(i),n);return a(),l}function P2(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function Sa(e,t,n=0,i){if(!Me(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(i=i||new Set,i.has(e))return e;if(i.add(e),Ri(e))Sa(e.value,t,n,i);else if(St(e))for(let r=0;r<e.length;r++)Sa(e[r],t,n,i);else if(Nm(e)||al(e))e.forEach(r=>{Sa(r,t,n,i)});else if(t2(e))for(const r in e)Sa(e[r],t,n,i);return e}function Qe(e,t){if(xi===null)return e;const n=Km(xi)||xi.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,a,l,u=Ve]=t[r];s&&($t(s)&&(s={mounted:s,updated:s}),s.deep&&Sa(a),i.push({dir:s,instance:n,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function pa(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let a=0;a<r.length;a++){const l=r[a];s&&(l.oldValue=s[a].value);let u=l.dir[i];u&&(Ho(),fr(u,n,8,[e.el,l,e,t]),zo())}}/*! #__NO_SIDE_EFFECTS__ */function R2(e,t){return $t(e)?Zn({name:e.name},t,{setup:e}):e}const Tg=e=>!!e.type.__asyncLoader,D2=e=>e.type.__isKeepAlive;function w5(e,t){M2(e,"a",t)}function E5(e,t){M2(e,"da",t)}function M2(e,t,n=ai){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(zm(t,i,n),n){let r=n.parent;for(;r&&r.parent;)D2(r.parent.vnode)&&I5(i,t,n,r),r=r.parent}}function I5(e,t,n,i){const r=zm(t,e,i,!0);O2(()=>{Yb(i[t],r)},n)}function zm(e,t,n=ai,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Ho();const l=Hd(n),u=fr(t,n,e,a);return l(),zo(),u});return i?r.unshift(s):r.push(s),s}}const Bs=e=>(t,n=ai)=>(!qm||e==="sp")&&zm(e,(...i)=>t(...i),n),A5=Bs("bm"),T5=Bs("m"),C5=Bs("bu"),S5=Bs("u"),x5=Bs("bum"),O2=Bs("um"),k5=Bs("sp"),P5=Bs("rtg"),R5=Bs("rtc");function D5(e,t=ai){zm("ec",e,t)}function kn(e,t,n,i){let r;const s=n&&n[i];if(St(e)||Nn(e)){r=new Array(e.length);for(let a=0,l=e.length;a<l;a++)r[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s&&s[a])}else if(Me(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];r[l]=t(e[d],d,l,s&&s[l])}}else r=[];return n&&(n[i]=r),r}const M0=e=>e?G2(e)?Km(e)||e.proxy:M0(e.parent):null,Lh=Zn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>M0(e.parent),$root:e=>M0(e.root),$emit:e=>e.emit,$options:e=>cw(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,aw(e.update)}),$nextTick:e=>e.n||(e.n=ow.bind(e.proxy)),$watch:e=>b5.bind(e)}),Mv=(e,t)=>e!==Ve&&!e.__isScriptSetup&&oe(e,t),M5={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:a,type:l,appContext:u}=e;let d;if(t[0]!=="$"){const v=a[t];if(v!==void 0)switch(v){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(Mv(i,t))return a[t]=1,i[t];if(r!==Ve&&oe(r,t))return a[t]=2,r[t];if((d=e.propsOptions[0])&&oe(d,t))return a[t]=3,s[t];if(n!==Ve&&oe(n,t))return a[t]=4,n[t];O0&&(a[t]=0)}}const f=Lh[t];let g,m;if(f)return t==="$attrs"&&Pi(e.attrs,"get",""),f(e);if((g=l.__cssModules)&&(g=g[t]))return g;if(n!==Ve&&oe(n,t))return a[t]=4,n[t];if(m=u.config.globalProperties,oe(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return Mv(r,t)?(r[t]=n,!0):i!==Ve&&oe(i,t)?(i[t]=n,!0):oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},a){let l;return!!n[a]||e!==Ve&&oe(e,a)||Mv(t,a)||(l=s[0])&&oe(l,a)||oe(i,a)||oe(Lh,a)||oe(r.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:oe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function QC(e){return St(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let O0=!0;function O5(e){const t=cw(e),n=e.proxy,i=e.ctx;O0=!1,t.beforeCreate&&XC(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:a,watch:l,provide:u,inject:d,created:f,beforeMount:g,mounted:m,beforeUpdate:v,updated:E,activated:b,deactivated:w,beforeDestroy:A,beforeUnmount:C,destroyed:k,unmounted:R,render:D,renderTracked:M,renderTriggered:N,errorCaptured:V,serverPrefetch:X,expose:at,inheritAttrs:J,components:pt,directives:Et,filters:Te}=t;if(d&&N5(d,i,null),a)for(const dt in a){const Rt=a[dt];$t(Rt)&&(i[dt]=Rt.bind(n))}if(r){const dt=r.call(n,n);Me(dt)&&(e.data=Um(dt))}if(O0=!0,s)for(const dt in s){const Rt=s[dt],pe=$t(Rt)?Rt.bind(n,n):$t(Rt.get)?Rt.get.bind(n,n):Qi,Ne=!$t(Rt)&&$t(Rt.set)?Rt.set.bind(n):Qi,Ln=ur({get:pe,set:Ne});Object.defineProperty(i,dt,{enumerable:!0,configurable:!0,get:()=>Ln.value,set:Ce=>Ln.value=Ce})}if(l)for(const dt in l)N2(l[dt],i,n,dt);if(u){const dt=$t(u)?u.call(n):u;Reflect.ownKeys(dt).forEach(Rt=>{Cg(Rt,dt[Rt])})}f&&XC(f,e,"c");function tt(dt,Rt){St(Rt)?Rt.forEach(pe=>dt(pe.bind(n))):Rt&&dt(Rt.bind(n))}if(tt(A5,g),tt(T5,m),tt(C5,v),tt(S5,E),tt(w5,b),tt(E5,w),tt(D5,V),tt(R5,M),tt(P5,N),tt(x5,C),tt(O2,R),tt(k5,X),St(at))if(at.length){const dt=e.exposed||(e.exposed={});at.forEach(Rt=>{Object.defineProperty(dt,Rt,{get:()=>n[Rt],set:pe=>n[Rt]=pe})})}else e.exposed||(e.exposed={});D&&e.render===Qi&&(e.render=D),J!=null&&(e.inheritAttrs=J),pt&&(e.components=pt),Et&&(e.directives=Et)}function N5(e,t,n=Qi){St(e)&&(e=N0(e));for(const i in e){const r=e[i];let s;Me(r)?"default"in r?s=xs(r.from||i,r.default,!0):s=xs(r.from||i):s=xs(r),Ri(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[i]=s}}function XC(e,t,n){fr(St(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function N2(e,t,n,i){const r=i.includes(".")?P2(n,i):()=>n[i];if(Nn(e)){const s=t[e];$t(s)&&Ag(r,s)}else if($t(e))Ag(r,e.bind(n));else if(Me(e))if(St(e))e.forEach(s=>N2(s,t,n,i));else{const s=$t(e.handler)?e.handler.bind(n):t[e.handler];$t(s)&&Ag(r,s,e)}}function cw(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let u;return l?u=l:!r.length&&!n&&!i?u=t:(u={},r.length&&r.forEach(d=>Xg(u,d,a,!0)),Xg(u,t,a)),Me(t)&&s.set(t,u),u}function Xg(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&Xg(e,s,n,!0),r&&r.forEach(a=>Xg(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=L5[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const L5={data:JC,props:ZC,emits:ZC,methods:Eh,computed:Eh,beforeCreate:mi,created:mi,beforeMount:mi,mounted:mi,beforeUpdate:mi,updated:mi,beforeDestroy:mi,beforeUnmount:mi,destroyed:mi,unmounted:mi,activated:mi,deactivated:mi,errorCaptured:mi,serverPrefetch:mi,components:Eh,directives:Eh,watch:V5,provide:JC,inject:F5};function JC(e,t){return t?e?function(){return Zn($t(e)?e.call(this,this):e,$t(t)?t.call(this,this):t)}:t:e}function F5(e,t){return Eh(N0(e),N0(t))}function N0(e){if(St(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mi(e,t){return e?[...new Set([].concat(e,t))]:t}function Eh(e,t){return e?Zn(Object.create(null),e,t):t}function ZC(e,t){return e?St(e)&&St(t)?[...new Set([...e,...t])]:Zn(Object.create(null),QC(e),QC(t??{})):t}function V5(e,t){if(!e)return t;if(!t)return e;const n=Zn(Object.create(null),e);for(const i in t)n[i]=mi(e[i],t[i]);return n}function L2(){return{app:null,config:{isNativeTag:y4,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let B5=0;function U5(e,t){return function(i,r=null){$t(i)||(i=Zn({},i)),r!=null&&!Me(r)&&(r=null);const s=L2(),a=new WeakSet;let l=!1;const u=s.app={_uid:B5++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:u3,get config(){return s.config},set config(d){},use(d,...f){return a.has(d)||(d&&$t(d.install)?(a.add(d),d.install(u,...f)):$t(d)&&(a.add(d),d(u,...f))),u},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),u},component(d,f){return f?(s.components[d]=f,u):s.components[d]},directive(d,f){return f?(s.directives[d]=f,u):s.directives[d]},mount(d,f,g){if(!l){const m=lt(i,r);return m.appContext=s,g===!0?g="svg":g===!1&&(g=void 0),f&&t?t(m,d):e(m,d,g),l=!0,u._container=d,d.__vue_app__=u,Km(m.component)||m.component.proxy}},unmount(){l&&(e(null,u._container),delete u._container.__vue_app__)},provide(d,f){return s.provides[d]=f,u},runWithContext(d){const f=Fh;Fh=u;try{return d()}finally{Fh=f}}};return u}}let Fh=null;function Cg(e,t){if(ai){let n=ai.provides;const i=ai.parent&&ai.parent.provides;i===n&&(n=ai.provides=Object.create(i)),n[e]=t}}function xs(e,t,n=!1){const i=ai||xi;if(i||Fh){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Fh._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&$t(t)?t.call(i&&i.proxy):t}}const F2=Object.create(null),L0=()=>Object.create(F2),V2=e=>Object.getPrototypeOf(e)===F2;function $5(e,t,n,i=!1){const r={},s=L0();e.propsDefaults=Object.create(null),B2(e,t,r,s);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=i?r:m2(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function j5(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:a}}=e,l=de(r),[u]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let g=0;g<f.length;g++){let m=f[g];if(jm(e.emitsOptions,m))continue;const v=t[m];if(u)if(oe(s,m))v!==s[m]&&(s[m]=v,d=!0);else{const E=Yr(m);r[E]=F0(u,l,E,v,e,!1)}else v!==s[m]&&(s[m]=v,d=!0)}}}else{B2(e,t,r,s)&&(d=!0);let f;for(const g in l)(!t||!oe(t,g)&&((f=Za(g))===g||!oe(t,f)))&&(u?n&&(n[g]!==void 0||n[f]!==void 0)&&(r[g]=F0(u,l,g,void 0,e,!0)):delete r[g]);if(s!==l)for(const g in s)(!t||!oe(t,g))&&(delete s[g],d=!0)}d&&Ss(e.attrs,"set","")}function B2(e,t,n,i){const[r,s]=e.propsOptions;let a=!1,l;if(t)for(let u in t){if(Oh(u))continue;const d=t[u];let f;r&&oe(r,f=Yr(u))?!s||!s.includes(f)?n[f]=d:(l||(l={}))[f]=d:jm(e.emitsOptions,u)||(!(u in i)||d!==i[u])&&(i[u]=d,a=!0)}if(s){const u=de(n),d=l||Ve;for(let f=0;f<s.length;f++){const g=s[f];n[g]=F0(r,u,g,d[g],e,!oe(d,g))}}return a}function F0(e,t,n,i,r,s){const a=e[n];if(a!=null){const l=oe(a,"default");if(l&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&$t(u)){const{propsDefaults:d}=r;if(n in d)i=d[n];else{const f=Hd(r);i=d[n]=u.call(null,t),f()}}else i=u}a[0]&&(s&&!l?i=!1:a[1]&&(i===""||i===Za(n))&&(i=!0))}return i}function U2(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const s=e.props,a={},l=[];let u=!1;if(!$t(e)){const f=g=>{u=!0;const[m,v]=U2(g,t,!0);Zn(a,m),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!s&&!u)return Me(e)&&i.set(e,ol),ol;if(St(s))for(let f=0;f<s.length;f++){const g=Yr(s[f]);tS(g)&&(a[g]=Ve)}else if(s)for(const f in s){const g=Yr(f);if(tS(g)){const m=s[f],v=a[g]=St(m)||$t(m)?{type:m}:Zn({},m);if(v){const E=iS(Boolean,v.type),b=iS(String,v.type);v[0]=E>-1,v[1]=b<0||E<b,(E>-1||oe(v,"default"))&&l.push(g)}}}const d=[a,l];return Me(e)&&i.set(e,d),d}function tS(e){return e[0]!=="$"&&!Oh(e)}function eS(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function nS(e,t){return eS(e)===eS(t)}function iS(e,t){return St(t)?t.findIndex(n=>nS(n,e)):$t(t)&&nS(t,e)?0:-1}const $2=e=>e[0]==="_"||e==="$stable",lw=e=>St(e)?e.map(kr):[kr(e)],H5=(e,t,n)=>{if(t._n)return t;const i=jr((...r)=>lw(t(...r)),n);return i._c=!1,i},j2=(e,t,n)=>{const i=e._ctx;for(const r in e){if($2(r))continue;const s=e[r];if($t(s))t[r]=H5(r,s,i);else if(s!=null){const a=lw(s);t[r]=()=>a}}},H2=(e,t)=>{const n=lw(t);e.slots.default=()=>n},z5=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=de(t),e2(e.slots,"_",n)):j2(t,e.slots=L0())}else e.slots=L0(),t&&H2(e,t)},W5=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,a=Ve;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(Zn(r,t),!n&&l===1&&delete r._):(s=!t.$stable,j2(t,r)),a=t}else t&&(H2(e,t),a={default:1});if(s)for(const l in r)!$2(l)&&a[l]==null&&delete r[l]};function V0(e,t,n,i,r=!1){if(St(e)){e.forEach((m,v)=>V0(m,t&&(St(t)?t[v]:t),n,i,r));return}if(Tg(i)&&!r)return;const s=i.shapeFlag&4?Km(i.component)||i.component.proxy:i.el,a=r?null:s,{i:l,r:u}=e,d=t&&t.r,f=l.refs===Ve?l.refs={}:l.refs,g=l.setupState;if(d!=null&&d!==u&&(Nn(d)?(f[d]=null,oe(g,d)&&(g[d]=null)):Ri(d)&&(d.value=null)),$t(u))xo(u,l,12,[a,f]);else{const m=Nn(u),v=Ri(u);if(m||v){const E=()=>{if(e.f){const b=m?oe(g,u)?g[u]:f[u]:u.value;r?St(b)&&Yb(b,s):St(b)?b.includes(s)||b.push(s):m?(f[u]=[s],oe(g,u)&&(g[u]=f[u])):(u.value=[s],e.k&&(f[e.k]=u.value))}else m?(f[u]=a,oe(g,u)&&(g[u]=a)):v&&(u.value=a,e.k&&(f[e.k]=a))};a?(E.id=-1,Ai(E,n)):E()}}}const Ai=y5;function q5(e){return K5(e)}function K5(e,t){const n=n2();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:a,createText:l,createComment:u,setText:d,setElementText:f,parentNode:g,nextSibling:m,setScopeId:v=Qi,insertStaticContent:E}=e,b=(S,P,O,j=null,U=null,et=null,ot=void 0,Z=null,nt=!!P.dynamicChildren)=>{if(S===P)return;S&&!rh(S,P)&&(j=B(S),Ce(S,U,et,!0),S=null),P.patchFlag===-2&&(nt=!1,P.dynamicChildren=null);const{type:K,ref:ct,shapeFlag:wt}=P;switch(K){case Wm:w(S,P,O,j);break;case ja:A(S,P,O,j);break;case Nv:S==null&&C(P,O,j,ot);break;case Lt:pt(S,P,O,j,U,et,ot,Z,nt);break;default:wt&1?D(S,P,O,j,U,et,ot,Z,nt):wt&6?Et(S,P,O,j,U,et,ot,Z,nt):(wt&64||wt&128)&&K.process(S,P,O,j,U,et,ot,Z,nt,_t)}ct!=null&&U&&V0(ct,S&&S.ref,et,P||S,!P)},w=(S,P,O,j)=>{if(S==null)i(P.el=l(P.children),O,j);else{const U=P.el=S.el;P.children!==S.children&&d(U,P.children)}},A=(S,P,O,j)=>{S==null?i(P.el=u(P.children||""),O,j):P.el=S.el},C=(S,P,O,j)=>{[S.el,S.anchor]=E(S.children,P,O,j,S.el,S.anchor)},k=({el:S,anchor:P},O,j)=>{let U;for(;S&&S!==P;)U=m(S),i(S,O,j),S=U;i(P,O,j)},R=({el:S,anchor:P})=>{let O;for(;S&&S!==P;)O=m(S),r(S),S=O;r(P)},D=(S,P,O,j,U,et,ot,Z,nt)=>{P.type==="svg"?ot="svg":P.type==="math"&&(ot="mathml"),S==null?M(P,O,j,U,et,ot,Z,nt):X(S,P,U,et,ot,Z,nt)},M=(S,P,O,j,U,et,ot,Z)=>{let nt,K;const{props:ct,shapeFlag:wt,transition:It,dirs:xt}=S;if(nt=S.el=a(S.type,et,ct&&ct.is,ct),wt&8?f(nt,S.children):wt&16&&V(S.children,nt,null,j,U,Ov(S,et),ot,Z),xt&&pa(S,null,j,"created"),N(nt,S,S.scopeId,ot,j),ct){for(const re in ct)re!=="value"&&!Oh(re)&&s(nt,re,null,ct[re],et,S.children,j,U,Pe);"value"in ct&&s(nt,"value",null,ct.value,et),(K=ct.onVnodeBeforeMount)&&Cr(K,j,S)}xt&&pa(S,null,j,"beforeMount");const zt=G5(U,It);zt&&It.beforeEnter(nt),i(nt,P,O),((K=ct&&ct.onVnodeMounted)||zt||xt)&&Ai(()=>{K&&Cr(K,j,S),zt&&It.enter(nt),xt&&pa(S,null,j,"mounted")},U)},N=(S,P,O,j,U)=>{if(O&&v(S,O),j)for(let et=0;et<j.length;et++)v(S,j[et]);if(U){let et=U.subTree;if(P===et){const ot=U.vnode;N(S,ot,ot.scopeId,ot.slotScopeIds,U.parent)}}},V=(S,P,O,j,U,et,ot,Z,nt=0)=>{for(let K=nt;K<S.length;K++){const ct=S[K]=Z?_o(S[K]):kr(S[K]);b(null,ct,P,O,j,U,et,ot,Z)}},X=(S,P,O,j,U,et,ot)=>{const Z=P.el=S.el;let{patchFlag:nt,dynamicChildren:K,dirs:ct}=P;nt|=S.patchFlag&16;const wt=S.props||Ve,It=P.props||Ve;let xt;if(O&&ga(O,!1),(xt=It.onVnodeBeforeUpdate)&&Cr(xt,O,P,S),ct&&pa(P,S,O,"beforeUpdate"),O&&ga(O,!0),K?at(S.dynamicChildren,K,Z,O,j,Ov(P,U),et):ot||Rt(S,P,Z,null,O,j,Ov(P,U),et,!1),nt>0){if(nt&16)J(Z,P,wt,It,O,j,U);else if(nt&2&&wt.class!==It.class&&s(Z,"class",null,It.class,U),nt&4&&s(Z,"style",wt.style,It.style,U),nt&8){const zt=P.dynamicProps;for(let re=0;re<zt.length;re++){const ce=zt[re],Re=wt[ce],bi=It[ce];(bi!==Re||ce==="value")&&s(Z,ce,Re,bi,U,S.children,O,j,Pe)}}nt&1&&S.children!==P.children&&f(Z,P.children)}else!ot&&K==null&&J(Z,P,wt,It,O,j,U);((xt=It.onVnodeUpdated)||ct)&&Ai(()=>{xt&&Cr(xt,O,P,S),ct&&pa(P,S,O,"updated")},j)},at=(S,P,O,j,U,et,ot)=>{for(let Z=0;Z<P.length;Z++){const nt=S[Z],K=P[Z],ct=nt.el&&(nt.type===Lt||!rh(nt,K)||nt.shapeFlag&70)?g(nt.el):O;b(nt,K,ct,null,j,U,et,ot,!0)}},J=(S,P,O,j,U,et,ot)=>{if(O!==j){if(O!==Ve)for(const Z in O)!Oh(Z)&&!(Z in j)&&s(S,Z,O[Z],null,ot,P.children,U,et,Pe);for(const Z in j){if(Oh(Z))continue;const nt=j[Z],K=O[Z];nt!==K&&Z!=="value"&&s(S,Z,K,nt,ot,P.children,U,et,Pe)}"value"in j&&s(S,"value",O.value,j.value,ot)}},pt=(S,P,O,j,U,et,ot,Z,nt)=>{const K=P.el=S?S.el:l(""),ct=P.anchor=S?S.anchor:l("");let{patchFlag:wt,dynamicChildren:It,slotScopeIds:xt}=P;xt&&(Z=Z?Z.concat(xt):xt),S==null?(i(K,O,j),i(ct,O,j),V(P.children||[],O,ct,U,et,ot,Z,nt)):wt>0&&wt&64&&It&&S.dynamicChildren?(at(S.dynamicChildren,It,O,U,et,ot,Z),(P.key!=null||U&&P===U.subTree)&&z2(S,P,!0)):Rt(S,P,O,ct,U,et,ot,Z,nt)},Et=(S,P,O,j,U,et,ot,Z,nt)=>{P.slotScopeIds=Z,S==null?P.shapeFlag&512?U.ctx.activate(P,O,j,ot,nt):Te(P,O,j,U,et,ot,nt):yt(S,P,nt)},Te=(S,P,O,j,U,et,ot)=>{const Z=S.component=i3(S,j,U);if(D2(S)&&(Z.ctx.renderer=_t),r3(Z),Z.asyncDep){if(U&&U.registerDep(Z,tt),!S.el){const nt=Z.subTree=lt(ja);A(null,nt,P,O)}}else tt(Z,S,P,O,U,et,ot)},yt=(S,P,O)=>{const j=P.component=S.component;if(d5(S,P,O))if(j.asyncDep&&!j.asyncResolved){dt(j,P,O);return}else j.next=P,o5(j.update),j.effect.dirty=!0,j.update();else P.el=S.el,j.vnode=P},tt=(S,P,O,j,U,et,ot)=>{const Z=()=>{if(S.isMounted){let{next:ct,bu:wt,u:It,parent:xt,vnode:zt}=S;{const Ws=W2(S);if(Ws){ct&&(ct.el=zt.el,dt(S,ct,ot)),Ws.asyncDep.then(()=>{S.isUnmounted||Z()});return}}let re=ct,ce;ga(S,!1),ct?(ct.el=zt.el,dt(S,ct,ot)):ct=zt,wt&&Eg(wt),(ce=ct.props&&ct.props.onVnodeBeforeUpdate)&&Cr(ce,xt,ct,zt),ga(S,!0);const Re=Dv(S),bi=S.subTree;S.subTree=Re,b(bi,Re,g(bi.el),B(bi),S,U,et),ct.el=Re.el,re===null&&f5(S,Re.el),It&&Ai(It,U),(ce=ct.props&&ct.props.onVnodeUpdated)&&Ai(()=>Cr(ce,xt,ct,zt),U)}else{let ct;const{el:wt,props:It}=P,{bm:xt,m:zt,parent:re}=S,ce=Tg(P);if(ga(S,!1),xt&&Eg(xt),!ce&&(ct=It&&It.onVnodeBeforeMount)&&Cr(ct,re,P),ga(S,!0),wt&&Se){const Re=()=>{S.subTree=Dv(S),Se(wt,S.subTree,S,U,null)};ce?P.type.__asyncLoader().then(()=>!S.isUnmounted&&Re()):Re()}else{const Re=S.subTree=Dv(S);b(null,Re,O,j,S,U,et),P.el=Re.el}if(zt&&Ai(zt,U),!ce&&(ct=It&&It.onVnodeMounted)){const Re=P;Ai(()=>Cr(ct,re,Re),U)}(P.shapeFlag&256||re&&Tg(re.vnode)&&re.vnode.shapeFlag&256)&&S.a&&Ai(S.a,U),S.isMounted=!0,P=O=j=null}},nt=S.effect=new Jb(Z,Qi,()=>aw(K),S.scope),K=S.update=()=>{nt.dirty&&nt.run()};K.id=S.uid,ga(S,!0),K()},dt=(S,P,O)=>{P.component=S;const j=S.vnode.props;S.vnode=P,S.next=null,j5(S,P.props,j,O),W5(S,P.children,O),Ho(),KC(S),zo()},Rt=(S,P,O,j,U,et,ot,Z,nt=!1)=>{const K=S&&S.children,ct=S?S.shapeFlag:0,wt=P.children,{patchFlag:It,shapeFlag:xt}=P;if(It>0){if(It&128){Ne(K,wt,O,j,U,et,ot,Z,nt);return}else if(It&256){pe(K,wt,O,j,U,et,ot,Z,nt);return}}xt&8?(ct&16&&Pe(K,U,et),wt!==K&&f(O,wt)):ct&16?xt&16?Ne(K,wt,O,j,U,et,ot,Z,nt):Pe(K,U,et,!0):(ct&8&&f(O,""),xt&16&&V(wt,O,j,U,et,ot,Z,nt))},pe=(S,P,O,j,U,et,ot,Z,nt)=>{S=S||ol,P=P||ol;const K=S.length,ct=P.length,wt=Math.min(K,ct);let It;for(It=0;It<wt;It++){const xt=P[It]=nt?_o(P[It]):kr(P[It]);b(S[It],xt,O,null,U,et,ot,Z,nt)}K>ct?Pe(S,U,et,!0,!1,wt):V(P,O,j,U,et,ot,Z,nt,wt)},Ne=(S,P,O,j,U,et,ot,Z,nt)=>{let K=0;const ct=P.length;let wt=S.length-1,It=ct-1;for(;K<=wt&&K<=It;){const xt=S[K],zt=P[K]=nt?_o(P[K]):kr(P[K]);if(rh(xt,zt))b(xt,zt,O,null,U,et,ot,Z,nt);else break;K++}for(;K<=wt&&K<=It;){const xt=S[wt],zt=P[It]=nt?_o(P[It]):kr(P[It]);if(rh(xt,zt))b(xt,zt,O,null,U,et,ot,Z,nt);else break;wt--,It--}if(K>wt){if(K<=It){const xt=It+1,zt=xt<ct?P[xt].el:j;for(;K<=It;)b(null,P[K]=nt?_o(P[K]):kr(P[K]),O,zt,U,et,ot,Z,nt),K++}}else if(K>It)for(;K<=wt;)Ce(S[K],U,et,!0),K++;else{const xt=K,zt=K,re=new Map;for(K=zt;K<=It;K++){const pn=P[K]=nt?_o(P[K]):kr(P[K]);pn.key!=null&&re.set(pn.key,K)}let ce,Re=0;const bi=It-zt+1;let Ws=!1,Tf=0;const br=new Array(bi);for(K=0;K<bi;K++)br[K]=0;for(K=xt;K<=wt;K++){const pn=S[K];if(Re>=bi){Ce(pn,U,et,!0);continue}let qi;if(pn.key!=null)qi=re.get(pn.key);else for(ce=zt;ce<=It;ce++)if(br[ce-zt]===0&&rh(pn,P[ce])){qi=ce;break}qi===void 0?Ce(pn,U,et,!0):(br[qi-zt]=K+1,qi>=Tf?Tf=qi:Ws=!0,b(pn,P[qi],O,null,U,et,ot,Z,nt),Re++)}const Xo=Ws?Y5(br):ol;for(ce=Xo.length-1,K=bi-1;K>=0;K--){const pn=zt+K,qi=P[pn],Cf=pn+1<ct?P[pn+1].el:j;br[K]===0?b(null,qi,O,Cf,U,et,ot,Z,nt):Ws&&(ce<0||K!==Xo[ce]?Ln(qi,O,Cf,2):ce--)}}},Ln=(S,P,O,j,U=null)=>{const{el:et,type:ot,transition:Z,children:nt,shapeFlag:K}=S;if(K&6){Ln(S.component.subTree,P,O,j);return}if(K&128){S.suspense.move(P,O,j);return}if(K&64){ot.move(S,P,O,_t);return}if(ot===Lt){i(et,P,O);for(let wt=0;wt<nt.length;wt++)Ln(nt[wt],P,O,j);i(S.anchor,P,O);return}if(ot===Nv){k(S,P,O);return}if(j!==2&&K&1&&Z)if(j===0)Z.beforeEnter(et),i(et,P,O),Ai(()=>Z.enter(et),U);else{const{leave:wt,delayLeave:It,afterLeave:xt}=Z,zt=()=>i(et,P,O),re=()=>{wt(et,()=>{zt(),xt&&xt()})};It?It(et,zt,re):re()}else i(et,P,O)},Ce=(S,P,O,j=!1,U=!1)=>{const{type:et,props:ot,ref:Z,children:nt,dynamicChildren:K,shapeFlag:ct,patchFlag:wt,dirs:It}=S;if(Z!=null&&V0(Z,null,O,S,!0),ct&256){P.ctx.deactivate(S);return}const xt=ct&1&&It,zt=!Tg(S);let re;if(zt&&(re=ot&&ot.onVnodeBeforeUnmount)&&Cr(re,P,S),ct&6)Wi(S.component,O,j);else{if(ct&128){S.suspense.unmount(O,j);return}xt&&pa(S,null,P,"beforeUnmount"),ct&64?S.type.remove(S,P,O,U,_t,j):K&&(et!==Lt||wt>0&&wt&64)?Pe(K,P,O,!1,!0):(et===Lt&&wt&384||!U&&ct&16)&&Pe(nt,P,O),j&&vi(S)}(zt&&(re=ot&&ot.onVnodeUnmounted)||xt)&&Ai(()=>{re&&Cr(re,P,S),xt&&pa(S,null,P,"unmounted")},O)},vi=S=>{const{type:P,el:O,anchor:j,transition:U}=S;if(P===Lt){ei(O,j);return}if(P===Nv){R(S);return}const et=()=>{r(O),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(S.shapeFlag&1&&U&&!U.persisted){const{leave:ot,delayLeave:Z}=U,nt=()=>ot(O,et);Z?Z(S.el,et,nt):nt()}else et()},ei=(S,P)=>{let O;for(;S!==P;)O=m(S),r(S),S=O;r(P)},Wi=(S,P,O)=>{const{bum:j,scope:U,update:et,subTree:ot,um:Z}=S;j&&Eg(j),U.stop(),et&&(et.active=!1,Ce(ot,S,P,O)),Z&&Ai(Z,P),Ai(()=>{S.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},Pe=(S,P,O,j=!1,U=!1,et=0)=>{for(let ot=et;ot<S.length;ot++)Ce(S[ot],P,O,j,U)},B=S=>S.shapeFlag&6?B(S.component.subTree):S.shapeFlag&128?S.suspense.next():m(S.anchor||S.el);let ut=!1;const it=(S,P,O)=>{S==null?P._vnode&&Ce(P._vnode,null,null,!0):b(P._vnode||null,S,P,null,null,null,O),ut||(ut=!0,KC(),T2(),ut=!1),P._vnode=S},_t={p:b,um:Ce,m:Ln,r:vi,mt:Te,mc:V,pc:Rt,pbc:at,n:B,o:e};let ae,Se;return t&&([ae,Se]=t(_t)),{render:it,hydrate:ae,createApp:U5(it,ae)}}function Ov({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ga({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function G5(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function z2(e,t,n=!1){const i=e.children,r=t.children;if(St(i)&&St(r))for(let s=0;s<i.length;s++){const a=i[s];let l=r[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[s]=_o(r[s]),l.el=a.el),n||z2(a,l)),l.type===Wm&&(l.el=a.el)}}function Y5(e){const t=e.slice(),n=[0];let i,r,s,a,l;const u=e.length;for(i=0;i<u;i++){const d=e[i];if(d!==0){if(r=n[n.length-1],e[r]<d){t[i]=r,n.push(i);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<d?s=l+1:a=l;d<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function W2(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:W2(t)}const Q5=e=>e.__isTeleport,Lt=Symbol.for("v-fgt"),Wm=Symbol.for("v-txt"),ja=Symbol.for("v-cmt"),Nv=Symbol.for("v-stc"),Vh=[];let hr=null;function H(e=!1){Vh.push(hr=e?null:[])}function X5(){Vh.pop(),hr=Vh[Vh.length-1]||null}let ld=1;function rS(e){ld+=e}function q2(e){return e.dynamicChildren=ld>0?hr||ol:null,X5(),ld>0&&hr&&hr.push(e),e}function G(e,t,n,i,r,s){return q2(T(e,t,n,i,r,s,!0))}function tr(e,t,n,i,r){return q2(lt(e,t,n,i,r,!0))}function B0(e){return e?e.__v_isVNode===!0:!1}function rh(e,t){return e.type===t.type&&e.key===t.key}const K2=({key:e})=>e??null,Sg=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Nn(e)||Ri(e)||$t(e)?{i:xi,r:e,k:t,f:!!n}:e:null);function T(e,t=null,n=null,i=0,r=null,s=e===Lt?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&K2(t),ref:t&&Sg(t),scopeId:Hm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:xi};return l?(uw(u,n),s&128&&e.normalize(u)):n&&(u.shapeFlag|=Nn(n)?8:16),ld>0&&!a&&hr&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&hr.push(u),u}const lt=J5;function J5(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===p5)&&(e=ja),B0(e)){const l=bl(e,t,!0);return n&&uw(l,n),ld>0&&!s&&hr&&(l.shapeFlag&6?hr[hr.indexOf(e)]=l:hr.push(l)),l.patchFlag|=-2,l}if(l3(e)&&(e=e.__vccOpts),t){t=Z5(t);let{class:l,style:u}=t;l&&!Nn(l)&&(t.class=vl(l)),Me(u)&&(_2(u)&&!St(u)&&(u=Zn({},u)),t.style=Xb(u))}const a=Nn(e)?1:m5(e)?128:Q5(e)?64:Me(e)?4:$t(e)?2:0;return T(e,t,n,i,r,a,s,!0)}function Z5(e){return e?_2(e)||V2(e)?Zn({},e):e:null}function bl(e,t,n=!1){const{props:i,ref:r,patchFlag:s,children:a}=e,l=t?t3(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&K2(l),ref:t&&t.ref?n&&r?St(r)?r.concat(Sg(t)):[r,Sg(t)]:Sg(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Lt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&bl(e.ssContent),ssFallback:e.ssFallback&&bl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function te(e=" ",t=0){return lt(Wm,null,e,t)}function Ee(e="",t=!1){return t?(H(),tr(ja,null,e)):lt(ja,null,e)}function kr(e){return e==null||typeof e=="boolean"?lt(ja):St(e)?lt(Lt,null,e.slice()):typeof e=="object"?_o(e):lt(Wm,null,String(e))}function _o(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:bl(e)}function uw(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(St(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),uw(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!V2(t)?t._ctx=xi:r===3&&xi&&(xi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else $t(t)?(t={default:t,_ctx:xi},n=32):(t=String(t),i&64?(n=16,t=[te(t)]):n=8);e.children=t,e.shapeFlag|=n}function t3(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=vl([t.class,i.class]));else if(r==="style")t.style=Xb([t.style,i.style]);else if(Om(r)){const s=t[r],a=i[r];a&&s!==a&&!(St(s)&&s.includes(a))&&(t[r]=s?[].concat(s,a):a)}else r!==""&&(t[r]=i[r])}return t}function Cr(e,t,n,i=null){fr(e,t,7,[n,i])}const e3=L2();let n3=0;function i3(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||e3,s={uid:n3++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new P4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:U2(i,r),emitsOptions:S2(i,r),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:i.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=l5.bind(null,s),e.ce&&e.ce(s),s}let ai=null,Jg,U0;{const e=n2(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),s=>{r.length>1?r.forEach(a=>a(s)):r[0](s)}};Jg=t("__VUE_INSTANCE_SETTERS__",n=>ai=n),U0=t("__VUE_SSR_SETTERS__",n=>qm=n)}const Hd=e=>{const t=ai;return Jg(e),e.scope.on(),()=>{e.scope.off(),Jg(t)}},sS=()=>{ai&&ai.scope.off(),Jg(null)};function G2(e){return e.vnode.shapeFlag&4}let qm=!1;function r3(e,t=!1){t&&U0(t);const{props:n,children:i}=e.vnode,r=G2(e);$5(e,n,r,t),z5(e,i);const s=r?s3(e,t):void 0;return t&&U0(!1),s}function s3(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,M5);const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?a3(e):null,s=Hd(e);Ho();const a=xo(i,e,0,[e.props,r]);if(zo(),s(),JP(a)){if(a.then(sS,sS),t)return a.then(l=>{oS(e,l,t)}).catch(l=>{$m(l,e,0)});e.asyncDep=a}else oS(e,a,t)}else Y2(e,t)}function oS(e,t,n){$t(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=E2(t)),Y2(e,n)}let aS;function Y2(e,t,n){const i=e.type;if(!e.render){if(!t&&aS&&!i.render){const r=i.template||cw(e).template;if(r){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:u}=i,d=Zn(Zn({isCustomElement:s,delimiters:l},a),u);i.render=aS(r,d)}}e.render=i.render||Qi}{const r=Hd(e);Ho();try{O5(e)}finally{zo(),r()}}}const o3={get(e,t){return Pi(e,"get",""),e[t]}};function a3(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,o3),slots:e.slots,emit:e.emit,expose:t}}function Km(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(E2(J4(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Lh)return Lh[n](e)},has(t,n){return n in t||n in Lh}}))}function c3(e,t=!0){return $t(e)?e.displayName||e.name:e.name||t&&e.__name}function l3(e){return $t(e)&&"__vccOpts"in e}const ur=(e,t)=>Z4(e,t,qm);function hw(e,t,n){const i=arguments.length;return i===2?Me(t)&&!St(t)?B0(t)?lt(e,null,[t]):lt(e,t):lt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&B0(n)&&(n=[n]),lt(e,t,n))}const u3="3.4.23";/**
* @vue/runtime-dom v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const h3="http://www.w3.org/2000/svg",d3="http://www.w3.org/1998/Math/MathML",vo=typeof document<"u"?document:null,cS=vo&&vo.createElement("template"),f3={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?vo.createElementNS(h3,e):t==="mathml"?vo.createElementNS(d3,e):vo.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>vo.createTextNode(e),createComment:e=>vo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const a=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{cS.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const l=cS.content;if(i==="svg"||i==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},p3=Symbol("_vtc");function g3(e,t,n){const i=e[p3];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Zg=Symbol("_vod"),Q2=Symbol("_vsh"),lS={beforeMount(e,{value:t},{transition:n}){e[Zg]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):sh(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),sh(e,!0),i.enter(e)):i.leave(e,()=>{sh(e,!1)}):sh(e,t))},beforeUnmount(e,{value:t}){sh(e,t)}};function sh(e,t){e.style.display=t?e[Zg]:"none",e[Q2]=!t}const m3=Symbol(""),y3=/(^|;)\s*display\s*:/;function _3(e,t,n){const i=e.style,r=Nn(n);let s=!1;if(n&&!r){if(t)if(Nn(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&xg(i,l,"")}else for(const a in t)n[a]==null&&xg(i,a,"");for(const a in n)a==="display"&&(s=!0),xg(i,a,n[a])}else if(r){if(t!==n){const a=i[m3];a&&(n+=";"+a),i.cssText=n,s=y3.test(n)}}else t&&e.removeAttribute("style");Zg in e&&(e[Zg]=s?i.display:"",e[Q2]&&(i.display="none"))}const uS=/\s*!important$/;function xg(e,t,n){if(St(n))n.forEach(i=>xg(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=v3(e,t);uS.test(n)?e.setProperty(Za(i),n.replace(uS,""),"important"):e[i]=n}}const hS=["Webkit","Moz","ms"],Lv={};function v3(e,t){const n=Lv[t];if(n)return n;let i=Yr(t);if(i!=="filter"&&i in e)return Lv[t]=i;i=Fm(i);for(let r=0;r<hS.length;r++){const s=hS[r]+i;if(s in e)return Lv[t]=s}return t}const dS="http://www.w3.org/1999/xlink";function b3(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(dS,t.slice(6,t.length)):e.setAttributeNS(dS,t,n);else{const s=S4(t);n==null||s&&!i2(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function w3(e,t,n,i,r,s,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,r,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const d=l==="OPTION"?e.getAttribute("value")||"":e.value,f=n??"";(d!==f||!("_value"in e))&&(e.value=f),n==null&&e.removeAttribute(t),e._value=n;return}let u=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=i2(n):n==null&&d==="string"?(n="",u=!0):d==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function Ta(e,t,n,i){e.addEventListener(t,n,i)}function E3(e,t,n,i){e.removeEventListener(t,n,i)}const fS=Symbol("_vei");function I3(e,t,n,i,r=null){const s=e[fS]||(e[fS]={}),a=s[t];if(i&&a)a.value=i;else{const[l,u]=A3(t);if(i){const d=s[t]=S3(i,r);Ta(e,l,d,u)}else a&&(E3(e,l,a,u),s[t]=void 0)}}const pS=/(?:Once|Passive|Capture)$/;function A3(e){let t;if(pS.test(e)){t={};let i;for(;i=e.match(pS);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Za(e.slice(2)),t]}let Fv=0;const T3=Promise.resolve(),C3=()=>Fv||(T3.then(()=>Fv=0),Fv=Date.now());function S3(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;fr(x3(i,n.value),t,5,[i])};return n.value=e,n.attached=C3(),n}function x3(e,t){if(St(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const gS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,k3=(e,t,n,i,r,s,a,l,u)=>{const d=r==="svg";t==="class"?g3(e,i,d):t==="style"?_3(e,n,i):Om(t)?Gb(t)||I3(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):P3(e,t,i,d))?w3(e,t,i,s,a,l,u):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),b3(e,t,i,d))};function P3(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&gS(t)&&$t(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return gS(t)&&Nn(n)?!1:t in e}const tm=e=>{const t=e.props["onUpdate:modelValue"]||!1;return St(t)?n=>Eg(t,n):t};function R3(e){e.target.composing=!0}function mS(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ul=Symbol("_assign"),Ds={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[ul]=tm(r);const s=i||r.props&&r.props.type==="number";Ta(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=Gg(l)),e[ul](l)}),n&&Ta(e,"change",()=>{e.value=e.value.trim()}),t||(Ta(e,"compositionstart",R3),Ta(e,"compositionend",mS),Ta(e,"change",mS))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},s){if(e[ul]=tm(s),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Gg(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===l)||(e.value=l))}},Xi={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=Nm(t);Ta(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Gg(em(a)):em(a));e[ul](e.multiple?r?new Set(s):s:s[0]),e._assigning=!0,ow(()=>{e._assigning=!1})}),e[ul]=tm(i)},mounted(e,{value:t,modifiers:{number:n}}){yS(e,t)},beforeUpdate(e,t,n){e[ul]=tm(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||yS(e,t)}};function yS(e,t,n){const i=e.multiple,r=St(t);if(!(i&&!r&&!Nm(t))){for(let s=0,a=e.options.length;s<a;s++){const l=e.options[s],u=em(l);if(i)if(r){const d=typeof u;d==="string"||d==="number"?l.selected=t.some(f=>String(f)===String(u)):l.selected=k4(t,u)>-1}else l.selected=t.has(u);else if(Vm(em(l),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function em(e){return"_value"in e?e._value:e.value}const D3=["ctrl","shift","alt","meta"],M3={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>D3.some(n=>e[`${n}Key`]&&!t.includes(n))},dw=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...s)=>{for(let a=0;a<t.length;a++){const l=M3[t[a]];if(l&&l(r,t))return}return e(r,...s)})},O3={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},N3=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const s=Za(r.key);if(t.some(a=>a===s||O3[a]===s))return e(r)})},L3=Zn({patchProp:k3},f3);let _S;function F3(){return _S||(_S=q5(L3))}const V3=(...e)=>{const t=F3().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=U3(i);if(!r)return;const s=t._component;!$t(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,B3(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function B3(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function U3(e){return Nn(e)?document.querySelector(e):e}const Vt=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},$3={name:"App"};function j3(e,t,n,i,r,s){const a=mt("router-view");return H(),tr(a)}const H3=Vt($3,[["render",j3]]);/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Zc=typeof document<"u";function z3(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const be=Object.assign;function Vv(e,t){const n={};for(const i in t){const r=t[i];n[i]=gr(r)?r.map(e):e(r)}return n}const Bh=()=>{},gr=Array.isArray,X2=/#/g,W3=/&/g,q3=/\//g,K3=/=/g,G3=/\?/g,J2=/\+/g,Y3=/%5B/g,Q3=/%5D/g,Z2=/%5E/g,X3=/%60/g,tR=/%7B/g,J3=/%7C/g,eR=/%7D/g,Z3=/%20/g;function fw(e){return encodeURI(""+e).replace(J3,"|").replace(Y3,"[").replace(Q3,"]")}function t9(e){return fw(e).replace(tR,"{").replace(eR,"}").replace(Z2,"^")}function $0(e){return fw(e).replace(J2,"%2B").replace(Z3,"+").replace(X2,"%23").replace(W3,"%26").replace(X3,"`").replace(tR,"{").replace(eR,"}").replace(Z2,"^")}function e9(e){return $0(e).replace(K3,"%3D")}function n9(e){return fw(e).replace(X2,"%23").replace(G3,"%3F")}function i9(e){return e==null?"":n9(e).replace(q3,"%2F")}function ud(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const r9=/\/$/,s9=e=>e.replace(r9,"");function Bv(e,t,n="/"){let i,r={},s="",a="";const l=t.indexOf("#");let u=t.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(i=t.slice(0,u),s=t.slice(u+1,l>-1?l:t.length),r=e(s)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=l9(i??t,n),{fullPath:i+(s&&"?")+s+a,path:i,query:r,hash:ud(a)}}function o9(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function vS(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function a9(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&wl(t.matched[i],n.matched[r])&&nR(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function wl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function nR(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!c9(e[n],t[n]))return!1;return!0}function c9(e,t){return gr(e)?bS(e,t):gr(t)?bS(t,e):e===t}function bS(e,t){return gr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function l9(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(a).join("/")}var hd;(function(e){e.pop="pop",e.push="push"})(hd||(hd={}));var Uh;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Uh||(Uh={}));function u9(e){if(!e)if(Zc){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),s9(e)}const h9=/^[^#]+#/;function d9(e,t){return e.replace(h9,"#")+t}function f9(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Gm=()=>({left:window.scrollX,top:window.scrollY});function p9(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=f9(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function wS(e,t){return(history.state?history.state.position-t:-1)+e}const j0=new Map;function g9(e,t){j0.set(e,t)}function m9(e){const t=j0.get(e);return j0.delete(e),t}let y9=()=>location.protocol+"//"+location.host;function iR(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let l=r.includes(e.slice(s))?e.slice(s).length:1,u=r.slice(l);return u[0]!=="/"&&(u="/"+u),vS(u,"")}return vS(n,e)+i+r}function _9(e,t,n,i){let r=[],s=[],a=null;const l=({state:m})=>{const v=iR(e,location),E=n.value,b=t.value;let w=0;if(m){if(n.value=v,t.value=m,a&&a===E){a=null;return}w=b?m.position-b.position:0}else i(v);r.forEach(A=>{A(n.value,E,{delta:w,type:hd.pop,direction:w?w>0?Uh.forward:Uh.back:Uh.unknown})})};function u(){a=n.value}function d(m){r.push(m);const v=()=>{const E=r.indexOf(m);E>-1&&r.splice(E,1)};return s.push(v),v}function f(){const{history:m}=window;m.state&&m.replaceState(be({},m.state,{scroll:Gm()}),"")}function g(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:d,destroy:g}}function ES(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?Gm():null}}function v9(e){const{history:t,location:n}=window,i={value:iR(e,n)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(u,d,f){const g=e.indexOf("#"),m=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+u:y9()+e+u;try{t[f?"replaceState":"pushState"](d,"",m),r.value=d}catch(v){console.error(v),n[f?"replace":"assign"](m)}}function a(u,d){const f=be({},t.state,ES(r.value.back,u,r.value.forward,!0),d,{position:r.value.position});s(u,f,!0),i.value=u}function l(u,d){const f=be({},r.value,t.state,{forward:u,scroll:Gm()});s(f.current,f,!0);const g=be({},ES(i.value,u,null),{position:f.position+1},d);s(u,g,!1),i.value=u}return{location:i,state:r,push:l,replace:a}}function b9(e){e=u9(e);const t=v9(e),n=_9(e,t.state,t.location,t.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const r=be({location:"",base:e,go:i,createHref:d9.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function w9(e){return typeof e=="string"||e&&typeof e=="object"}function rR(e){return typeof e=="string"||typeof e=="symbol"}const uo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},sR=Symbol("");var IS;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(IS||(IS={}));function El(e,t){return be(new Error,{type:e,[sR]:!0},t)}function fs(e,t){return e instanceof Error&&sR in e&&(t==null||!!(e.type&t))}const AS="[^/]+?",E9={sensitive:!1,strict:!1,start:!0,end:!0},I9=/[.+*?^${}()[\]/\\]/g;function A9(e,t){const n=be({},E9,t),i=[];let r=n.start?"^":"";const s=[];for(const d of e){const f=d.length?[]:[90];n.strict&&!d.length&&(r+="/");for(let g=0;g<d.length;g++){const m=d[g];let v=40+(n.sensitive?.25:0);if(m.type===0)g||(r+="/"),r+=m.value.replace(I9,"\\$&"),v+=40;else if(m.type===1){const{value:E,repeatable:b,optional:w,regexp:A}=m;s.push({name:E,repeatable:b,optional:w});const C=A||AS;if(C!==AS){v+=10;try{new RegExp(`(${C})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${E}" (${C}): `+R.message)}}let k=b?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;g||(k=w&&d.length<2?`(?:/${k})`:"/"+k),w&&(k+="?"),r+=k,v+=20,w&&(v+=-8),b&&(v+=-20),C===".*"&&(v+=-50)}f.push(v)}i.push(f)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function l(d){const f=d.match(a),g={};if(!f)return null;for(let m=1;m<f.length;m++){const v=f[m]||"",E=s[m-1];g[E.name]=v&&E.repeatable?v.split("/"):v}return g}function u(d){let f="",g=!1;for(const m of e){(!g||!f.endsWith("/"))&&(f+="/"),g=!1;for(const v of m)if(v.type===0)f+=v.value;else if(v.type===1){const{value:E,repeatable:b,optional:w}=v,A=E in d?d[E]:"";if(gr(A)&&!b)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const C=gr(A)?A.join("/"):A;if(!C)if(w)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):g=!0);else throw new Error(`Missing required param "${E}"`);f+=C}}return f||"/"}return{re:a,score:i,keys:s,parse:l,stringify:u}}function T9(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function C9(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=T9(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(TS(i))return 1;if(TS(r))return-1}return r.length-i.length}function TS(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const S9={type:0,value:""},x9=/[a-zA-Z0-9_]/;function k9(e){if(!e)return[[]];if(e==="/")return[[S9]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,i=n;const r=[];let s;function a(){s&&r.push(s),s=[]}let l=0,u,d="",f="";function g(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),d="")}function m(){d+=u}for(;l<e.length;){if(u=e[l++],u==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:u==="/"?(d&&g(),a()):u===":"?(g(),n=1):m();break;case 4:m(),n=i;break;case 1:u==="("?n=2:x9.test(u)?m():(g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:n=3:f+=u;break;case 3:g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),g(),a(),r}function P9(e,t,n){const i=A9(k9(e.path),n),r=be(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function R9(e,t){const n=[],i=new Map;t=xS({strict:!1,end:!0,sensitive:!1},t);function r(f){return i.get(f)}function s(f,g,m){const v=!m,E=D9(f);E.aliasOf=m&&m.record;const b=xS(t,f),w=[E];if("alias"in f){const k=typeof f.alias=="string"?[f.alias]:f.alias;for(const R of k)w.push(be({},E,{components:m?m.record.components:E.components,path:R,aliasOf:m?m.record:E}))}let A,C;for(const k of w){const{path:R}=k;if(g&&R[0]!=="/"){const D=g.record.path,M=D[D.length-1]==="/"?"":"/";k.path=g.record.path+(R&&M+R)}if(A=P9(k,g,b),m?m.alias.push(A):(C=C||A,C!==A&&C.alias.push(A),v&&f.name&&!SS(A)&&a(f.name)),E.children){const D=E.children;for(let M=0;M<D.length;M++)s(D[M],A,m&&m.children[M])}m=m||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&u(A)}return C?()=>{a(C)}:Bh}function a(f){if(rR(f)){const g=i.get(f);g&&(i.delete(f),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(f);g>-1&&(n.splice(g,1),f.record.name&&i.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return n}function u(f){let g=0;for(;g<n.length&&C9(f,n[g])>=0&&(f.record.path!==n[g].record.path||!oR(f,n[g]));)g++;n.splice(g,0,f),f.record.name&&!SS(f)&&i.set(f.record.name,f)}function d(f,g){let m,v={},E,b;if("name"in f&&f.name){if(m=i.get(f.name),!m)throw El(1,{location:f});b=m.record.name,v=be(CS(g.params,m.keys.filter(C=>!C.optional).concat(m.parent?m.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),f.params&&CS(f.params,m.keys.map(C=>C.name))),E=m.stringify(v)}else if(f.path!=null)E=f.path,m=n.find(C=>C.re.test(E)),m&&(v=m.parse(E),b=m.record.name);else{if(m=g.name?i.get(g.name):n.find(C=>C.re.test(g.path)),!m)throw El(1,{location:f,currentLocation:g});b=m.record.name,v=be({},g.params,f.params),E=m.stringify(v)}const w=[];let A=m;for(;A;)w.unshift(A.record),A=A.parent;return{name:b,path:E,params:v,matched:w,meta:O9(w)}}return e.forEach(f=>s(f)),{addRoute:s,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:r}}function CS(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function D9(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:M9(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function M9(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function SS(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function O9(e){return e.reduce((t,n)=>be(t,n.meta),{})}function xS(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function oR(e,t){return t.children.some(n=>n===e||oR(e,n))}function N9(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(J2," "),a=s.indexOf("="),l=ud(a<0?s:s.slice(0,a)),u=a<0?null:ud(s.slice(a+1));if(l in t){let d=t[l];gr(d)||(d=t[l]=[d]),d.push(u)}else t[l]=u}return t}function kS(e){let t="";for(let n in e){const i=e[n];if(n=e9(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(gr(i)?i.map(s=>s&&$0(s)):[i&&$0(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function L9(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=gr(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const F9=Symbol(""),PS=Symbol(""),pw=Symbol(""),aR=Symbol(""),H0=Symbol("");function oh(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function bo(e,t,n,i,r,s=a=>a()){const a=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((l,u)=>{const d=m=>{m===!1?u(El(4,{from:n,to:t})):m instanceof Error?u(m):w9(m)?u(El(2,{from:t,to:m})):(a&&i.enterCallbacks[r]===a&&typeof m=="function"&&a.push(m),l())},f=s(()=>e.call(i&&i.instances[r],t,n,d));let g=Promise.resolve(f);e.length<3&&(g=g.then(d)),g.catch(m=>u(m))})}function Uv(e,t,n,i,r=s=>s()){const s=[];for(const a of e)for(const l in a.components){let u=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(V9(u)){const f=(u.__vccOpts||u)[t];f&&s.push(bo(f,n,i,a,l,r))}else{let d=u();s.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${a.path}"`));const g=z3(f)?f.default:f;a.components[l]=g;const v=(g.__vccOpts||g)[t];return v&&bo(v,n,i,a,l,r)()}))}}return s}function V9(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function RS(e){const t=xs(pw),n=xs(aR),i=ur(()=>{const u=cl(e.to);return t.resolve(u)}),r=ur(()=>{const{matched:u}=i.value,{length:d}=u,f=u[d-1],g=n.matched;if(!f||!g.length)return-1;const m=g.findIndex(wl.bind(null,f));if(m>-1)return m;const v=DS(u[d-2]);return d>1&&DS(f)===v&&g[g.length-1].path!==v?g.findIndex(wl.bind(null,u[d-2])):m}),s=ur(()=>r.value>-1&&j9(n.params,i.value.params)),a=ur(()=>r.value>-1&&r.value===n.matched.length-1&&nR(n.params,i.value.params));function l(u={}){return $9(u)?t[cl(e.replace)?"replace":"push"](cl(e.to)).catch(Bh):Promise.resolve()}return{route:i,href:ur(()=>i.value.href),isActive:s,isExactActive:a,navigate:l}}const B9=R2({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:RS,setup(e,{slots:t}){const n=Um(RS(e)),{options:i}=xs(pw),r=ur(()=>({[MS(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[MS(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:hw("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),U9=B9;function $9(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function j9(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!gr(r)||r.length!==i.length||i.some((s,a)=>s!==r[a]))return!1}return!0}function DS(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const MS=(e,t,n)=>e??t??n,H9=R2({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=xs(H0),r=ur(()=>e.route||i.value),s=xs(PS,0),a=ur(()=>{let d=cl(s);const{matched:f}=r.value;let g;for(;(g=f[d])&&!g.components;)d++;return d}),l=ur(()=>r.value.matched[a.value]);Cg(PS,ur(()=>a.value+1)),Cg(F9,l),Cg(H0,r);const u=t5();return Ag(()=>[u.value,l.value,e.name],([d,f,g],[m,v,E])=>{f&&(f.instances[g]=d,v&&v!==f&&d&&d===m&&(f.leaveGuards.size||(f.leaveGuards=v.leaveGuards),f.updateGuards.size||(f.updateGuards=v.updateGuards))),d&&f&&(!v||!wl(f,v)||!m)&&(f.enterCallbacks[g]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=r.value,f=e.name,g=l.value,m=g&&g.components[f];if(!m)return OS(n.default,{Component:m,route:d});const v=g.props[f],E=v?v===!0?d.params:typeof v=="function"?v(d):v:null,w=hw(m,be({},E,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(g.instances[f]=null)},ref:u}));return OS(n.default,{Component:w,route:d})||w}}});function OS(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const z9=H9;function W9(e){const t=R9(e.routes,e),n=e.parseQuery||N9,i=e.stringifyQuery||kS,r=e.history,s=oh(),a=oh(),l=oh(),u=e5(uo);let d=uo;Zc&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Vv.bind(null,B=>""+B),g=Vv.bind(null,i9),m=Vv.bind(null,ud);function v(B,ut){let it,_t;return rR(B)?(it=t.getRecordMatcher(B),_t=ut):_t=B,t.addRoute(_t,it)}function E(B){const ut=t.getRecordMatcher(B);ut&&t.removeRoute(ut)}function b(){return t.getRoutes().map(B=>B.record)}function w(B){return!!t.getRecordMatcher(B)}function A(B,ut){if(ut=be({},ut||u.value),typeof B=="string"){const P=Bv(n,B,ut.path),O=t.resolve({path:P.path},ut),j=r.createHref(P.fullPath);return be(P,O,{params:m(O.params),hash:ud(P.hash),redirectedFrom:void 0,href:j})}let it;if(B.path!=null)it=be({},B,{path:Bv(n,B.path,ut.path).path});else{const P=be({},B.params);for(const O in P)P[O]==null&&delete P[O];it=be({},B,{params:g(P)}),ut.params=g(ut.params)}const _t=t.resolve(it,ut),ae=B.hash||"";_t.params=f(m(_t.params));const Se=o9(i,be({},B,{hash:t9(ae),path:_t.path})),S=r.createHref(Se);return be({fullPath:Se,hash:ae,query:i===kS?L9(B.query):B.query||{}},_t,{redirectedFrom:void 0,href:S})}function C(B){return typeof B=="string"?Bv(n,B,u.value.path):be({},B)}function k(B,ut){if(d!==B)return El(8,{from:ut,to:B})}function R(B){return N(B)}function D(B){return R(be(C(B),{replace:!0}))}function M(B){const ut=B.matched[B.matched.length-1];if(ut&&ut.redirect){const{redirect:it}=ut;let _t=typeof it=="function"?it(B):it;return typeof _t=="string"&&(_t=_t.includes("?")||_t.includes("#")?_t=C(_t):{path:_t},_t.params={}),be({query:B.query,hash:B.hash,params:_t.path!=null?{}:B.params},_t)}}function N(B,ut){const it=d=A(B),_t=u.value,ae=B.state,Se=B.force,S=B.replace===!0,P=M(it);if(P)return N(be(C(P),{state:typeof P=="object"?be({},ae,P.state):ae,force:Se,replace:S}),ut||it);const O=it;O.redirectedFrom=ut;let j;return!Se&&a9(i,_t,it)&&(j=El(16,{to:O,from:_t}),Ln(_t,_t,!0,!1)),(j?Promise.resolve(j):at(O,_t)).catch(U=>fs(U)?fs(U,2)?U:Ne(U):Rt(U,O,_t)).then(U=>{if(U){if(fs(U,2))return N(be({replace:S},C(U.to),{state:typeof U.to=="object"?be({},ae,U.to.state):ae,force:Se}),ut||O)}else U=pt(O,_t,!0,S,ae);return J(O,_t,U),U})}function V(B,ut){const it=k(B,ut);return it?Promise.reject(it):Promise.resolve()}function X(B){const ut=ei.values().next().value;return ut&&typeof ut.runWithContext=="function"?ut.runWithContext(B):B()}function at(B,ut){let it;const[_t,ae,Se]=q9(B,ut);it=Uv(_t.reverse(),"beforeRouteLeave",B,ut);for(const P of _t)P.leaveGuards.forEach(O=>{it.push(bo(O,B,ut))});const S=V.bind(null,B,ut);return it.push(S),Pe(it).then(()=>{it=[];for(const P of s.list())it.push(bo(P,B,ut));return it.push(S),Pe(it)}).then(()=>{it=Uv(ae,"beforeRouteUpdate",B,ut);for(const P of ae)P.updateGuards.forEach(O=>{it.push(bo(O,B,ut))});return it.push(S),Pe(it)}).then(()=>{it=[];for(const P of Se)if(P.beforeEnter)if(gr(P.beforeEnter))for(const O of P.beforeEnter)it.push(bo(O,B,ut));else it.push(bo(P.beforeEnter,B,ut));return it.push(S),Pe(it)}).then(()=>(B.matched.forEach(P=>P.enterCallbacks={}),it=Uv(Se,"beforeRouteEnter",B,ut,X),it.push(S),Pe(it))).then(()=>{it=[];for(const P of a.list())it.push(bo(P,B,ut));return it.push(S),Pe(it)}).catch(P=>fs(P,8)?P:Promise.reject(P))}function J(B,ut,it){l.list().forEach(_t=>X(()=>_t(B,ut,it)))}function pt(B,ut,it,_t,ae){const Se=k(B,ut);if(Se)return Se;const S=ut===uo,P=Zc?history.state:{};it&&(_t||S?r.replace(B.fullPath,be({scroll:S&&P&&P.scroll},ae)):r.push(B.fullPath,ae)),u.value=B,Ln(B,ut,it,S),Ne()}let Et;function Te(){Et||(Et=r.listen((B,ut,it)=>{if(!Wi.listening)return;const _t=A(B),ae=M(_t);if(ae){N(be(ae,{replace:!0}),_t).catch(Bh);return}d=_t;const Se=u.value;Zc&&g9(wS(Se.fullPath,it.delta),Gm()),at(_t,Se).catch(S=>fs(S,12)?S:fs(S,2)?(N(S.to,_t).then(P=>{fs(P,20)&&!it.delta&&it.type===hd.pop&&r.go(-1,!1)}).catch(Bh),Promise.reject()):(it.delta&&r.go(-it.delta,!1),Rt(S,_t,Se))).then(S=>{S=S||pt(_t,Se,!1),S&&(it.delta&&!fs(S,8)?r.go(-it.delta,!1):it.type===hd.pop&&fs(S,20)&&r.go(-1,!1)),J(_t,Se,S)}).catch(Bh)}))}let yt=oh(),tt=oh(),dt;function Rt(B,ut,it){Ne(B);const _t=tt.list();return _t.length?_t.forEach(ae=>ae(B,ut,it)):console.error(B),Promise.reject(B)}function pe(){return dt&&u.value!==uo?Promise.resolve():new Promise((B,ut)=>{yt.add([B,ut])})}function Ne(B){return dt||(dt=!B,Te(),yt.list().forEach(([ut,it])=>B?it(B):ut()),yt.reset()),B}function Ln(B,ut,it,_t){const{scrollBehavior:ae}=e;if(!Zc||!ae)return Promise.resolve();const Se=!it&&m9(wS(B.fullPath,0))||(_t||!it)&&history.state&&history.state.scroll||null;return ow().then(()=>ae(B,ut,Se)).then(S=>S&&p9(S)).catch(S=>Rt(S,B,ut))}const Ce=B=>r.go(B);let vi;const ei=new Set,Wi={currentRoute:u,listening:!0,addRoute:v,removeRoute:E,hasRoute:w,getRoutes:b,resolve:A,options:e,push:R,replace:D,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:tt.add,isReady:pe,install(B){const ut=this;B.component("RouterLink",U9),B.component("RouterView",z9),B.config.globalProperties.$router=ut,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>cl(u)}),Zc&&!vi&&u.value===uo&&(vi=!0,R(r.location).catch(ae=>{}));const it={};for(const ae in uo)Object.defineProperty(it,ae,{get:()=>u.value[ae],enumerable:!0});B.provide(pw,ut),B.provide(aR,m2(it)),B.provide(H0,u);const _t=B.unmount;ei.add(B),B.unmount=function(){ei.delete(B),ei.size<1&&(d=uo,Et&&Et(),Et=null,u.value=uo,vi=!1,dt=!1),_t()}}};function Pe(B){return B.reduce((ut,it)=>ut.then(()=>X(it)),Promise.resolve())}return Wi}function q9(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(d=>wl(d,l))?i.push(l):n.push(l));const u=e.matched[a];u&&(t.matched.find(d=>wl(d,u))||r.push(u))}return[n,i,r]}var NS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},K9=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},lR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,d=u?e[r+2]:0,f=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|d>>6,v=d&63;u||(v=64,a||(m=64)),i.push(n[f],n[g],n[m],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cR(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):K9(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const d=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||d==null||g==null)throw new G9;const m=s<<2|l>>4;if(i.push(m),d!==64){const v=l<<4&240|d>>2;if(i.push(v),g!==64){const E=d<<6&192|g;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class G9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y9=function(e){const t=cR(e);return lR.encodeByteArray(t,!0)},nm=function(e){return Y9(e).replace(/\./g,"")},uR=function(e){try{return lR.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function im(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Q9(n)||(e[n]=im(e[n],t[n]));return e}function Q9(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=()=>X9().__FIREBASE_DEFAULTS__,Z9=()=>{if(typeof process>"u"||typeof NS>"u")return;const e=NS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},t6=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&uR(e[1]);return t&&JSON.parse(t)},Ym=()=>{try{return J9()||Z9()||t6()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},hR=e=>{var t,n;return(n=(t=Ym())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},e6=e=>{const t=hR(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},dR=()=>{var e;return(e=Ym())===null||e===void 0?void 0:e.config},fR=e=>{var t;return(t=Ym())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[nm(JSON.stringify(n)),nm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function gw(){var e;const t=(e=Ym())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pR(){return typeof self=="object"&&self.self===self}function gR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function mw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const e=Ge();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function s6(){return!gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dd(){try{return typeof indexedDB=="object"}catch{return!1}}function o6(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="FirebaseError";class _i extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=a6,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?c6(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new _i(r,l,i)}}function c6(e,t){return e.replace(l6,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const l6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u6(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function fd(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(FS(s)&&FS(a)){if(!fd(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function FS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function il(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function Ih(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function yR(e,t){const n=new h6(e,t);return n.subscribe.bind(n)}class h6{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");d6(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=$v),r.error===void 0&&(r.error=$v),r.complete===void 0&&(r.complete=$v);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d6(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function $v(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(e){return e&&e._delegate?e._delegate:e}class Ms{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new n6;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(g6(t))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=ba){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ba){return this.instances.has(t)}getOptions(t=ba){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:p6(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ba){return this.component?this.component.multipleInstances?t:ba:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p6(e){return e===ba?void 0:e}function g6(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new f6(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=[];var Yt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Yt||(Yt={}));const vR={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},m6=Yt.INFO,y6={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},_6=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=y6[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qm{constructor(t){this.name=t,this._logLevel=m6,this._logHandler=_6,this._userLogHandler=null,yw.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...t),this._logHandler(this,Yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...t),this._logHandler(this,Yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...t),this._logHandler(this,Yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...t),this._logHandler(this,Yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...t),this._logHandler(this,Yt.ERROR,...t)}}function v6(e){yw.forEach(t=>{t.setLogLevel(e)})}function b6(e,t){for(const n of yw){let i=null;t&&t.level&&(i=vR[t.level]),e===null?n.userLogHandler=null:n.userLogHandler=(r,s,...a)=>{const l=a.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(i??r.logLevel)&&e({level:Yt[s].toLowerCase(),message:l,args:a,type:r.name})}}}const w6=(e,t)=>t.some(n=>e instanceof n);let VS,BS;function E6(){return VS||(VS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I6(){return BS||(BS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bR=new WeakMap,z0=new WeakMap,wR=new WeakMap,jv=new WeakMap,_w=new WeakMap;function A6(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(ko(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&bR.set(n,e)}).catch(()=>{}),_w.set(t,e),t}function T6(e){if(z0.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});z0.set(e,t)}let W0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return z0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ko(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function C6(e){W0=e(W0)}function S6(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Hv(this),t,...n);return wR.set(i,t.sort?t.sort():[t]),ko(i)}:I6().includes(e)?function(...t){return e.apply(Hv(this),t),ko(bR.get(this))}:function(...t){return ko(e.apply(Hv(this),t))}}function x6(e){return typeof e=="function"?S6(e):(e instanceof IDBTransaction&&T6(e),w6(e,E6())?new Proxy(e,W0):e)}function ko(e){if(e instanceof IDBRequest)return A6(e);if(jv.has(e))return jv.get(e);const t=x6(e);return t!==e&&(jv.set(e,t),_w.set(t,e)),t}const Hv=e=>_w.get(e);function k6(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=ko(a);return i&&a.addEventListener("upgradeneeded",u=>{i(ko(a.result),u.oldVersion,u.newVersion,ko(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const P6=["get","getKey","getAll","getAllKeys","count"],R6=["put","add","delete","clear"],zv=new Map;function US(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(zv.get(t))return zv.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=R6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||P6.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&u.done]))[0]};return zv.set(t,s),s}C6(e=>({...e,get:(t,n,i)=>US(t,n)||e.get(t,n,i),has:(t,n)=>!!US(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(M6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function M6(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rm="@firebase/app",q0="0.10.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Qm("@firebase/app"),O6="@firebase/app-compat",N6="@firebase/analytics-compat",L6="@firebase/analytics",F6="@firebase/app-check-compat",V6="@firebase/app-check",B6="@firebase/auth",U6="@firebase/auth-compat",$6="@firebase/database",j6="@firebase/database-compat",H6="@firebase/functions",z6="@firebase/functions-compat",W6="@firebase/installations",q6="@firebase/installations-compat",K6="@firebase/messaging",G6="@firebase/messaging-compat",Y6="@firebase/performance",Q6="@firebase/performance-compat",X6="@firebase/remote-config",J6="@firebase/remote-config-compat",Z6="@firebase/storage",tB="@firebase/storage-compat",eB="@firebase/firestore",nB="@firebase/firestore-compat",iB="firebase",rB="10.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]",sB={[rm]:"fire-core",[O6]:"fire-core-compat",[L6]:"fire-analytics",[N6]:"fire-analytics-compat",[V6]:"fire-app-check",[F6]:"fire-app-check-compat",[B6]:"fire-auth",[U6]:"fire-auth-compat",[$6]:"fire-rtdb",[j6]:"fire-rtdb-compat",[H6]:"fire-fn",[z6]:"fire-fn-compat",[W6]:"fire-iid",[q6]:"fire-iid-compat",[K6]:"fire-fcm",[G6]:"fire-fcm-compat",[Y6]:"fire-perf",[Q6]:"fire-perf-compat",[X6]:"fire-rc",[J6]:"fire-rc-compat",[Z6]:"fire-gcs",[tB]:"fire-gcs-compat",[eB]:"fire-fst",[nB]:"fire-fst-compat","fire-js":"fire-js",[iB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Map,Il=new Map,Al=new Map;function pd(e,t){try{e.container.addComponent(t)}catch(n){Ha.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ER(e,t){e.container.addOrOverwriteComponent(t)}function Lo(e){const t=e.name;if(Al.has(t))return Ha.debug(`There were multiple attempts to register component ${t}.`),!1;Al.set(t,e);for(const n of No.values())pd(n,e);for(const n of Il.values())pd(n,e);return!0}function zd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oB(e,t,n=Oo){zd(e,t).clearInstance(n)}function IR(e){return e.options!==void 0}function an(e){return e.settings!==void 0}function aB(){Al.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new tc("app","Firebase",cB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AR=class{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB extends AR{constructor(t,n,i,r){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,a={name:i,automaticDataCollectionEnabled:s};if(t.apiKey!==void 0)super(t,a,r);else{const l=t;super(l.options,a,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Zi(rm,q0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(t){this.isDeleted||(this._refCount++,t!==void 0&&this._finalizationRegistry.register(t,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){bw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ji.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=rB;function Xm(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Oo,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Ji.create("bad-app-name",{appName:String(r)});if(n||(n=dR()),!n)throw Ji.create("no-options");const s=No.get(r);if(s){if(fd(n,s.options)&&fd(i,s.config))return s;throw Ji.create("duplicate-app",{appName:r})}const a=new _R(r);for(const u of Al.values())a.addComponent(u);const l=new AR(n,i,a);return No.set(r,l),l}function uB(e,t){if(pR())throw Ji.create("invalid-server-app-environment");t.automaticDataCollectionEnabled===void 0&&(t.automaticDataCollectionEnabled=!1);let n;IR(e)?n=e.options:n=e;const i=Object.assign(Object.assign({},t),n);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const r=d=>[...d].reduce((f,g)=>Math.imul(31,f)+g.charCodeAt(0)|0,0);if(t.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ji.create("finalization-registry-not-supported",{});const s=""+r(JSON.stringify(i)),a=Il.get(s);if(a)return a.incRefCount(t.releaseOnDeref),a;const l=new _R(s);for(const d of Al.values())l.addComponent(d);const u=new lB(n,t,s,l);return Il.set(s,u),u}function vw(e=Oo){const t=No.get(e);if(!t&&e===Oo&&dR())return Xm();if(!t)throw Ji.create("no-app",{appName:e});return t}function hB(){return Array.from(No.values())}async function bw(e){let t=!1;const n=e.name;No.has(n)?(t=!0,No.delete(n)):Il.has(n)&&e.decRefCount()<=0&&(Il.delete(n),t=!0),t&&(await Promise.all(e.container.getProviders().map(i=>i.delete())),e.isDeleted=!0)}function Zi(e,t,n){var i;let r=(i=sB[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ha.warn(l.join(" "));return}Lo(new Ms(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function TR(e,t){if(e!==null&&typeof e!="function")throw Ji.create("invalid-log-argument");b6(e,t)}function CR(e){v6(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="firebase-heartbeat-database",fB=1,gd="firebase-heartbeat-store";let Wv=null;function SR(){return Wv||(Wv=k6(dB,fB,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(gd)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ji.create("idb-open",{originalErrorMessage:e.message})})),Wv}async function pB(e){try{const n=(await SR()).transaction(gd),i=await n.objectStore(gd).get(xR(e));return await n.done,i}catch(t){if(t instanceof _i)Ha.warn(t.message);else{const n=Ji.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ha.warn(n.message)}}}async function $S(e,t){try{const i=(await SR()).transaction(gd,"readwrite");await i.objectStore(gd).put(t,xR(e)),await i.done}catch(n){if(n instanceof _i)Ha.warn(n.message);else{const i=Ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ha.warn(i.message)}}}function xR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=1024,mB=30*24*60*60*1e3;class yB{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vB(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jS();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=mB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jS(),{heartbeatsToSend:i,unsentEntries:r}=_B(this._heartbeatsCache.heartbeats),s=nm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function jS(){return new Date().toISOString().substring(0,10)}function _B(e,t=gB){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),HS(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),HS(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class vB{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dd()?o6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $S(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $S(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function HS(e){return nm(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(e){Lo(new Ms("platform-logger",t=>new D6(t),"PRIVATE")),Lo(new Ms("heartbeat",t=>new yB(t),"PRIVATE")),Zi(rm,q0,e),Zi(rm,q0,"esm2017"),Zi("fire-js","")}bB("");const wB=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:_i,SDK_VERSION:Wo,_DEFAULT_ENTRY_NAME:Oo,_addComponent:pd,_addOrOverwriteComponent:ER,_apps:No,_clearComponents:aB,_components:Al,_getProvider:zd,_isFirebaseApp:IR,_isFirebaseServerApp:an,_registerComponent:Lo,_removeServiceInstance:oB,_serverApps:Il,deleteApp:bw,getApp:vw,getApps:hB,initializeApp:Xm,initializeServerApp:uB,onLog:TR,registerVersion:Zi,setLogLevel:CR},Symbol.toStringTag,{value:"Module"}));var EB="firebase",IB="10.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(EB,IB,"app");const AB={apiKey:"AIzaSyCupfNTTpa6BkaDdMZOgyPqmmiarVpfb9s",authDomain:"smartrack-7b20c.firebaseapp.com",projectId:"smartrack-7b20c",storageBucket:"smartrack-7b20c.appspot.com",messagingSenderId:"326506554583",appId:"1:326506554583:web:5a4e90fcf113b13bbafc92"},Ae=Xm(AB);var TB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},st,ww=ww||{},Dt=TB||self;function Jm(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Wd(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function CB(e){return Object.prototype.hasOwnProperty.call(e,qv)&&e[qv]||(e[qv]=++SB)}var qv="closure_uid_"+(1e9*Math.random()>>>0),SB=0;function xB(e,t,n){return e.call.apply(e.bind,arguments)}function kB(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function li(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?li=xB:li=kB,li.apply(null,arguments)}function Wp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Wn(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,r,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[r].apply(i,a)}}function qo(){this.s=this.s,this.o=this.o}var PB=0;qo.prototype.s=!1;qo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),PB!=0)&&CB(this)};qo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kR=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ew(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function zS(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Jm(i)){const r=e.length||0,s=i.length||0;e.length=r+s;for(let a=0;a<s;a++)e[r+a]=i[a]}else e.push(i)}}function ui(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ui.prototype.h=function(){this.defaultPrevented=!0};var RB=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Dt.addEventListener("test",n,t),Dt.removeEventListener("test",n,t)}catch{}return e}();function md(e){return/^[\s\xa0]*$/.test(e)}function Zm(){var e=Dt.navigator;return e&&(e=e.userAgent)?e:""}function Dr(e){return Zm().indexOf(e)!=-1}function Iw(e){return Iw[" "](e),e}Iw[" "]=function(){};function DB(e,t){var n=AU;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var MB=Dr("Opera"),Tl=Dr("Trident")||Dr("MSIE"),PR=Dr("Edge"),K0=PR||Tl,RR=Dr("Gecko")&&!(Zm().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),OB=Zm().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge");function DR(){var e=Dt.document;return e?e.documentMode:void 0}var G0;t:{var Kv="",Gv=function(){var e=Zm();if(RR)return/rv:([^\);]+)(\)|;)/.exec(e);if(PR)return/Edge\/([\d\.]+)/.exec(e);if(Tl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(OB)return/WebKit\/(\S+)/.exec(e);if(MB)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Gv&&(Kv=Gv?Gv[1]:""),Tl){var Yv=DR();if(Yv!=null&&Yv>parseFloat(Kv)){G0=String(Yv);break t}}G0=Kv}var Y0;if(Dt.document&&Tl){var WS=DR();Y0=WS||parseInt(G0,10)||void 0}else Y0=void 0;var NB=Y0;function yd(e,t){if(ui.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(RR){t:{try{Iw(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:LB[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&yd.$.h.call(this)}}Wn(yd,ui);var LB={2:"touch",3:"pen",4:"mouse"};yd.prototype.h=function(){yd.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qd="closure_listenable_"+(1e6*Math.random()|0),FB=0;function VB(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=r,this.key=++FB,this.fa=this.ia=!1}function ty(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Aw(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function BB(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function MR(e){const t={};for(const n in e)t[n]=e[n];return t}const qS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OR(e,t){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(let s=0;s<qS.length;s++)n=qS[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function ey(e){this.src=e,this.g={},this.h=0}ey.prototype.add=function(e,t,n,i,r){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=X0(e,t,i,r);return-1<a?(t=e[a],n||(t.ia=!1)):(t=new VB(t,this.src,s,!!i,r),t.ia=n,e.push(t)),t};function Q0(e,t){var n=t.type;if(n in e.g){var i=e.g[n],r=kR(i,t),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(ty(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function X0(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==i)return r}return-1}var Tw="closure_lm_"+(1e6*Math.random()|0),Qv={};function NR(e,t,n,i,r){if(i&&i.once)return FR(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)NR(e,t[s],n,i,r);return null}return n=xw(n),e&&e[qd]?e.O(t,n,Wd(i)?!!i.capture:!!i,r):LR(e,t,n,!1,i,r)}function LR(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var a=Wd(r)?!!r.capture:!!r,l=Sw(e);if(l||(e[Tw]=l=new ey(e)),n=l.add(t,n,i,a,s),n.proxy)return n;if(i=UB(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)RB||(r=a),r===void 0&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(BR(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function UB(){function e(n){return t.call(e.src,e.listener,n)}const t=$B;return e}function FR(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)FR(e,t[s],n,i,r);return null}return n=xw(n),e&&e[qd]?e.P(t,n,Wd(i)?!!i.capture:!!i,r):LR(e,t,n,!0,i,r)}function VR(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)VR(e,t[s],n,i,r);else i=Wd(i)?!!i.capture:!!i,n=xw(n),e&&e[qd]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=X0(s,n,i,r),-1<n&&(ty(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Sw(e))&&(t=e.g[t.toString()],e=-1,t&&(e=X0(t,n,i,r)),(n=-1<e?t[e]:null)&&Cw(n))}function Cw(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[qd])Q0(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(BR(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Sw(t))?(Q0(n,e),n.h==0&&(n.src=null,t[Tw]=null)):ty(e)}}}function BR(e){return e in Qv?Qv[e]:Qv[e]="on"+e}function $B(e,t){if(e.fa)e=!0;else{t=new yd(t,this);var n=e.listener,i=e.la||e.src;e.ia&&Cw(e),e=n.call(i,t)}return e}function Sw(e){return e=e[Tw],e instanceof ey?e:null}var Xv="__closure_events_fn_"+(1e9*Math.random()>>>0);function xw(e){return typeof e=="function"?e:(e[Xv]||(e[Xv]=function(t){return e.handleEvent(t)}),e[Xv])}function Hn(){qo.call(this),this.i=new ey(this),this.S=this,this.J=null}Wn(Hn,qo);Hn.prototype[qd]=!0;Hn.prototype.removeEventListener=function(e,t,n,i){VR(this,e,t,n,i)};function Xn(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new ui(t,e);else if(t instanceof ui)t.target=t.target||e;else{var r=t;t=new ui(i,e),OR(t,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];r=qp(a,i,!0,t)&&r}if(a=t.g=e,r=qp(a,i,!0,t)&&r,r=qp(a,i,!1,t)&&r,n)for(s=0;s<n.length;s++)a=t.g=n[s],r=qp(a,i,!1,t)&&r}Hn.prototype.N=function(){if(Hn.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)ty(n[i]);delete e.g[t],e.h--}}this.J=null};Hn.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Hn.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function qp(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var l=a.listener,u=a.la||a.src;a.ia&&Q0(e.i,a),r=l.call(u,i)!==!1&&r}}return r&&!i.defaultPrevented}var kw=Dt.JSON.stringify;class jB{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function HB(){var e=Pw;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class zB{constructor(){this.h=this.g=null}add(t,n){const i=UR.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var UR=new jB(()=>new WB,e=>e.reset());class WB{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function qB(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function KB(e){Dt.setTimeout(()=>{throw e},0)}let _d,vd=!1,Pw=new zB,$R=()=>{const e=Dt.Promise.resolve(void 0);_d=()=>{e.then(GB)}};var GB=()=>{for(var e;e=HB();){try{e.h.call(e.g)}catch(n){KB(n)}var t=UR;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}vd=!1};function ny(e,t){Hn.call(this),this.h=e||1,this.g=t||Dt,this.j=li(this.qb,this),this.l=Date.now()}Wn(ny,Hn);st=ny.prototype;st.ga=!1;st.T=null;st.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xn(this,"tick"),this.ga&&(Rw(this),this.start()))}};st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rw(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}st.N=function(){ny.$.N.call(this),Rw(this),delete this.g};function Dw(e,t,n){if(typeof e=="function")n&&(e=li(e,n));else if(e&&typeof e.handleEvent=="function")e=li(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Dt.setTimeout(e,t||0)}function jR(e){e.g=Dw(()=>{e.g=null,e.i&&(e.i=!1,jR(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class YB extends qo{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:jR(this)}N(){super.N(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bd(e){qo.call(this),this.h=e,this.g={}}Wn(bd,qo);var KS=[];function HR(e,t,n,i){Array.isArray(n)||(n&&(KS[0]=n.toString()),n=KS);for(var r=0;r<n.length;r++){var s=NR(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function zR(e){Aw(e.g,function(t,n){this.g.hasOwnProperty(n)&&Cw(t)},e),e.g={}}bd.prototype.N=function(){bd.$.N.call(this),zR(this)};bd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function iy(){this.g=!0}iy.prototype.Ea=function(){this.g=!1};function QB(e,t,n,i,r,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),u=0;u<l.length;u++){var d=l[u].split("=");if(1<d.length){var f=d[0];d=d[1];var g=f.split("_");a=2<=g.length&&g[1]=="type"?a+(f+"="+d+"&"):a+(f+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+n+`
`+a})}function XB(e,t,n,i,r,s,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+n+`
`+s+" "+a})}function rl(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+ZB(e,n)+(i?" "+i:"")})}function JB(e,t){e.info(function(){return"TIMEOUT: "+t})}iy.prototype.info=function(){};function ZB(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return kw(n)}catch{return t}}var ec={},GS=null;function ry(){return GS=GS||new Hn}ec.Ta="serverreachability";function WR(e){ui.call(this,ec.Ta,e)}Wn(WR,ui);function wd(e){const t=ry();Xn(t,new WR(t))}ec.STAT_EVENT="statevent";function qR(e,t){ui.call(this,ec.STAT_EVENT,e),this.stat=t}Wn(qR,ui);function yi(e){const t=ry();Xn(t,new qR(t,e))}ec.Ua="timingevent";function KR(e,t){ui.call(this,ec.Ua,e),this.size=t}Wn(KR,ui);function Kd(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){e()},t)}var sy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},GR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mw(){}Mw.prototype.h=null;function YS(e){return e.h||(e.h=e.i())}function YR(){}var Gd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ow(){ui.call(this,"d")}Wn(Ow,ui);function Nw(){ui.call(this,"c")}Wn(Nw,ui);var J0;function oy(){}Wn(oy,Mw);oy.prototype.g=function(){return new XMLHttpRequest};oy.prototype.i=function(){return{}};J0=new oy;function Yd(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new bd(this),this.P=tU,e=K0?125:void 0,this.V=new ny(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QR}function QR(){this.i=null,this.g="",this.h=!1}var tU=45e3,XR={},Z0={};st=Yd.prototype;st.setTimeout=function(e){this.P=e};function tb(e,t,n){e.L=1,e.A=cy(Os(t)),e.u=n,e.S=!0,JR(e,null)}function JR(e,t){e.G=Date.now(),Qd(e),e.B=Os(e.A);var n=e.B,i=e.W;Array.isArray(i)||(i=[String(i)]),oD(n.i,"t",i),e.o=0,n=e.l.J,e.h=new QR,e.g=SD(e.l,n?t:null,!e.u),0<e.O&&(e.M=new YB(li(e.Pa,e,e.g),e.O)),HR(e.U,e.g,"readystatechange",e.nb),t=e.I?MR(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),wd(),QB(e.j,e.v,e.B,e.m,e.W,e.u)}st.nb=function(e){e=e.target;const t=this.M;t&&Br(e)==3?t.l():this.Pa(e)};st.Pa=function(e){try{if(e==this.g)t:{const f=Br(this.g);var t=this.g.Ia();const g=this.g.da();if(!(3>f)&&(f!=3||K0||this.g&&(this.h.h||this.g.ja()||ZS(this.g)))){this.J||f!=4||t==7||(t==8||0>=g?wd(3):wd(2)),ay(this);var n=this.g.da();this.ca=n;e:if(ZR(this)){var i=ZS(this.g);e="";var r=i.length,s=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xa(this),$h(this);var a="";break e}this.h.i=new Dt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,XB(this.j,this.v,this.B,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!md(l)){var d=l;break e}}d=null}if(n=d)rl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eb(this,n);else{this.i=!1,this.s=3,yi(12),xa(this),$h(this);break t}}this.S?(tD(this,f,a),K0&&this.i&&f==3&&(HR(this.U,this.V,"tick",this.mb),this.V.start())):(rl(this.j,this.m,a,null),eb(this,a)),f==4&&xa(this),this.i&&!this.J&&(f==4?ID(this.l,this):(this.i=!1,Qd(this)))}else wU(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,yi(12)):(this.s=0,yi(13)),xa(this),$h(this)}}}catch{}finally{}};function ZR(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function tD(e,t,n){let i=!0,r;for(;!e.J&&e.o<n.length;)if(r=eU(e,n),r==Z0){t==4&&(e.s=4,yi(14),i=!1),rl(e.j,e.m,null,"[Incomplete Response]");break}else if(r==XR){e.s=4,yi(15),rl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else rl(e.j,e.m,r,null),eb(e,r);ZR(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,yi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$w(t),t.M=!0,yi(11))):(rl(e.j,e.m,n,"[Invalid Chunked Response]"),xa(e),$h(e))}st.mb=function(){if(this.g){var e=Br(this.g),t=this.g.ja();this.o<t.length&&(ay(this),tD(this,e,t),this.i&&e!=4&&Qd(this))}};function eU(e,t){var n=e.o,i=t.indexOf(`
`,n);return i==-1?Z0:(n=Number(t.substring(n,i)),isNaN(n)?XR:(i+=1,i+n>t.length?Z0:(t=t.slice(i,i+n),e.o=i+n,t)))}st.cancel=function(){this.J=!0,xa(this)};function Qd(e){e.Y=Date.now()+e.P,eD(e,e.P)}function eD(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Kd(li(e.lb,e),t)}function ay(e){e.C&&(Dt.clearTimeout(e.C),e.C=null)}st.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(JB(this.j,this.B),this.L!=2&&(wd(),yi(17)),xa(this),this.s=2,$h(this)):eD(this,this.Y-e)};function $h(e){e.l.H==0||e.J||ID(e.l,e)}function xa(e){ay(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Rw(e.V),zR(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function eb(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||nb(n.i,e))){if(!e.K&&nb(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)am(n),dy(n);else break t;Uw(n),yi(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Kd(li(n.ib,n),6e3));if(1>=lD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ka(n,11)}else if((e.K||n.g==e)&&am(n),!md(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let d=r[t];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const f=d[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const g=d[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const m=d[5];m!=null&&typeof m=="number"&&0<m&&(i=1.5*m,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const v=e.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=i.i;s.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Lw(s,s.h),s.h=null))}if(i.F){const b=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(i.Da=b,Ue(i.I,i.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=e;if(i.wa=CD(i,i.J?i.pa:null,i.Y),a.K){uD(i.i,a);var l=a,u=i.L;u&&l.setTimeout(u),l.C&&(ay(l),Qd(l)),i.g=a}else wD(i);0<n.j.length&&fy(n)}else d[0]!="stop"&&d[0]!="close"||ka(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?ka(n,7):Bw(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}wd(4)}catch{}}function nU(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Jm(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function iU(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Jm(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function nD(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Jm(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=iU(e),i=nU(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}var iD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rU(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function La(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof La){this.h=e.h,sm(this,e.j),this.s=e.s,this.g=e.g,om(this,e.m),this.l=e.l;var t=e.i,n=new Ed;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),QS(this,n),this.o=e.o}else e&&(t=String(e).match(iD))?(this.h=!1,sm(this,t[1]||"",!0),this.s=Ah(t[2]||""),this.g=Ah(t[3]||"",!0),om(this,t[4]),this.l=Ah(t[5]||"",!0),QS(this,t[6]||"",!0),this.o=Ah(t[7]||"")):(this.h=!1,this.i=new Ed(null,this.h))}La.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Th(t,XS,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Th(t,XS,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Th(n,n.charAt(0)=="/"?aU:oU,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Th(n,lU)),e.join("")};function Os(e){return new La(e)}function sm(e,t,n){e.j=n?Ah(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function om(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function QS(e,t,n){t instanceof Ed?(e.i=t,uU(e.i,e.h)):(n||(t=Th(t,cU)),e.i=new Ed(t,e.h))}function Ue(e,t,n){e.i.set(t,n)}function cy(e){return Ue(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ah(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Th(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,sU),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sU(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var XS=/[#\/\?@]/g,oU=/[#\?:]/g,aU=/[#\?]/g,cU=/[#\?@]/g,lU=/#/g;function Ed(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ko(e){e.g||(e.g=new Map,e.h=0,e.i&&rU(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}st=Ed.prototype;st.add=function(e,t){Ko(this),this.i=null,e=jl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function rD(e,t){Ko(e),t=jl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function sD(e,t){return Ko(e),t=jl(e,t),e.g.has(t)}st.forEach=function(e,t){Ko(this),this.g.forEach(function(n,i){n.forEach(function(r){e.call(t,r,i,this)},this)},this)};st.ta=function(){Ko(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let s=0;s<r.length;s++)n.push(t[i])}return n};st.Z=function(e){Ko(this);let t=[];if(typeof e=="string")sD(this,e)&&(t=t.concat(this.g.get(jl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};st.set=function(e,t){return Ko(this),this.i=null,e=jl(this,e),sD(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};st.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function oD(e,t,n){rD(e,t),0<n.length&&(e.i=null,e.g.set(jl(e,t),Ew(n)),e.h+=n.length)}st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),e.push(r)}}return this.i=e.join("&")};function jl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function uU(e,t){t&&!e.j&&(Ko(e),e.i=null,e.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(rD(this,i),oD(this,r,n))},e)),e.j=t}var hU=class{constructor(e,t){this.g=e,this.map=t}};function aD(e){this.l=e||dU,Dt.PerformanceNavigationTiming?(e=Dt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Dt.g&&Dt.g.Ka&&Dt.g.Ka()&&Dt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dU=10;function cD(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function lD(e){return e.h?1:e.g?e.g.size:0}function nb(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Lw(e,t){e.g?e.g.add(t):e.h=t}function uD(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}aD.prototype.cancel=function(){if(this.i=hD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function hD(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ew(e.i)}var fU=class{stringify(e){return Dt.JSON.stringify(e,void 0)}parse(e){return Dt.JSON.parse(e,void 0)}};function pU(){this.g=new fU}function gU(e,t,n){const i=n||"";try{nD(e,function(r,s){let a=r;Wd(r)&&(a=kw(r)),t.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function mU(e,t){const n=new iy;if(Dt.Image){const i=new Image;i.onload=Wp(Kp,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Wp(Kp,n,i,"TestLoadImage: error",!1,t),i.onabort=Wp(Kp,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Wp(Kp,n,i,"TestLoadImage: timeout",!1,t),Dt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Kp(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function ly(e){this.l=e.ec||null,this.j=e.ob||!1}Wn(ly,Mw);ly.prototype.g=function(){return new uy(this.l,this.j)};ly.prototype.i=function(e){return function(){return e}}({});function uy(e,t){Hn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Fw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wn(uy,Hn);var Fw=0;st=uy.prototype;st.open=function(e,t){if(this.readyState!=Fw)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Id(this)};st.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Dt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xd(this)),this.readyState=Fw};st.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Id(this)),this.g&&(this.readyState=3,Id(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Dt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dD(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function dD(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}st.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Xd(this):Id(this),this.readyState==3&&dD(this)}};st.Za=function(e){this.g&&(this.response=this.responseText=e,Xd(this))};st.Ya=function(e){this.g&&(this.response=e,Xd(this))};st.ka=function(){this.g&&Xd(this)};function Xd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Id(e)}st.setRequestHeader=function(e,t){this.v.append(e,t)};st.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};st.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Id(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(uy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var yU=Dt.JSON.parse;function ln(e){Hn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fD,this.L=this.M=!1}Wn(ln,Hn);var fD="",_U=/^https?$/i,vU=["POST","PUT"];st=ln.prototype;st.Oa=function(e){this.M=e};st.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():J0.g(),this.C=this.u?YS(this.u):YS(J0),this.g.onreadystatechange=li(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){JS(this,s);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=Dt.FormData&&e instanceof Dt.FormData,!(0<=kR(vU,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mD(this),0<this.B&&((this.L=bU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=li(this.ua,this)):this.A=Dw(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){JS(this,s)}};function bU(e){return Tl&&typeof e.timeout=="number"&&e.ontimeout!==void 0}st.ua=function(){typeof ww<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xn(this,"timeout"),this.abort(8))};function JS(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pD(e),hy(e)}function pD(e){e.F||(e.F=!0,Xn(e,"complete"),Xn(e,"error"))}st.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xn(this,"complete"),Xn(this,"abort"),hy(this))};st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hy(this,!0)),ln.$.N.call(this)};st.La=function(){this.s||(this.G||this.v||this.l?gD(this):this.kb())};st.kb=function(){gD(this)};function gD(e){if(e.h&&typeof ww<"u"&&(!e.C[1]||Br(e)!=4||e.da()!=2)){if(e.v&&Br(e)==4)Dw(e.La,0,e);else if(Xn(e,"readystatechange"),Br(e)==4){e.h=!1;try{const a=e.da();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=a===0){var r=String(e.I).match(iD)[1]||null;!r&&Dt.self&&Dt.self.location&&(r=Dt.self.location.protocol.slice(0,-1)),i=!_U.test(r?r.toLowerCase():"")}n=i}if(n)Xn(e,"complete"),Xn(e,"success");else{e.m=6;try{var s=2<Br(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",pD(e)}}finally{hy(e)}}}}function hy(e,t){if(e.g){mD(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Xn(e,"ready");try{n.onreadystatechange=i}catch{}}}function mD(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Dt.clearTimeout(e.A),e.A=null)}st.isActive=function(){return!!this.g};function Br(e){return e.g?e.g.readyState:0}st.da=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}};st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};st.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),yU(t)}};function ZS(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case fD:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function wU(e){const t={};e=(e.g&&2<=Br(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(md(e[i]))continue;var n=qB(e[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}BB(t,function(i){return i.join(", ")})}st.Ia=function(){return this.m};st.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function yD(e){let t="";return Aw(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Vw(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=yD(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ue(e,t,n))}function ah(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _D(e){this.Ga=0,this.j=[],this.l=new iy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ah("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ah("baseRetryDelayMs",5e3,e),this.hb=ah("retryDelaySeedMs",1e4,e),this.eb=ah("forwardChannelMaxRetries",2,e),this.xa=ah("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new aD(e&&e.concurrentRequestLimit),this.Ja=new pU,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}st=_D.prototype;st.ra=8;st.H=1;function Bw(e){if(vD(e),e.H==3){var t=e.W++,n=Os(e.I);if(Ue(n,"SID",e.K),Ue(n,"RID",t),Ue(n,"TYPE","terminate"),Jd(e,n),t=new Yd(e,e.l,t),t.L=2,t.A=cy(Os(n)),n=!1,Dt.navigator&&Dt.navigator.sendBeacon)try{n=Dt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Dt.Image&&(new Image().src=t.A,n=!0),n||(t.g=SD(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Qd(t)}TD(e)}function dy(e){e.g&&($w(e),e.g.cancel(),e.g=null)}function vD(e){dy(e),e.u&&(Dt.clearTimeout(e.u),e.u=null),am(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Dt.clearTimeout(e.m),e.m=null)}function fy(e){if(!cD(e.i)&&!e.m){e.m=!0;var t=e.Na;_d||$R(),vd||(_d(),vd=!0),Pw.add(t,e),e.C=0}}function EU(e,t){return lD(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Kd(li(e.Na,e,t),AD(e,e.C)),e.C++,!0)}st.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new Yd(this,this.l,e);let s=this.s;if(this.U&&(s?(s=MR(s),OR(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=bD(this,r,t),n=Os(this.I),Ue(n,"RID",e),Ue(n,"CVER",22),this.F&&Ue(n,"X-HTTP-Session-Id",this.F),Jd(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(yD(s)))+"&"+t:this.o&&Vw(n,this.o,s)),Lw(this.i,r),this.bb&&Ue(n,"TYPE","init"),this.P?(Ue(n,"$req",t),Ue(n,"SID","null"),r.aa=!0,tb(r,n,null)):tb(r,n,t),this.H=2}}else this.H==3&&(e?tx(this,e):this.j.length==0||cD(this.i)||tx(this))};function tx(e,t){var n;t?n=t.m:n=e.W++;const i=Os(e.I);Ue(i,"SID",e.K),Ue(i,"RID",n),Ue(i,"AID",e.V),Jd(e,i),e.o&&e.s&&Vw(i,e.o,e.s),n=new Yd(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=bD(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Lw(e.i,n),tb(n,i,t)}function Jd(e,t){e.na&&Aw(e.na,function(n,i){Ue(t,i,n)}),e.h&&nD({},function(n,i){Ue(t,i,n)})}function bD(e,t,n){n=Math.min(e.j.length,n);var i=e.h?li(e.h.Va,e.h,e):null;t:{var r=e.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=r[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let l=!0;for(let u=0;u<n;u++){let d=r[u].g;const f=r[u].map;if(d-=s,0>d)s=Math.max(0,r[u].g-100),l=!1;else try{gU(f,a,"req"+d+"_")}catch{i&&i(f)}}if(l){i=a.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function wD(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;_d||$R(),vd||(_d(),vd=!0),Pw.add(t,e),e.A=0}}function Uw(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Kd(li(e.Ma,e),AD(e,e.A)),e.A++,!0)}st.Ma=function(){if(this.u=null,ED(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Kd(li(this.jb,this),e)}};st.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yi(10),dy(this),ED(this))};function $w(e){e.B!=null&&(Dt.clearTimeout(e.B),e.B=null)}function ED(e){e.g=new Yd(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Os(e.wa);Ue(t,"RID","rpc"),Ue(t,"SID",e.K),Ue(t,"AID",e.V),Ue(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ue(t,"TO",e.qa),Ue(t,"TYPE","xmlhttp"),Jd(e,t),e.o&&e.s&&Vw(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=cy(Os(t)),n.u=null,n.S=!0,JR(n,e)}st.ib=function(){this.v!=null&&(this.v=null,dy(this),Uw(this),yi(19))};function am(e){e.v!=null&&(Dt.clearTimeout(e.v),e.v=null)}function ID(e,t){var n=null;if(e.g==t){am(e),$w(e),e.g=null;var i=2}else if(nb(e.i,t))n=t.F,uD(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var r=e.C;i=ry(),Xn(i,new KR(i,n)),fy(e)}else wD(e);else if(r=t.s,r==3||r==0&&0<t.ca||!(i==1&&EU(e,t)||i==2&&Uw(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:ka(e,5);break;case 4:ka(e,10);break;case 3:ka(e,6);break;default:ka(e,2)}}}function AD(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ka(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=li(e.pb,e);n||(n=new La("//www.google.com/images/cleardot.gif"),Dt.location&&Dt.location.protocol=="http"||sm(n,"https"),cy(n)),mU(n.toString(),i)}else yi(2);e.H=0,e.h&&e.h.za(t),TD(e),vD(e)}st.pb=function(e){e?(this.l.info("Successfully pinged google.com"),yi(2)):(this.l.info("Failed to ping google.com"),yi(1))};function TD(e){if(e.H=0,e.ma=[],e.h){const t=hD(e.i);(t.length!=0||e.j.length!=0)&&(zS(e.ma,t),zS(e.ma,e.j),e.i.i.length=0,Ew(e.j),e.j.length=0),e.h.ya()}}function CD(e,t,n){var i=n instanceof La?Os(n):new La(n);if(i.g!="")t&&(i.g=t+"."+i.g),om(i,i.m);else{var r=Dt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new La(null);i&&sm(s,i),t&&(s.g=t),r&&om(s,r),n&&(s.l=n),i=s}return n=e.F,t=e.Da,n&&t&&Ue(i,n,t),Ue(i,"VER",e.ra),Jd(e,i),i}function SD(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new ln(new ly({ob:n})):new ln(e.va),t.Oa(e.J),t}st.isActive=function(){return!!this.h&&this.h.isActive(this)};function xD(){}st=xD.prototype;st.Ba=function(){};st.Aa=function(){};st.za=function(){};st.ya=function(){};st.isActive=function(){return!0};st.Va=function(){};function cm(){if(Tl&&!(10<=Number(NB)))throw Error("Environmental error: no available transport.")}cm.prototype.g=function(e,t){return new zi(e,t)};function zi(e,t){Hn.call(this),this.g=new _D(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!md(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!md(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Hl(this)}Wn(zi,Hn);zi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;yi(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=CD(e,null,e.Y),fy(e)};zi.prototype.close=function(){Bw(this.g)};zi.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=kw(e),e=n);t.j.push(new hU(t.fb++,e)),t.H==3&&fy(t)};zi.prototype.N=function(){this.g.h=null,delete this.j,Bw(this.g),delete this.g,zi.$.N.call(this)};function kD(e){Ow.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Wn(kD,Ow);function PD(){Nw.call(this),this.status=1}Wn(PD,Nw);function Hl(e){this.g=e}Wn(Hl,xD);Hl.prototype.Ba=function(){Xn(this.g,"a")};Hl.prototype.Aa=function(e){Xn(this.g,new kD(e))};Hl.prototype.za=function(e){Xn(this.g,new PD)};Hl.prototype.ya=function(){Xn(this.g,"b")};function IU(){this.blockSize=-1}function mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Wn(mr,IU);mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Jv(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var s=e.g[3],a=t+(s^n&(r^s))+i[0]+3614090360&4294967295;t=n+(a<<7&4294967295|a>>>25),a=s+(r^t&(n^r))+i[1]+3905402710&4294967295,s=t+(a<<12&4294967295|a>>>20),a=r+(n^s&(t^n))+i[2]+606105819&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(t^r&(s^t))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=t+(s^n&(r^s))+i[4]+4118548399&4294967295,t=n+(a<<7&4294967295|a>>>25),a=s+(r^t&(n^r))+i[5]+1200080426&4294967295,s=t+(a<<12&4294967295|a>>>20),a=r+(n^s&(t^n))+i[6]+2821735955&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(t^r&(s^t))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=t+(s^n&(r^s))+i[8]+1770035416&4294967295,t=n+(a<<7&4294967295|a>>>25),a=s+(r^t&(n^r))+i[9]+2336552879&4294967295,s=t+(a<<12&4294967295|a>>>20),a=r+(n^s&(t^n))+i[10]+4294925233&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(t^r&(s^t))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=t+(s^n&(r^s))+i[12]+1804603682&4294967295,t=n+(a<<7&4294967295|a>>>25),a=s+(r^t&(n^r))+i[13]+4254626195&4294967295,s=t+(a<<12&4294967295|a>>>20),a=r+(n^s&(t^n))+i[14]+2792965006&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(t^r&(s^t))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=t+(r^s&(n^r))+i[1]+4129170786&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(t^n))+i[6]+3225465664&4294967295,s=t+(a<<9&4294967295|a>>>23),a=r+(t^n&(s^t))+i[11]+643717713&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(r^s))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=t+(r^s&(n^r))+i[5]+3593408605&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(t^n))+i[10]+38016083&4294967295,s=t+(a<<9&4294967295|a>>>23),a=r+(t^n&(s^t))+i[15]+3634488961&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(r^s))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=t+(r^s&(n^r))+i[9]+568446438&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(t^n))+i[14]+3275163606&4294967295,s=t+(a<<9&4294967295|a>>>23),a=r+(t^n&(s^t))+i[3]+4107603335&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(r^s))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=t+(r^s&(n^r))+i[13]+2850285829&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(t^n))+i[2]+4243563512&4294967295,s=t+(a<<9&4294967295|a>>>23),a=r+(t^n&(s^t))+i[7]+1735328473&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(r^s))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=t+(n^r^s)+i[5]+4294588738&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^r)+i[8]+2272392833&4294967295,s=t+(a<<11&4294967295|a>>>21),a=r+(s^t^n)+i[11]+1839030562&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^t)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=t+(n^r^s)+i[1]+2763975236&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^r)+i[4]+1272893353&4294967295,s=t+(a<<11&4294967295|a>>>21),a=r+(s^t^n)+i[7]+4139469664&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^t)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=t+(n^r^s)+i[13]+681279174&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^r)+i[0]+3936430074&4294967295,s=t+(a<<11&4294967295|a>>>21),a=r+(s^t^n)+i[3]+3572445317&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^t)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=t+(n^r^s)+i[9]+3654602809&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^r)+i[12]+3873151461&4294967295,s=t+(a<<11&4294967295|a>>>21),a=r+(s^t^n)+i[15]+530742520&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^t)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=t+(r^(n|~s))+i[0]+4096336452&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~r))+i[7]+1126891415&4294967295,s=t+(a<<10&4294967295|a>>>22),a=r+(t^(s|~n))+i[14]+2878612391&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~t))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=t+(r^(n|~s))+i[12]+1700485571&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~r))+i[3]+2399980690&4294967295,s=t+(a<<10&4294967295|a>>>22),a=r+(t^(s|~n))+i[10]+4293915773&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~t))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=t+(r^(n|~s))+i[8]+1873313359&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~r))+i[15]+4264355552&4294967295,s=t+(a<<10&4294967295|a>>>22),a=r+(t^(s|~n))+i[6]+2734768916&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~t))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=t+(r^(n|~s))+i[4]+4149444226&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~r))+i[11]+3174756917&4294967295,s=t+(a<<10&4294967295|a>>>22),a=r+(t^(s|~n))+i[2]+718787259&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}mr.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(r==0)for(;s<=n;)Jv(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(i[r++]=e.charCodeAt(s++),r==this.blockSize){Jv(this,i),r=0;break}}else for(;s<t;)if(i[r++]=e[s++],r==this.blockSize){Jv(this,i),r=0;break}}this.h=r,this.i+=t};mr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function Ie(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var s=e[r]|0;i&&s==t||(n[r]=s,i=!1)}this.g=n}var AU={};function jw(e){return-128<=e&&128>e?DB(e,function(t){return new Ie([t|0],0>t?-1:0)}):new Ie([e|0],0>e?-1:0)}function Ur(e){if(isNaN(e)||!isFinite(e))return hl;if(0>e)return Gn(Ur(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=ib;return new Ie(t,0)}function RD(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Gn(RD(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ur(Math.pow(t,8)),i=hl,r=0;r<e.length;r+=8){var s=Math.min(8,e.length-r),a=parseInt(e.substring(r,r+s),t);8>s?(s=Ur(Math.pow(t,s)),i=i.R(s).add(Ur(a))):(i=i.R(n),i=i.add(Ur(a)))}return i}var ib=4294967296,hl=jw(0),rb=jw(1),ex=jw(16777216);st=Ie.prototype;st.ea=function(){if(Yi(this))return-Gn(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:ib+i)*t,t*=ib}return e};st.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(vs(this))return"0";if(Yi(this))return"-"+Gn(this).toString(e);for(var t=Ur(Math.pow(e,6)),n=this,i="";;){var r=um(n,t).g;n=lm(n,r.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=r,vs(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};st.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function vs(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Yi(e){return e.h==-1}st.X=function(e){return e=lm(this,e),Yi(e)?-1:vs(e)?0:1};function Gn(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new Ie(n,~e.h).add(rb)}st.abs=function(){return Yi(this)?Gn(this):this};st.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,r=0;r<=t;r++){var s=i+(this.D(r)&65535)+(e.D(r)&65535),a=(s>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);i=a>>>16,s&=65535,a&=65535,n[r]=a<<16|s}return new Ie(n,n[n.length-1]&-2147483648?-1:0)};function lm(e,t){return e.add(Gn(t))}st.R=function(e){if(vs(this)||vs(e))return hl;if(Yi(this))return Yi(e)?Gn(this).R(Gn(e)):Gn(Gn(this).R(e));if(Yi(e))return Gn(this.R(Gn(e)));if(0>this.X(ex)&&0>e.X(ex))return Ur(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<e.g.length;r++){var s=this.D(i)>>>16,a=this.D(i)&65535,l=e.D(r)>>>16,u=e.D(r)&65535;n[2*i+2*r]+=a*u,Gp(n,2*i+2*r),n[2*i+2*r+1]+=s*u,Gp(n,2*i+2*r+1),n[2*i+2*r+1]+=a*l,Gp(n,2*i+2*r+1),n[2*i+2*r+2]+=s*l,Gp(n,2*i+2*r+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new Ie(n,0)};function Gp(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ch(e,t){this.g=e,this.h=t}function um(e,t){if(vs(t))throw Error("division by zero");if(vs(e))return new ch(hl,hl);if(Yi(e))return t=um(Gn(e),t),new ch(Gn(t.g),Gn(t.h));if(Yi(t))return t=um(e,Gn(t)),new ch(Gn(t.g),t.h);if(30<e.g.length){if(Yi(e)||Yi(t))throw Error("slowDivide_ only works with positive integers.");for(var n=rb,i=t;0>=i.X(e);)n=nx(n),i=nx(i);var r=Kc(n,1),s=Kc(i,1);for(i=Kc(i,2),n=Kc(n,2);!vs(i);){var a=s.add(i);0>=a.X(e)&&(r=r.add(n),s=a),i=Kc(i,1),n=Kc(n,1)}return t=lm(e,r.R(t)),new ch(r,t)}for(r=hl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Ur(n),a=s.R(t);Yi(a)||0<a.X(e);)n-=i,s=Ur(n),a=s.R(t);vs(s)&&(s=rb),r=r.add(s),e=lm(e,a)}return new ch(r,e)}st.gb=function(e){return um(this,e).h};st.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new Ie(n,this.h&e.h)};st.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new Ie(n,this.h|e.h)};st.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new Ie(n,this.h^e.h)};function nx(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new Ie(n,e.h)}function Kc(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,r=[],s=0;s<i;s++)r[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ie(r,e.h)}cm.prototype.createWebChannel=cm.prototype.g;zi.prototype.send=zi.prototype.u;zi.prototype.open=zi.prototype.m;zi.prototype.close=zi.prototype.close;sy.NO_ERROR=0;sy.TIMEOUT=8;sy.HTTP_ERROR=6;GR.COMPLETE="complete";YR.EventType=Gd;Gd.OPEN="a";Gd.CLOSE="b";Gd.ERROR="c";Gd.MESSAGE="d";Hn.prototype.listen=Hn.prototype.O;ln.prototype.listenOnce=ln.prototype.P;ln.prototype.getLastError=ln.prototype.Sa;ln.prototype.getLastErrorCode=ln.prototype.Ia;ln.prototype.getStatus=ln.prototype.da;ln.prototype.getResponseJson=ln.prototype.Wa;ln.prototype.getResponseText=ln.prototype.ja;ln.prototype.send=ln.prototype.ha;ln.prototype.setWithCredentials=ln.prototype.Oa;mr.prototype.digest=mr.prototype.l;mr.prototype.reset=mr.prototype.reset;mr.prototype.update=mr.prototype.j;Ie.prototype.add=Ie.prototype.add;Ie.prototype.multiply=Ie.prototype.R;Ie.prototype.modulo=Ie.prototype.gb;Ie.prototype.compare=Ie.prototype.X;Ie.prototype.toNumber=Ie.prototype.ea;Ie.prototype.toString=Ie.prototype.toString;Ie.prototype.getBits=Ie.prototype.D;Ie.fromNumber=Ur;Ie.fromString=RD;var TU=function(){return new cm},CU=function(){return ry()},Zv=sy,SU=GR,xU=ec,ix={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Yp=YR,kU=ln,PU=mr,dl=Ie;const rx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ri=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="10.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Qm("@firebase/firestore");function lh(){return za.logLevel}function rt(e,...t){if(za.logLevel<=Yt.DEBUG){const n=t.map(Hw);za.debug(`Firestore (${zl}): ${e}`,...n)}}function Qr(e,...t){if(za.logLevel<=Yt.ERROR){const n=t.map(Hw);za.error(`Firestore (${zl}): ${e}`,...n)}}function Cl(e,...t){if(za.logLevel<=Yt.WARN){const n=t.map(Hw);za.warn(`Firestore (${zl}): ${e}`,...n)}}function Hw(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e="Unexpected state"){const t=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: `+e;throw Qr(t),new Error(t)}function De(e,t){e||Pt()}function Ft(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends _i{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ri.UNAUTHENTICATED))}shutdown(){}}class DU{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MU{constructor(t){this.t=t,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hr,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hr)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(De(typeof i.accessToken=="string"),new DD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return De(t===null||typeof t=="string"),new ri(t)}}class OU{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=ri.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NU{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new OU(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LU{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FU{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=s=>{s.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,rt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new LU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=VU(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function ue(e,t){return e<t?-1:e>t?1:0}function Sl(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new vt(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vt(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new vt(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Mn.fromMillis(Date.now())}static fromDate(t){return Mn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Mn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ue(this.nanoseconds,t.nanoseconds):ue(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Mt(t)}static min(){return new Mt(new Mn(0,0))}static max(){return new Mt(new Mn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(t,n,i){n===void 0?n=0:n>t.length&&Pt(),i===void 0?i=t.length-n:i>t.length-n&&Pt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ad.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ad?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),a=n.get(r);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ke extends Ad{construct(t,n,i){return new Ke(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new vt(q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const BU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Ad{construct(t,n,i){return new Yn(t,n,i)}static isValidIdentifier(t){return BU.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yn(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new vt(q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new vt(q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new vt(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new vt(q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yn(n)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.path=t}static fromPath(t){return new At(Ke.fromString(t))}static fromName(t){return new At(Ke.fromString(t).popFirst(5))}static empty(){return new At(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ke.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ke.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new At(new Ke(t.slice()))}}function UU(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Mt.fromTimestamp(i===1e9?new Mn(n+1,0):new Mn(n,i));return new Fo(r,At.empty(),t)}function $U(e){return new Fo(e.readTime,e.key,-1)}class Fo{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Fo(Mt.min(),At.empty(),-1)}static max(){return new Fo(Mt.max(),At.empty(),-1)}}function jU(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=At.comparator(e.documentKey,t.documentKey),n!==0?n:ue(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(e){if(e.code!==q.FAILED_PRECONDITION||e.message!==HU)throw e;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):W.reject(n)}static resolve(t){return new W((n,i)=>{n(t)})}static reject(t){return new W((n,i)=>{i(t)})}static waitFor(t){return new W((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=W.resolve(!1);for(const i of t)n=n.next(r=>r?W.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new W((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(t[d]).next(f=>{a[d]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(t,n){return new W((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new Hr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new jh(t,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=Ww(i.target.error);this.V.reject(new jh(t,r))}}static open(t,n,i,r){try{return new zw(n,t.transaction(r,i))}catch(s){throw new jh(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(rt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new qU(n)}}class Pa{constructor(t,n,i){this.name=t,this.version=n,this.p=i,Pa.S(Ge())===12.2&&Qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return rt("SimpleDb","Removing database:",t),Ca(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!dd())return!1;if(Pa.C())return!0;const t=Ge(),n=Pa.S(t),i=0<n&&n<10,r=Pa.v(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async O(t){return this.db||(rt("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{const a=s.target.result;n(a)},r.onblocked=()=>{i(new jh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{const a=s.target.error;a.name==="VersionError"?i(new vt(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new vt(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new jh(t,a))},r.onupgradeneeded=s=>{rt("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.N(a,r.transaction,s.oldVersion,this.version).next(()=>{rt("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(t){this.L=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,i,r){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(t);const l=zw.open(this.db,t,s?"readonly":"readwrite",i),u=r(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),W.reject(d))).toPromise();return u.catch(()=>{}),await l.m,u}catch(l){const u=l,d=u.name!=="FirebaseError"&&a<3;if(rt("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class WU{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Ca(this.k.delete())}}class jh extends vt{constructor(t,n){super(q.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function tf(e){return e.name==="IndexedDbTransactionError"}class qU{constructor(t){this.store=t}put(t,n){let i;return n!==void 0?(rt("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(rt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ca(i)}add(t){return rt("SimpleDb","ADD",this.store.name,t,t),Ca(this.store.add(t))}get(t){return Ca(this.store.get(t)).next(n=>(n===void 0&&(n=null),rt("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return rt("SimpleDb","DELETE",this.store.name,t),Ca(this.store.delete(t))}count(){return rt("SimpleDb","COUNT",this.store.name),Ca(this.store.count())}W(t,n){const i=this.options(t,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){const s=r.getAll(i.range);return new W((a,l)=>{s.onerror=u=>{l(u.target.error)},s.onsuccess=u=>{a(u.target.result)}})}{const s=this.cursor(i),a=[];return this.G(s,(l,u)=>{a.push(u)}).next(()=>a)}}j(t,n){const i=this.store.getAll(t,n===null?void 0:n);return new W((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}H(t,n){rt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,n);i.J=!1;const r=this.cursor(i);return this.G(r,(s,a,l)=>l.delete())}Y(t,n){let i;n?i=t:(i={},n=t);const r=this.cursor(i);return this.G(r,n)}Z(t){const n=this.cursor({});return new W((i,r)=>{n.onerror=s=>{const a=Ww(s.target.error);r(a)},n.onsuccess=s=>{const a=s.target.result;a?t(a.primaryKey,a.value).next(l=>{l?a.continue():i()}):i()}})}G(t,n){const i=[];return new W((r,s)=>{t.onerror=a=>{s(a.target.error)},t.onsuccess=a=>{const l=a.target.result;if(!l)return void r();const u=new WU(l),d=n(l.primaryKey,l.value,u);if(d instanceof W){const f=d.catch(g=>(u.done(),W.reject(g)));i.push(f)}u.isDone?r():u.$===null?l.continue():l.continue(u.$)}}).next(()=>W.waitFor(i))}options(t,n){let i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Ca(e){return new W((t,n)=>{e.onsuccess=i=>{const r=i.target.result;t(r)},e.onerror=i=>{const r=Ww(i.target.error);n(r)}})}let sx=!1;function Ww(e){const t=Pa.S(Ge());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const i=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sx||(sx=!0,setTimeout(()=>{throw i},0)),i}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}qw._e=-1;function py(e){return e==null}function hm(e){return e===0&&1/e==-1/0}function KU(e){return typeof e=="number"&&Number.isInteger(e)&&!hm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function OD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,n){this.comparator=t,this.root=n||Kn.EMPTY}insert(t,n){return new en(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(t){return new en(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qp(this.root,t,this.comparator,!0)}}class Qp{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kn{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??Kn.RED,this.left=r??Kn.EMPTY,this.right=s??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new Kn(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Kn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const t=this.left.check();if(t!==this.right.check())throw Pt();return t+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(t,n,i,r,s){return this}insert(t,n,i){return new Kn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.comparator=t,this.data=new en(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ax(this.data.getIterator())}getIteratorFrom(t){return new ax(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Jn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Jn(this.comparator);return n.data=t,n}}class ax{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.fields=t,t.sort(Yn.comparator)}static empty(){return new ji([])}unionWith(t){let n=new Jn(Yn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ji(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Sl(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ND("Invalid base64 string: "+s):s}}(t);return new hi(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new hi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ue(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}hi.EMPTY_BYTE_STRING=new hi("");const GU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(e){if(De(!!e),typeof e=="string"){let t=0;const n=GU.exec(e);if(De(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Sn(e.seconds),nanos:Sn(e.nanos)}}function Sn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Wa(e){return typeof e=="string"?hi.fromBase64String(e):hi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gw(e){const t=e.mapValue.fields.__previous_value__;return Kw(t)?Gw(t):t}function Td(e){const t=Vo(e.mapValue.fields.__local_write_time__.timestampValue);return new Mn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(t,n,i,r,s,a,l,u,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class Cd{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Cd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Cd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Kw(e)?4:QU(e)?9007199254740991:10:Pt()}function Xr(e,t){if(e===t)return!0;const n=qa(e);if(n!==qa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Td(e).isEqual(Td(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Vo(r.timestampValue),l=Vo(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Wa(r.bytesValue).isEqual(Wa(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Sn(r.geoPointValue.latitude)===Sn(s.geoPointValue.latitude)&&Sn(r.geoPointValue.longitude)===Sn(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Sn(r.integerValue)===Sn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Sn(r.doubleValue),l=Sn(s.doubleValue);return a===l?hm(a)===hm(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Sl(e.arrayValue.values||[],t.arrayValue.values||[],Xr);case 10:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(ox(a)!==ox(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Xr(a[u],l[u])))return!1;return!0}(e,t);default:return Pt()}}function Sd(e,t){return(e.values||[]).find(n=>Xr(n,t))!==void 0}function xl(e,t){if(e===t)return 0;const n=qa(e),i=qa(t);if(n!==i)return ue(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Sn(s.integerValue||s.doubleValue),u=Sn(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return cx(e.timestampValue,t.timestampValue);case 4:return cx(Td(e),Td(t));case 5:return ue(e.stringValue,t.stringValue);case 6:return function(s,a){const l=Wa(s),u=Wa(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=ue(l[d],u[d]);if(f!==0)return f}return ue(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=ue(Sn(s.latitude),Sn(a.latitude));return l!==0?l:ue(Sn(s.longitude),Sn(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,a){const l=s.values||[],u=a.values||[];for(let d=0;d<l.length&&d<u.length;++d){const f=xl(l[d],u[d]);if(f)return f}return ue(l.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,a){if(s===Xp.mapValue&&a===Xp.mapValue)return 0;if(s===Xp.mapValue)return 1;if(a===Xp.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const m=ue(u[g],f[g]);if(m!==0)return m;const v=xl(l[u[g]],d[f[g]]);if(v!==0)return v}return ue(u.length,f.length)}(e.mapValue,t.mapValue);default:throw Pt()}}function cx(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ue(e,t);const n=Vo(e),i=Vo(t),r=ue(n.seconds,i.seconds);return r!==0?r:ue(n.nanos,i.nanos)}function kl(e){return sb(e)}function sb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Vo(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Wa(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return At.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=sb(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${sb(n.fields[a])}`;return r+"}"}(e.mapValue):Pt()}function ob(e){return!!e&&"integerValue"in e}function Yw(e){return!!e&&"arrayValue"in e}function lx(e){return!!e&&"nullValue"in e}function ux(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function kg(e){return!!e&&"mapValue"in e}function Hh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return nc(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Hh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function QU(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this.value=t}static empty(){return new Ci({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!kg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hh(n)}setAll(t){let n=Yn.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Hh(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());kg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Xr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];kg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){nc(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ci(Hh(this.value))}}function LD(e){const t=[];return nc(e.fields,(n,i)=>{const r=new Yn([n]);if(kg(i)){const s=LD(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new ji(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new si(t,0,Mt.min(),Mt.min(),Mt.min(),Ci.empty(),0)}static newFoundDocument(t,n,i,r){return new si(t,1,n,Mt.min(),i,r,0)}static newNoDocument(t,n){return new si(t,2,n,Mt.min(),Mt.min(),Ci.empty(),0)}static newUnknownDocument(t,n){return new si(t,3,n,Mt.min(),Mt.min(),Ci.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof si&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,n){this.position=t,this.inclusive=n}}function hx(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=At.comparator(At.fromName(a.referenceValue),n.key):i=xl(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function dx(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Xr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,n="asc"){this.field=t,this.dir=n}}function XU(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{}class Dn extends FD{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new ZU(t,n,i):n==="array-contains"?new n$(t,i):n==="in"?new i$(t,i):n==="not-in"?new r$(t,i):n==="array-contains-any"?new s$(t,i):new Dn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new t$(t,i):new e$(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xl(n,this.value)):n!==null&&qa(this.value)===qa(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jr extends FD{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Jr(t,n)}matches(t){return VD(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function VD(e){return e.op==="and"}function BD(e){return JU(e)&&VD(e)}function JU(e){for(const t of e.filters)if(t instanceof Jr)return!1;return!0}function ab(e){if(e instanceof Dn)return e.field.canonicalString()+e.op.toString()+kl(e.value);if(BD(e))return e.filters.map(t=>ab(t)).join(",");{const t=e.filters.map(n=>ab(n)).join(",");return`${e.op}(${t})`}}function UD(e,t){return e instanceof Dn?function(i,r){return r instanceof Dn&&i.op===r.op&&i.field.isEqual(r.field)&&Xr(i.value,r.value)}(e,t):e instanceof Jr?function(i,r){return r instanceof Jr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&UD(a,r.filters[l]),!0):!1}(e,t):void Pt()}function $D(e){return e instanceof Dn?function(n){return`${n.field.canonicalString()} ${n.op} ${kl(n.value)}`}(e):e instanceof Jr?function(n){return n.op.toString()+" {"+n.getFilters().map($D).join(" ,")+"}"}(e):"Filter"}class ZU extends Dn{constructor(t,n,i){super(t,n,i),this.key=At.fromName(i.referenceValue)}matches(t){const n=At.comparator(t.key,this.key);return this.matchesComparison(n)}}class t$ extends Dn{constructor(t,n){super(t,"in",n),this.keys=jD("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class e$ extends Dn{constructor(t,n){super(t,"not-in",n),this.keys=jD("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function jD(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>At.fromName(i.referenceValue))}class n$ extends Dn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Yw(n)&&Sd(n.arrayValue,this.value)}}class i$ extends Dn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Sd(this.value.arrayValue,n)}}class r$ extends Dn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Sd(this.value.arrayValue,n)}}class s$ extends Dn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Yw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Sd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.ce=null}}function fx(e,t=null,n=[],i=[],r=null,s=null,a=null){return new o$(e,t,n,i,r,s,a)}function Qw(e){const t=Ft(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>ab(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),py(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>kl(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>kl(i)).join(",")),t.ce=n}return t.ce}function Xw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!XU(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!UD(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dx(e.startAt,t.startAt)&&dx(e.endAt,t.endAt)}function cb(e){return At.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function a$(e,t,n,i,r,s,a,l){return new gy(e,t,n,i,r,s,a,l)}function Jw(e){return new gy(e)}function px(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function c$(e){return e.collectionGroup!==null}function zh(e){const t=Ft(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Jn(Yn.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new fm(s,i))}),n.has(Yn.keyField().canonicalString())||t.le.push(new fm(Yn.keyField(),i))}return t.le}function zr(e){const t=Ft(e);return t.he||(t.he=l$(t,zh(e))),t.he}function l$(e,t){if(e.limitType==="F")return fx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new fm(r.field,s)});const n=e.endAt?new dm(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new dm(e.startAt.position,e.startAt.inclusive):null;return fx(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function lb(e,t,n){return new gy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function my(e,t){return Xw(zr(e),zr(t))&&e.limitType===t.limitType}function HD(e){return`${Qw(zr(e))}|lt:${e.limitType}`}function tl(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>$D(r)).join(", ")}]`),py(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>kl(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>kl(r)).join(",")),`Target(${i})`}(zr(e))}; limitType=${e.limitType})`}function yy(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):At.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of zh(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const d=hx(a,l,u);return a.inclusive?d<=0:d<0}(i.startAt,zh(i),r)||i.endAt&&!function(a,l,u){const d=hx(a,l,u);return a.inclusive?d>=0:d>0}(i.endAt,zh(i),r))}(e,t)}function u$(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zD(e){return(t,n)=>{let i=!1;for(const r of zh(e)){const s=h$(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function h$(e,t,n){const i=e.field.isKeyField()?At.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),d=l.data.field(s);return u!==null&&d!==null?xl(u,d):Pt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){nc(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return OD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=new en(At.comparator);function Ns(){return d$}const WD=new en(At.comparator);function Ch(...e){let t=WD;for(const n of e)t=t.insert(n.key,n);return t}function qD(e){let t=WD;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ra(){return Wh()}function KD(){return Wh()}function Wh(){return new Wl(e=>e.toString(),(e,t)=>e.isEqual(t))}const f$=new en(At.comparator),p$=new Jn(At.comparator);function Qt(...e){let t=p$;for(const n of e)t=t.add(n);return t}const g$=new Jn(ue);function m$(){return g$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hm(t)?"-0":t}}function YD(e){return{integerValue:""+e}}function y$(e,t){return KU(t)?YD(t):GD(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this._=void 0}}function _$(e,t,n){return e instanceof pm?function(r,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Kw(s)&&(s=Gw(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,t):e instanceof Pl?XD(e,t):e instanceof xd?JD(e,t):function(r,s){const a=QD(r,s),l=gx(a)+gx(r.Ie);return ob(a)&&ob(r.Ie)?YD(l):GD(r.serializer,l)}(e,t)}function v$(e,t,n){return e instanceof Pl?XD(e,t):e instanceof xd?JD(e,t):n}function QD(e,t){return e instanceof gm?function(i){return ob(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class pm extends _y{}class Pl extends _y{constructor(t){super(),this.elements=t}}function XD(e,t){const n=ZD(t);for(const i of e.elements)n.some(r=>Xr(r,i))||n.push(i);return{arrayValue:{values:n}}}class xd extends _y{constructor(t){super(),this.elements=t}}function JD(e,t){let n=ZD(t);for(const i of e.elements)n=n.filter(r=>!Xr(r,i));return{arrayValue:{values:n}}}class gm extends _y{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function gx(e){return Sn(e.integerValue||e.doubleValue)}function ZD(e){return Yw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(t,n){this.field=t,this.transform=n}}function w$(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Pl&&r instanceof Pl||i instanceof xd&&r instanceof xd?Sl(i.elements,r.elements,Xr):i instanceof gm&&r instanceof gm?Xr(i.Ie,r.Ie):i instanceof pm&&r instanceof pm}(e.transform,t.transform)}class E${constructor(t,n){this.version=t,this.transformResults=n}}class Wr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Wr}static exists(t){return new Wr(void 0,t)}static updateTime(t){return new Wr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pg(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class vy{}function tM(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new nM(e.key,Wr.none()):new ef(e.key,e.data,Wr.none());{const n=e.data,i=Ci.empty();let r=new Jn(Yn.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Go(e.key,i,new ji(r.toArray()),Wr.none())}}function I$(e,t,n){e instanceof ef?function(r,s,a){const l=r.value.clone(),u=yx(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Go?function(r,s,a){if(!Pg(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=yx(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(eM(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function qh(e,t,n,i){return e instanceof ef?function(s,a,l,u){if(!Pg(s.precondition,a))return l;const d=s.value.clone(),f=_x(s.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(e,t,n,i):e instanceof Go?function(s,a,l,u){if(!Pg(s.precondition,a))return l;const d=_x(s.fieldTransforms,u,a),f=a.data;return f.setAll(eM(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,a,l){return Pg(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function A$(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=QD(i.transform,r||null);s!=null&&(n===null&&(n=Ci.empty()),n.set(i.field,s))}return n||null}function mx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Sl(i,r,(s,a)=>w$(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ef extends vy{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Go extends vy{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eM(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function yx(e,t,n){const i=new Map;De(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,v$(a,l,n[r]))}return i}function _x(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,_$(s,a,t))}return i}class nM extends vy{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T$ extends vy{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&I$(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=qh(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=qh(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=KD();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=tM(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(Mt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Qt())}isEqual(t){return this.batchId===t.batchId&&Sl(this.mutations,t.mutations,(n,i)=>mx(n,i))&&Sl(this.baseMutations,t.baseMutations,(n,i)=>mx(n,i))}}class Zw{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){De(t.mutations.length===i.length);let r=function(){return f$}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Zw(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,ie;function k$(e){switch(e){default:return Pt();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function iM(e){if(e===void 0)return Qr("GRPC error has no .code"),q.UNKNOWN;switch(e){case Tn.OK:return q.OK;case Tn.CANCELLED:return q.CANCELLED;case Tn.UNKNOWN:return q.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return q.INTERNAL;case Tn.UNAVAILABLE:return q.UNAVAILABLE;case Tn.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Tn.NOT_FOUND:return q.NOT_FOUND;case Tn.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Tn.ABORTED:return q.ABORTED;case Tn.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Tn.DATA_LOSS:return q.DATA_LOSS;default:return Pt()}}(ie=Tn||(Tn={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=new dl([4294967295,4294967295],0);function vx(e){const t=P$().encode(e),n=new PU;return n.update(t),new Uint8Array(n.digest())}function bx(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new dl([n,i],0),new dl([r,s],0)]}class t1{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Sh(`Invalid padding: ${n}`);if(i<0)throw new Sh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Sh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Sh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=dl.fromNumber(this.Te)}de(t,n,i){let r=t.add(n.multiply(dl.fromNumber(i)));return r.compare(R$)===1&&(r=new dl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=vx(t),[i,r]=bx(n);for(let s=0;s<this.hashCount;s++){const a=this.de(i,r,s);if(!this.Ae(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new t1(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.Te===0)return;const n=vx(t),[i,r]=bx(n);for(let s=0;s<this.hashCount;s++){const a=this.de(i,r,s);this.Re(a)}}Re(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,nf.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new by(Mt.min(),r,new en(ue),Ns(),Qt())}}class nf{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new nf(i,n,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t,n,i,r){this.Ve=t,this.removedTargetIds=n,this.key=i,this.me=r}}class rM{constructor(t,n){this.targetId=t,this.fe=n}}class sM{constructor(t,n,i=hi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class wx{constructor(){this.ge=0,this.pe=Ix(),this.ye=hi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Qt(),n=Qt(),i=Qt();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Pt()}}),new nf(this.ye,this.we,t,n,i)}Fe(){this.Se=!1,this.pe=Ix()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,De(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class D${constructor(t){this.Be=t,this.ke=new Map,this.qe=Ns(),this.Qe=Ex(),this.Ke=new en(ue)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const i=this.ze(n);switch(t.state){case 0:this.je(n)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(t.resumeToken));break;default:Pt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(t){const n=t.targetId,i=t.fe.count,r=this.Ye(n);if(r){const s=r.target;if(cb(s))if(i===0){const a=new At(s.path);this.We(n,a,si.newNoDocument(a,Mt.min()))}else De(i===1);else{const a=this.Ze(n);if(a!==i){const l=this.Xe(t),u=l?this.et(l,t,a):1;if(u!==0){this.He(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Wa(i).toUint8Array()}catch(u){if(u instanceof ND)return Cl("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new t1(a,r,s)}catch(u){return Cl(u instanceof Sh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(t,n,i){return n.fe.count===i-this.rt(t,n.targetId)?0:2}rt(t,n){const i=this.Be.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Be.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.We(n,s,null),r++)}),r}it(t){const n=new Map;this.ke.forEach((s,a)=>{const l=this.Ye(a);if(l){if(s.current&&cb(l.target)){const u=new At(l.target.path);this.qe.get(u)!==null||this.st(a,u)||this.We(a,u,si.newNoDocument(u,t))}s.De&&(n.set(a,s.ve()),s.Fe())}});let i=Qt();this.Qe.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const d=this.Ye(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.qe.forEach((s,a)=>a.setReadTime(t));const r=new by(t,n,this.Ke,this.qe,i);return this.qe=Ns(),this.Qe=Ex(),this.Ke=new en(ue),r}Ue(t,n){if(!this.je(t))return;const i=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new wx,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Jn(ue),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Be._t(t)}He(t){this.ke.set(t,new wx),this.Be.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Be.getRemoteKeysForTarget(t).has(n)}}function Ex(){return new en(At.comparator)}function Ix(){return new en(At.comparator)}const M$={asc:"ASCENDING",desc:"DESCENDING"},O$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N$={and:"AND",or:"OR"};class L${constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ub(e,t){return e.useProto3Json||py(t)?t:{value:t}}function mm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oM(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function F$(e,t){return mm(e,t.toTimestamp())}function qr(e){return De(!!e),Mt.fromTimestamp(function(n){const i=Vo(n);return new Mn(i.seconds,i.nanos)}(e))}function e1(e,t){return hb(e,t).canonicalString()}function hb(e,t){const n=function(r){return new Ke(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function aM(e){const t=Ke.fromString(e);return De(dM(t)),t}function db(e,t){return e1(e.databaseId,t.path)}function t0(e,t){const n=aM(t);if(n.get(1)!==e.databaseId.projectId)throw new vt(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vt(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new At(lM(n))}function cM(e,t){return e1(e.databaseId,t)}function V$(e){const t=aM(e);return t.length===4?Ke.emptyPath():lM(t)}function fb(e){return new Ke(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lM(e){return De(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Ax(e,t,n){return{name:db(e,t),fields:n.value.mapValue.fields}}function B$(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Pt()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(De(f===void 0||typeof f=="string"),hi.fromBase64String(f||"")):(De(f===void 0||f instanceof Buffer||f instanceof Uint8Array),hi.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(d){const f=d.code===void 0?q.UNKNOWN:iM(d.code);return new vt(f,d.message||"")}(a);n=new sM(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=t0(e,i.document.name),s=qr(i.document.updateTime),a=i.document.createTime?qr(i.document.createTime):Mt.min(),l=new Ci({mapValue:{fields:i.document.fields}}),u=si.newFoundDocument(r,s,a,l),d=i.targetIds||[],f=i.removedTargetIds||[];n=new Rg(d,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=t0(e,i.document),s=i.readTime?qr(i.readTime):Mt.min(),a=si.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Rg([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=t0(e,i.document),s=i.removedTargetIds||[];n=new Rg([],s,r,null)}else{if(!("filter"in t))return Pt();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new x$(r,s),l=i.targetId;n=new rM(l,a)}}return n}function U$(e,t){let n;if(t instanceof ef)n={update:Ax(e,t.key,t.value)};else if(t instanceof nM)n={delete:db(e,t.key)};else if(t instanceof Go)n={update:Ax(e,t.key,t.data),updateMask:Y$(t.fieldMask)};else{if(!(t instanceof T$))return Pt();n={verify:db(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof pm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof xd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof gm)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw Pt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:F$(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Pt()}(e,t.precondition)),n}function $$(e,t){return e&&e.length>0?(De(t!==void 0),e.map(n=>function(r,s){let a=r.updateTime?qr(r.updateTime):qr(s);return a.isEqual(Mt.min())&&(a=qr(s)),new E$(a,r.transformResults||[])}(n,t))):[]}function j$(e,t){return{documents:[cM(e,t.path)]}}function H$(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=cM(e,r);const s=function(d){if(d.length!==0)return hM(Jr.create(d,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(f=>function(m){return{field:el(m.field),direction:q$(m.dir)}}(f))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=ub(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ut:n,parent:r}}function z$(e){let t=V$(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){De(i===1);const f=n.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let s=[];n.where&&(s=function(g){const m=uM(g);return m instanceof Jr&&BD(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(E){return new fm(nl(E.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,py(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,v=g.values||[];return new dm(v,m)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const m=!g.before,v=g.values||[];return new dm(v,m)}(n.endAt)),a$(t,r,a,s,l,"F",u,d)}function W$(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function uM(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=nl(n.unaryFilter.field);return Dn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=nl(n.unaryFilter.field);return Dn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nl(n.unaryFilter.field);return Dn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=nl(n.unaryFilter.field);return Dn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(e):e.fieldFilter!==void 0?function(n){return Dn.create(nl(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Jr.create(n.compositeFilter.filters.map(i=>uM(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Pt()}}(n.compositeFilter.op))}(e):Pt()}function q$(e){return M$[e]}function K$(e){return O$[e]}function G$(e){return N$[e]}function el(e){return{fieldPath:e.canonicalString()}}function nl(e){return Yn.fromServerFormat(e.fieldPath)}function hM(e){return e instanceof Dn?function(n){if(n.op==="=="){if(ux(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(lx(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ux(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(lx(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:K$(n.op),value:n.value}}}(e):e instanceof Jr?function(n){const i=n.getFilters().map(r=>hM(r));return i.length===1?i[0]:{compositeFilter:{op:G$(n.op),filters:i}}}(e):Pt()}function Y$(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function dM(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,n,i,r,s=Mt.min(),a=Mt.min(),l=hi.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new wo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(t){this.ct=t}}function X$(e){const t=z$({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?lb(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(){this._n=new Z$}addToCollectionParentIndex(t,n){return this._n.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Fo.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Fo.min())}updateCollectionGroup(t,n,i){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class Z${constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Jn(Ke.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Jn(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Rl(0)}static Ln(){return new Rl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.changes=new Wl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,si.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?W.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&qh(i.mutation,r,ji.empty(),Mn.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Qt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Qt()){const r=Ra();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=Ch();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Ra();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Qt()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=Ns();const a=Wh(),l=function(){return Wh()}();return n.forEach((u,d)=>{const f=i.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof Go)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),qh(f.mutation,d,f.mutation.getFieldMask(),Mn.now())):a.set(d.key,ji.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>{var g;return l.set(d,new ej(f,(g=a.get(d))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(t,n){const i=Wh();let r=new en((a,l)=>a-l),s=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=i.get(u)||ji.empty();f=l.applyToLocalView(d,f),i.set(u,f);const g=(r.get(l.batchId)||Qt()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,g=KD();f.forEach(m=>{if(!s.has(m)){const v=tM(n.get(m),i.get(m));v!==null&&g.set(m,v),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,d,g))}return W.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return At.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):c$(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):W.resolve(Ra());let l=-1,u=s;return a.next(d=>W.forEach(d,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(f)?W.resolve():this.remoteDocumentCache.getEntry(t,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(t,d,s)).next(()=>this.computeViews(t,u,d,Qt())).next(f=>({batchId:l,changes:qD(f)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new At(n)).next(i=>{let r=Ch();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=Ch();return this.indexManager.getCollectionParents(t,s).next(l=>W.forEach(l,u=>{const d=function(g,m){return new gy(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next(f=>{f.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,si.newInvalidDocument(f)))});let l=Ch();return a.forEach((u,d)=>{const f=s.get(u);f!==void 0&&qh(f.mutation,d,ji.empty(),Mn.now()),yy(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return W.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:qr(r.createTime)}}(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(r){return{name:r.name,query:X$(r.bundledQuery),readTime:qr(r.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this.overlays=new en(At.comparator),this.hr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ra();return W.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.ht(t,n,s)}),W.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),W.resolve()}getOverlaysForCollection(t,n,i){const r=Ra(),s=n.length+1,a=new At(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return W.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new en((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let f=s.get(d.largestBatchId);f===null&&(f=Ra(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Ra(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=r)););return W.resolve(l)}ht(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new S$(n,i));let s=this.hr.get(n);s===void 0&&(s=Qt(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.Pr=new Jn(Un.Ir),this.Tr=new Jn(Un.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const i=new Un(t,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Ar(new Un(t,n))}Rr(t,n){t.forEach(i=>this.removeReference(i,n))}Vr(t){const n=new At(new Ke([])),i=new Un(n,t),r=new Un(n,t+1),s=[];return this.Tr.forEachInRange([i,r],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new At(new Ke([])),i=new Un(n,t),r=new Un(n,t+1);let s=Qt();return this.Tr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new Un(t,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Un{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return At.comparator(t.key,n.key)||ue(t.pr,n.pr)}static Er(t,n){return ue(t.pr,n.pr)||At.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Jn(Un.Ir)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new C$(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.wr=this.wr.add(new Un(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return W.resolve(a)}lookupMutationBatch(t,n){return W.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.br(i),s=r<0?0:r;return W.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Un(n,0),r=new Un(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],a=>{const l=this.Sr(a.pr);s.push(l)}),W.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Jn(ue);return n.forEach(r=>{const s=new Un(r,0),a=new Un(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],l=>{i=i.add(l.pr)})}),W.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;At.isDocumentKey(s)||(s=s.child(""));const a=new Un(new At(s),0);let l=new Jn(ue);return this.wr.forEachWhile(u=>{const d=u.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(l=l.add(u.pr)),!0)},a),W.resolve(this.Dr(l))}Dr(t){const n=[];return t.forEach(i=>{const r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){De(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return W.forEach(n.mutations,r=>{const s=new Un(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=i})}Mn(t){}containsKey(t,n){const i=new Un(n,0),r=this.wr.firstAfterOrEqual(i);return W.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(t){this.vr=t,this.docs=function(){return new en(At.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return W.resolve(i?i.document.mutableCopy():si.newInvalidDocument(n))}getEntries(t,n){let i=Ns();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():si.newInvalidDocument(r))}),W.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Ns();const a=n.path,l=new At(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||jU($U(f),i)<=0||(r.has(f.key)||yy(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Pt()}Fr(t,n){return W.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new aj(this)}getSize(t){return W.resolve(this.size)}}class aj extends tj{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(t,r)):this.ar.removeEntry(i)}),W.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(t){this.persistence=t,this.Mr=new Wl(n=>Qw(n),Xw),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new n1,this.targetCount=0,this.Lr=Rl.Nn()}forEachTarget(t,n){return this.Mr.forEach((i,r)=>n(r)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),W.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new Rl(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.qn(n),W.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),W.waitFor(s).next(()=>r)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const i=this.Mr.get(n)||null;return W.resolve(i)}addMatchingKeys(t,n,i){return this.Nr.dr(n,i),W.resolve()}removeMatchingKeys(t,n,i){this.Nr.Rr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),W.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Nr.gr(n);return W.resolve(i)}containsKey(t,n){return W.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(t,n){this.Br={},this.overlays={},this.kr=new qw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new cj(this),this.indexManager=new J$,this.remoteDocumentCache=function(r){return new oj(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Q$(n),this.$r=new ij(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new rj,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Br[t.toKey()];return i||(i=new sj(n,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,i){rt("MemoryPersistence","Starting transaction:",t);const r=new uj(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(t,n){return W.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,n)))}}class uj extends zU{constructor(t){super(),this.currentSequenceNumber=t}}class i1{constructor(t){this.persistence=t,this.zr=new n1,this.jr=null}static Hr(t){return new i1(t)}get Jr(){if(this.jr)return this.jr;throw Pt()}addReference(t,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),W.resolve()}removeReference(t,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),W.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Jr,i=>{const r=At.fromPath(i);return this.Yr(t,r).next(s=>{s||n.removeEntry(r,Mt.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return W.or([()=>W.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(t,n){let i=Qt(),r=Qt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new r1(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return s6()?8:Pa.v(Ge())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ji(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new hj;return this.Ji(t,n,a).next(l=>{if(s.result=l,this.Ui)return this.Yi(t,n,a,l.size)})}).next(()=>s.result)}Yi(t,n,i,r){return i.documentReadCount<this.Wi?(lh()<=Yt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),W.resolve()):(lh()<=Yt.DEBUG&&rt("QueryEngine","Query:",tl(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(lh()<=Yt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zr(n))):W.resolve())}ji(t,n){if(px(n))return W.resolve(null);let i=zr(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=lb(n,null,"F"),i=zr(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=Qt(...s);return this.zi.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const d=this.Zi(n,l);return this.Xi(n,d,a,u.readTime)?this.ji(t,lb(n,null,"F")):this.es(t,d,n,u)}))})))}Hi(t,n,i,r){return px(n)||r.isEqual(Mt.min())?W.resolve(null):this.zi.getDocuments(t,i).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,i,r)?W.resolve(null):(lh()<=Yt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tl(n)),this.es(t,a,n,UU(r,-1)).next(l=>l))})}Zi(t,n){let i=new Jn(zD(t));return n.forEach((r,s)=>{yy(t,s)&&(i=i.add(s))}),i}Xi(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(t,n,i){return lh()<=Yt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",tl(n)),this.zi.getDocumentsMatchingQuery(t,n,Fo.min(),i)}es(t,n,i,r){return this.zi.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(t,n,i,r){this.persistence=t,this.ts=n,this.serializer=r,this.ns=new en(ue),this.rs=new Wl(s=>Qw(s),Xw),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(i)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nj(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function pj(e,t,n,i){return new fj(e,t,n,i)}async function fM(e,t){const n=Ft(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=Qt();for(const d of r){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(d=>({us:d,removedBatchIds:a,addedBatchIds:l}))})})}function gj(e,t){const n=Ft(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,d,f){const g=d.batch,m=g.keys();let v=W.resolve();return m.forEach(E=>{v=v.next(()=>f.getEntry(u,E)).next(b=>{const w=d.docVersions.get(E);De(w!==null),b.version.compareTo(w)<0&&(g.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),f.addEntry(b)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=Qt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function pM(e){const t=Ft(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function mj(e,t){const n=Ft(e),i=t.snapshotVersion;let r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;const l=[];t.targetChanges.forEach((f,g)=>{const m=r.get(g);if(!m)return;l.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,g)));let v=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?v=v.withResumeToken(hi.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,i)),r=r.insert(g,v),function(b,w,A){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(m,v,f)&&l.push(n.Qr.updateTargetData(s,v))});let u=Ns(),d=Qt();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(yj(s,a,t.documentUpdates).next(f=>{u=f.cs,d=f.ls})),!i.isEqual(Mt.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(g=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return W.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.ns=r,s))}function yj(e,t,n){let i=Qt(),r=Qt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=Ns();return n.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(Mt.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):rt("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{cs:a,ls:r}})}function _j(e,t){const n=Ft(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function vj(e,t){const n=Ft(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,t).next(s=>s?(r=s,W.resolve(r)):n.Qr.allocateTargetId(i).next(a=>(r=new wo(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(t,i.targetId)),i})}async function pb(e,t,n){const i=Ft(e),r=i.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!tf(a))throw a;rt("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.ns=i.ns.remove(t),i.rs.delete(r.target)}function Tx(e,t,n){const i=Ft(e);let r=Mt.min(),s=Qt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,f){const g=Ft(u),m=g.rs.get(f);return m!==void 0?W.resolve(g.ns.get(m)):g.Qr.getTargetData(d,f)}(i,a,zr(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.ts.getDocumentsMatchingQuery(a,t,n?r:Mt.min(),n?s:Qt())).next(l=>(bj(i,u$(t),l),{documents:l,hs:s})))}function bj(e,t,n){let i=e.ss.get(t)||Mt.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.ss.set(t,i)}class Cx{constructor(){this.activeTargetIds=m$()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wj{constructor(){this.no=new Cx,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,i){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Cx,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp=null;function e0(){return Jp===null?Jp=function(){return 268435456+Math.round(2147483648*Math.random())}():Jp++,"0x"+Jp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="WebChannelConnection";class Tj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get wo(){return!1}So(n,i,r,s,a){const l=e0(),u=this.bo(n,i.toUriEncodedString());rt("RestConnection",`Sending RPC '${n}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,s,a),this.Co(n,u,d,r).then(f=>(rt("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Cl("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",r),f})}vo(n,i,r,s,a,l){return this.So(n,i,r,s,a)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,a)=>n[a]=s),r&&r.headers.forEach((s,a)=>n[a]=s)}bo(n,i){const r=Ij[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,i,r){const s=e0();return new Promise((a,l)=>{const u=new kU;u.setWithCredentials(!0),u.listenOnce(SU.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Zv.NO_ERROR:const f=u.getResponseJson();rt(ni,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),a(f);break;case Zv.TIMEOUT:rt(ni,`RPC '${t}' ${s} timed out`),l(new vt(q.DEADLINE_EXCEEDED,"Request time out"));break;case Zv.HTTP_ERROR:const g=u.getStatus();if(rt(ni,`RPC '${t}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const E=function(w){const A=w.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(A)>=0?A:q.UNKNOWN}(v.status);l(new vt(E,v.message))}else l(new vt(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new vt(q.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{rt(ni,`RPC '${t}' ${s} completed.`)}});const d=JSON.stringify(r);rt(ni,`RPC '${t}' ${s} sending request:`,r),u.send(n,"POST",d,i,15)})}Fo(t,n,i){const r=e0(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=TU(),l=CU(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=s.join("");rt(ni,`Creating RPC '${t}' stream ${r}: ${f}`,u);const g=a.createWebChannel(f,u);let m=!1,v=!1;const E=new Aj({lo:w=>{v?rt(ni,`Not sending because RPC '${t}' stream ${r} is closed:`,w):(m||(rt(ni,`Opening RPC '${t}' stream ${r} transport.`),g.open(),m=!0),rt(ni,`RPC '${t}' stream ${r} sending:`,w),g.send(w))},ho:()=>g.close()}),b=(w,A,C)=>{w.listen(A,k=>{try{C(k)}catch(R){setTimeout(()=>{throw R},0)}})};return b(g,Yp.EventType.OPEN,()=>{v||rt(ni,`RPC '${t}' stream ${r} transport opened.`)}),b(g,Yp.EventType.CLOSE,()=>{v||(v=!0,rt(ni,`RPC '${t}' stream ${r} transport closed`),E.Vo())}),b(g,Yp.EventType.ERROR,w=>{v||(v=!0,Cl(ni,`RPC '${t}' stream ${r} transport errored:`,w),E.Vo(new vt(q.UNAVAILABLE,"The operation could not be completed")))}),b(g,Yp.EventType.MESSAGE,w=>{var A;if(!v){const C=w.data[0];De(!!C);const k=C,R=k.error||((A=k[0])===null||A===void 0?void 0:A.error);if(R){rt(ni,`RPC '${t}' stream ${r} received error:`,R);const D=R.status;let M=function(X){const at=Tn[X];if(at!==void 0)return iM(at)}(D),N=R.message;M===void 0&&(M=q.INTERNAL,N="Unknown error status: "+D+" with message "+R.message),v=!0,E.Vo(new vt(M,N)),g.close()}else rt(ni,`RPC '${t}' stream ${r} received:`,C),E.mo(C)}}),b(l,xU.STAT_EVENT,w=>{w.stat===ix.PROXY?rt(ni,`RPC '${t}' stream ${r} detected buffering proxy`):w.stat===ix.NOPROXY&&rt(ni,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{E.Ro()},0),E}}function n0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(e){return new L$(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t,n,i=1e3,r=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&rt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t,n,i,r,s,a,l,u){this.oi=t,this.$o=i,this.Uo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new gM(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{t(()=>{const r=new vt(q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(t,n){const i=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return rt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cj extends mM{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=B$(this.serializer,t),i=function(s){if(!("targetChange"in s))return Mt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Mt.min():a.readTime?qr(a.readTime):Mt.min()}(t);return this.listener.u_(n,i)}c_(t){const n={};n.database=fb(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=cb(u)?{documents:j$(s,u)}:{query:H$(s,u).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=oM(s,a.resumeToken);const d=ub(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Mt.min())>0){l.readTime=mm(s,a.snapshotVersion.toTimestamp());const d=ub(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,t);const i=W$(this.serializer,t);i&&(n.labels=i),this.t_(n)}l_(t){const n={};n.database=fb(this.serializer),n.removeTarget=t,this.t_(n)}}class Sj extends mM{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(De(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=$$(t.writeResults,t.commitTime),i=qr(t.commitTime);return this.listener.T_(i,n)}return De(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=fb(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>U$(this.serializer,i))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new vt(q.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(t,hb(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new vt(q.UNKNOWN,s.toString())})}vo(t,n,i,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(t,hb(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new vt(q.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class kj{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Qr(n),this.g_=!1):rt("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{i.enqueueAndForget(async()=>{ic(this)&&(rt("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=Ft(u);d.v_.add(4),await rf(d),d.x_.set("Unknown"),d.v_.delete(4),await Ey(d)}(this))})}),this.x_=new kj(i,r)}}async function Ey(e){if(ic(e))for(const t of e.F_)await t(!0)}async function rf(e){for(const t of e.F_)await t(!1)}function yM(e,t){const n=Ft(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),c1(n)?a1(n):ql(n).Jo()&&o1(n,t))}function s1(e,t){const n=Ft(e),i=ql(n);n.C_.delete(t),i.Jo()&&_M(n,t),n.C_.size===0&&(i.Jo()?i.Xo():ic(n)&&n.x_.set("Unknown"))}function o1(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ql(e).c_(t)}function _M(e,t){e.O_.Oe(t),ql(e).l_(t)}function a1(e){e.O_=new D$({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),ql(e).start(),e.x_.p_()}function c1(e){return ic(e)&&!ql(e).Ho()&&e.C_.size>0}function ic(e){return Ft(e).v_.size===0}function vM(e){e.O_=void 0}async function Rj(e){e.C_.forEach((t,n)=>{o1(e,t)})}async function Dj(e,t){vM(e),c1(e)?(e.x_.S_(t),a1(e)):e.x_.set("Unknown")}async function Mj(e,t,n){if(e.x_.set("Online"),t instanceof sM&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.C_.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.C_.delete(l),r.O_.removeTarget(l))}(e,t)}catch(i){rt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await ym(e,i)}else if(t instanceof Rg?e.O_.$e(t):t instanceof rM?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Mt.min()))try{const i=await pM(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.O_.it(a);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.C_.get(d);f&&s.C_.set(d,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,d)=>{const f=s.C_.get(u);if(!f)return;s.C_.set(u,f.withResumeToken(hi.EMPTY_BYTE_STRING,f.snapshotVersion)),_M(s,u);const g=new wo(f.target,u,d,f.sequenceNumber);o1(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){rt("RemoteStore","Failed to raise snapshot:",i),await ym(e,i)}}async function ym(e,t,n){if(!tf(t))throw t;e.v_.add(1),await rf(e),e.x_.set("Offline"),n||(n=()=>pM(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{rt("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Ey(e)})}function bM(e,t){return t().catch(n=>ym(e,n,t))}async function Iy(e){const t=Ft(e),n=Bo(t);let i=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Oj(t);)try{const r=await _j(t.localStore,i);if(r===null){t.D_.length===0&&n.Xo();break}i=r.batchId,Nj(t,r)}catch(r){await ym(t,r)}wM(t)&&EM(t)}function Oj(e){return ic(e)&&e.D_.length<10}function Nj(e,t){e.D_.push(t);const n=Bo(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function wM(e){return ic(e)&&!Bo(e).Ho()&&e.D_.length>0}function EM(e){Bo(e).start()}async function Lj(e){Bo(e).d_()}async function Fj(e){const t=Bo(e);for(const n of e.D_)t.I_(n.mutations)}async function Vj(e,t,n){const i=e.D_.shift(),r=Zw.from(i,t,n);await bM(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Iy(e)}async function Bj(e,t){t&&Bo(e).P_&&await async function(i,r){if(function(a){return k$(a)&&a!==q.ABORTED}(r.code)){const s=i.D_.shift();Bo(i).Zo(),await bM(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Iy(i)}}(e,t),wM(e)&&EM(e)}async function xx(e,t){const n=Ft(e);n.asyncQueue.verifyOperationInProgress(),rt("RemoteStore","RemoteStore received new credentials");const i=ic(n);n.v_.add(3),await rf(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Ey(n)}async function Uj(e,t){const n=Ft(e);t?(n.v_.delete(2),await Ey(n)):t||(n.v_.add(2),await rf(n),n.x_.set("Unknown"))}function ql(e){return e.N_||(e.N_=function(n,i,r){const s=Ft(n);return s.R_(),new Cj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Po:Rj.bind(null,e),To:Dj.bind(null,e),u_:Mj.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),c1(e)?a1(e):e.x_.set("Unknown")):(await e.N_.stop(),vM(e))})),e.N_}function Bo(e){return e.L_||(e.L_=function(n,i,r){const s=Ft(n);return s.R_(),new Sj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Po:Lj.bind(null,e),To:Bj.bind(null,e),E_:Fj.bind(null,e),T_:Vj.bind(null,e)}),e.F_.push(async t=>{t?(e.L_.Zo(),await Iy(e)):(await e.L_.stop(),e.D_.length>0&&(rt("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new l1(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u1(e,t){if(Qr("AsyncQueue",`${t}: ${e}`),tf(e))return new vt(q.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t){this.comparator=t?(n,i)=>t(n,i)||At.comparator(n.key,i.key):(n,i)=>At.comparator(n.key,i.key),this.keyedMap=Ch(),this.sortedSet=new en(this.comparator)}static emptySet(t){return new fl(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof fl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new fl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.B_=new en(At.comparator)}track(t){const n=t.doc.key,i=this.B_.get(n);i?t.type!==0&&i.type===3?this.B_=this.B_.insert(n,t):t.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.B_=this.B_.remove(n):t.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):Pt():this.B_=this.B_.insert(n,t)}k_(){const t=[];return this.B_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Dl{constructor(t,n,i,r,s,a,l,u,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Dl(t,n,fl.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&my(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(t=>t.U_())}}class jj{constructor(){this.queries=new Wl(t=>HD(t),my),this.onlineState="Unknown",this.W_=new Set}}async function IM(e,t){const n=Ft(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.K_()&&t.U_()&&(i=2):(s=new $j,i=t.U_()?0:1);try{switch(i){case 0:s.q_=await n.onListen(r,!0);break;case 1:s.q_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=u1(a,`Initialization of query '${tl(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Q_.push(t),t.G_(n.onlineState),s.q_&&t.z_(s.q_)&&h1(n)}async function AM(e,t){const n=Ft(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Q_.indexOf(t);a>=0&&(s.Q_.splice(a,1),s.Q_.length===0?r=t.U_()?0:1:!s.K_()&&t.U_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Hj(e,t){const n=Ft(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Q_)l.z_(r)&&(i=!0);a.q_=r}}i&&h1(n)}function zj(e,t,n){const i=Ft(e),r=i.queries.get(t);if(r)for(const s of r.Q_)s.onError(n);i.queries.delete(t)}function h1(e){e.W_.forEach(t=>{t.next()})}var gb,Px;(Px=gb||(gb={})).j_="default",Px.Cache="cache";class TM{constructor(t,n,i){this.query=t,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=i||{}}z_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Dl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.J_?this.Z_(t)&&(this.H_.next(t),n=!0):this.X_(t,this.onlineState)&&(this.ea(t),n=!0),this.Y_=t,n}onError(t){this.H_.error(t)}G_(t){this.onlineState=t;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,t)&&(this.ea(this.Y_),n=!0),n}X_(t,n){if(!t.fromCache||!this.U_())return!0;const i=n!=="Offline";return(!this.options.ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Z_(t){if(t.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(t){t=Dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.J_=!0,this.H_.next(t)}U_(){return this.options.source!==gb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.key=t}}class SM{constructor(t){this.key=t}}class Wj{constructor(t,n){this.query=t,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Qt(),this.mutatedKeys=Qt(),this.ha=zD(t),this.Pa=new fl(this.ha)}get Ia(){return this.ua}Ta(t,n){const i=n?n.Ea:new kx,r=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,g)=>{const m=r.get(f),v=yy(this.query,g)?g:null,E=!!m&&this.mutatedKeys.has(m.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;m&&v?m.data.isEqual(v.data)?E!==b&&(i.track({type:3,doc:v}),w=!0):this.da(m,v)||(i.track({type:2,doc:v}),w=!0,(u&&this.ha(v,u)>0||d&&this.ha(v,d)<0)&&(l=!0)):!m&&v?(i.track({type:0,doc:v}),w=!0):m&&!v&&(i.track({type:1,doc:m}),w=!0,(u||d)&&(l=!0)),w&&(v?(a=a.add(v),s=b?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{Pa:a,Ea:i,Xi:l,mutatedKeys:s}}da(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Pa;this.Pa=t.Pa,this.mutatedKeys=t.mutatedKeys;const a=t.Ea.k_();a.sort((f,g)=>function(v,E){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return b(v)-b(E)}(f.type,g.type)||this.ha(f.doc,g.doc)),this.Aa(i),r=r!=null&&r;const l=n&&!r?this.Ra():[],u=this.la.size===0&&this.current&&!r?1:0,d=u!==this.ca;return this.ca=u,a.length!==0||d?{snapshot:new Dl(this.query,t.Pa,s,a,t.mutatedKeys,u===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Va:l}:{Va:l}}G_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new kx,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(t){return!this.ua.has(t)&&!!this.Pa.has(t)&&!this.Pa.get(t).hasLocalMutations}Aa(t){t&&(t.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=t.current)}Ra(){if(!this.current)return[];const t=this.la;this.la=Qt(),this.Pa.forEach(i=>{this.ma(i.key)&&(this.la=this.la.add(i.key))});const n=[];return t.forEach(i=>{this.la.has(i)||n.push(new SM(i))}),this.la.forEach(i=>{t.has(i)||n.push(new CM(i))}),n}fa(t){this.ua=t.hs,this.la=Qt();const n=this.Ta(t.documents);return this.applyChanges(n,!0)}ga(){return Dl.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class qj{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class Kj{constructor(t){this.key=t,this.pa=!1}}class Gj{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new Wl(l=>HD(l),my),this.Sa=new Map,this.ba=new Set,this.Da=new en(At.comparator),this.Ca=new Map,this.va=new n1,this.Fa={},this.Ma=new Map,this.xa=Rl.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function Yj(e,t,n=!0){const i=MM(e);let r;const s=i.wa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ga()):r=await xM(i,t,n,!0),r}async function Qj(e,t){const n=MM(e);await xM(n,t,!0,!1)}async function xM(e,t,n,i){const r=await vj(e.localStore,zr(t)),s=r.targetId,a=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return i&&(l=await Xj(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&yM(e.remoteStore,r),l}async function Xj(e,t,n,i,r){e.Na=(g,m,v)=>async function(b,w,A,C){let k=w.view.Ta(A);k.Xi&&(k=await Tx(b.localStore,w.query,!1).then(({documents:N})=>w.view.Ta(N,k)));const R=C&&C.targetChanges.get(w.targetId),D=C&&C.targetMismatches.get(w.targetId)!=null,M=w.view.applyChanges(k,b.isPrimaryClient,R,D);return Dx(b,w.targetId,M.Va),M.snapshot}(e,g,m,v);const s=await Tx(e.localStore,t,!0),a=new Wj(t,s.hs),l=a.Ta(s.documents),u=nf.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),d=a.applyChanges(l,e.isPrimaryClient,u);Dx(e,n,d.Va);const f=new qj(t,n,a);return e.wa.set(t,f),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),d.snapshot}async function Jj(e,t,n){const i=Ft(e),r=i.wa.get(t),s=i.Sa.get(r.targetId);if(s.length>1)return i.Sa.set(r.targetId,s.filter(a=>!my(a,t))),void i.wa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await pb(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&s1(i.remoteStore,r.targetId),mb(i,r.targetId)}).catch(Zd)):(mb(i,r.targetId),await pb(i.localStore,r.targetId,!0))}async function Zj(e,t){const n=Ft(e),i=n.wa.get(t),r=n.Sa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),s1(n.remoteStore,i.targetId))}async function t7(e,t,n){const i=a7(e);try{const r=await function(a,l){const u=Ft(a),d=Mn.now(),f=l.reduce((v,E)=>v.add(E.key),Qt());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Ns(),b=Qt();return u.os.getEntries(v,f).next(w=>{E=w,E.forEach((A,C)=>{C.isValidDocument()||(b=b.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,E)).next(w=>{g=w;const A=[];for(const C of l){const k=A$(C,g.get(C.key).overlayedDocument);k!=null&&A.push(new Go(C.key,k,LD(k.value.mapValue),Wr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,A,l)}).next(w=>{m=w;const A=w.applyToLocalDocumentSet(g,b);return u.documentOverlayCache.saveOverlays(v,w.batchId,A)})}).then(()=>({batchId:m.batchId,changes:qD(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let d=a.Fa[a.currentUser.toKey()];d||(d=new en(ue)),d=d.insert(l,u),a.Fa[a.currentUser.toKey()]=d}(i,r.batchId,n),await sf(i,r.changes),await Iy(i.remoteStore)}catch(r){const s=u1(r,"Failed to persist write");n.reject(s)}}async function kM(e,t){const n=Ft(e);try{const i=await mj(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Ca.get(s);a&&(De(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.pa=!0:r.modifiedDocuments.size>0?De(a.pa):r.removedDocuments.size>0&&(De(a.pa),a.pa=!1))}),await sf(n,i,t)}catch(i){await Zd(i)}}function Rx(e,t,n){const i=Ft(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.wa.forEach((s,a)=>{const l=a.view.G_(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=Ft(a);u.onlineState=l;let d=!1;u.queries.forEach((f,g)=>{for(const m of g.Q_)m.G_(l)&&(d=!0)}),d&&h1(u)}(i.eventManager,t),r.length&&i.ya.u_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function e7(e,t,n){const i=Ft(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Ca.get(t),s=r&&r.key;if(s){let a=new en(At.comparator);a=a.insert(s,si.newNoDocument(s,Mt.min()));const l=Qt().add(s),u=new by(Mt.min(),new Map,new en(ue),a,l);await kM(i,u),i.Da=i.Da.remove(s),i.Ca.delete(t),d1(i)}else await pb(i.localStore,t,!1).then(()=>mb(i,t,n)).catch(Zd)}async function n7(e,t){const n=Ft(e),i=t.batch.batchId;try{const r=await gj(n.localStore,t);RM(n,i,null),PM(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await sf(n,r)}catch(r){await Zd(r)}}async function i7(e,t,n){const i=Ft(e);try{const r=await function(a,l){const u=Ft(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next(g=>(De(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(i.localStore,t);RM(i,t,n),PM(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await sf(i,r)}catch(r){await Zd(r)}}function PM(e,t){(e.Ma.get(t)||[]).forEach(n=>{n.resolve()}),e.Ma.delete(t)}function RM(e,t,n){const i=Ft(e);let r=i.Fa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Fa[i.currentUser.toKey()]=r}}function mb(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Sa.get(t))e.wa.delete(i),n&&e.ya.La(i,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach(i=>{e.va.containsKey(i)||DM(e,i)})}function DM(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);n!==null&&(s1(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),d1(e))}function Dx(e,t,n){for(const i of n)i instanceof CM?(e.va.addReference(i.key,t),r7(e,i)):i instanceof SM?(rt("SyncEngine","Document no longer in limbo: "+i.key),e.va.removeReference(i.key,t),e.va.containsKey(i.key)||DM(e,i.key)):Pt()}function r7(e,t){const n=t.key,i=n.path.canonicalString();e.Da.get(n)||e.ba.has(i)||(rt("SyncEngine","New document in limbo: "+n),e.ba.add(i),d1(e))}function d1(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new At(Ke.fromString(t)),i=e.xa.next();e.Ca.set(i,new Kj(n)),e.Da=e.Da.insert(n,i),yM(e.remoteStore,new wo(zr(Jw(n.path)),i,"TargetPurposeLimboResolution",qw._e))}}async function sf(e,t,n){const i=Ft(e),r=[],s=[],a=[];i.wa.isEmpty()||(i.wa.forEach((l,u)=>{a.push(i.Na(u,t,n).then(d=>{if((d||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(u.targetId,d!=null&&d.fromCache?"not-current":"current"),d){r.push(d);const f=r1.Ki(u.targetId,d);s.push(f)}}))}),await Promise.all(a),i.ya.u_(r),await async function(u,d){const f=Ft(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>W.forEach(d,m=>W.forEach(m.qi,v=>f.persistence.referenceDelegate.addReference(g,m.targetId,v)).next(()=>W.forEach(m.Qi,v=>f.persistence.referenceDelegate.removeReference(g,m.targetId,v)))))}catch(g){if(!tf(g))throw g;rt("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const m=g.targetId;if(!g.fromCache){const v=f.ns.get(m),E=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(E);f.ns=f.ns.insert(m,b)}}}(i.localStore,s))}async function s7(e,t){const n=Ft(e);if(!n.currentUser.isEqual(t)){rt("SyncEngine","User change. New user:",t.toKey());const i=await fM(n.localStore,t);n.currentUser=t,function(s,a){s.Ma.forEach(l=>{l.forEach(u=>{u.reject(new vt(q.CANCELLED,a))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await sf(n,i.us)}}function o7(e,t){const n=Ft(e),i=n.Ca.get(t);if(i&&i.pa)return Qt().add(i.key);{let r=Qt();const s=n.Sa.get(t);if(!s)return r;for(const a of s){const l=n.wa.get(a);r=r.unionWith(l.view.Ia)}return r}}function MM(e){const t=Ft(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kM.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=o7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=e7.bind(null,t),t.ya.u_=Hj.bind(null,t.eventManager),t.ya.La=zj.bind(null,t.eventManager),t}function a7(e){const t=Ft(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=n7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=i7.bind(null,t),t}class Mx{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=wy(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return pj(this.persistence,new dj,t.initialUser,this.serializer)}createPersistence(t){return new lj(i1.Hr,this.serializer)}createSharedClientState(t){return new wj}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class c7{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Rx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=s7.bind(null,this.syncEngine),await Uj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new jj}()}createDatastore(t){const n=wy(t.databaseInfo.databaseId),i=function(s){return new Tj(s)}(t.databaseInfo);return function(s,a,l,u){return new xj(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new Pj(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>Rx(this.syncEngine,n,0),function(){return Sx.D()?new Sx:new Ej}())}createSyncEngine(t,n){return function(r,s,a,l,u,d,f){const g=new Gj(r,s,a,l,u,d);return f&&(g.Oa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(i){const r=Ft(i);rt("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await rf(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.qa(this.observer.next,t)}error(t){this.observer.error?this.qa(this.observer.error,t):Qr("Uncaught Error in snapshot listener:",t.toString())}Qa(){this.muted=!0}qa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ri.UNAUTHENTICATED,this.clientId=MD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{rt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(rt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=u1(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function i0(e,t){e.asyncQueue.verifyOperationInProgress(),rt("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await fM(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ox(e,t){e.asyncQueue.verifyOperationInProgress();const n=await h7(e);rt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>xx(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>xx(t.remoteStore,r)),e._onlineComponents=t}function u7(e){return e.name==="FirebaseError"?e.code===q.FAILED_PRECONDITION||e.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function h7(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){rt("FirestoreClient","Using user provided OfflineComponentProvider");try{await i0(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!u7(n))throw n;Cl("Error using user provided cache. Falling back to memory cache: "+n),await i0(e,new Mx)}}else rt("FirestoreClient","Using default OfflineComponentProvider"),await i0(e,new Mx);return e._offlineComponents}async function NM(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(rt("FirestoreClient","Using user provided OnlineComponentProvider"),await Ox(e,e._uninitializedComponentsProvider._online)):(rt("FirestoreClient","Using default OnlineComponentProvider"),await Ox(e,new c7))),e._onlineComponents}function d7(e){return NM(e).then(t=>t.syncEngine)}async function LM(e){const t=await NM(e),n=t.eventManager;return n.onListen=Yj.bind(null,t.syncEngine),n.onUnlisten=Jj.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Qj.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Zj.bind(null,t.syncEngine),n}function f7(e,t,n={}){const i=new Hr;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,d){const f=new OM({next:m=>{a.enqueueAndForget(()=>AM(s,g));const v=m.docs.has(l);!v&&m.fromCache?d.reject(new vt(q.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?d.reject(new vt(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),g=new TM(Jw(l.path),f,{includeMetadataChanges:!0,ta:!0});return IM(s,g)}(await LM(e),e.asyncQueue,t,n,i)),i.promise}function p7(e,t,n={}){const i=new Hr;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,d){const f=new OM({next:m=>{a.enqueueAndForget(()=>AM(s,g)),m.fromCache&&u.source==="server"?d.reject(new vt(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),g=new TM(l,f,{includeMetadataChanges:!0,ta:!0});return IM(s,g)}(await LM(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(e,t,n){if(!n)throw new vt(q.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function g7(e,t,n,i){if(t===!0&&i===!0)throw new vt(q.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Lx(e){if(!At.isDocumentKey(e))throw new vt(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Fx(e){if(At.isDocumentKey(e))throw new vt(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function f1(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Pt()}function Ls(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vt(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=f1(e);throw new vt(q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new vt(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new vt(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}g7("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FM((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new vt(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new vt(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new vt(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ay{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new vt(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vx(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new RU;switch(i.type){case"firstParty":return new NU(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new vt(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Nx.get(n);i&&(rt("ComponentProvider","Removing Datastore"),Nx.delete(n),i.terminate())}(this),Promise.resolve()}}function m7(e,t,n,i={}){var r;const s=(e=Ls(e,Ay))._getSettings(),a=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let l,u;if(typeof i.mockUserToken=="string")l=i.mockUserToken,u=ri.MOCK_USER;else{l=i6(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new vt(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ri(d)}e._authCredentials=new DU(new DD(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ty(this.firestore,t,this._query)}}class ki{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ki(this.firestore,t,this._key)}}class Po extends Ty{constructor(t,n,i){super(t,n,Jw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ki(this.firestore,null,new At(t))}withConverter(t){return new Po(this.firestore,t,this._path)}}function Zr(e,t,...n){if(e=Ot(e),VM("collection","path",t),e instanceof Ay){const i=Ke.fromString(t,...n);return Fx(i),new Po(e,null,i)}{if(!(e instanceof ki||e instanceof Po))throw new vt(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ke.fromString(t,...n));return Fx(i),new Po(e.firestore,null,i)}}function Gt(e,t,...n){if(e=Ot(e),arguments.length===1&&(t=MD.newId()),VM("doc","path",t),e instanceof Ay){const i=Ke.fromString(t,...n);return Lx(i),new ki(e,null,new At(i))}{if(!(e instanceof ki||e instanceof Po))throw new vt(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ke.fromString(t,...n));return Lx(i),new ki(e.firestore,e instanceof Po?e.converter:null,new At(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new gM(this,"async_queue_retry"),this.cu=()=>{const n=n0();n&&rt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=n0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.lu(),this.hu(t)}enterRestrictedMode(t){if(!this.iu){this.iu=!0,this.au=t||!1;const n=n0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(t){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Hr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ru.push(t),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(t){if(!tf(t))throw t;rt("AsyncQueue","Operation failed with retryable error: "+t)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(t){const n=this.nu.then(()=>(this._u=!0,t().catch(i=>{this.ou=i,this._u=!1;const r=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw Qr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(t,n,i){this.lu(),this.uu.indexOf(t)>-1&&(n=0);const r=l1.createAndSchedule(this,t,n,i,s=>this.Iu(s));return this.su.push(r),r}lu(){this.ou&&Pt()}verifyOperationInProgress(){}async Tu(){let t;do t=this.nu,await t;while(t!==this.nu)}Eu(t){for(const n of this.su)if(n.timerId===t)return!0;return!1}du(t){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.su)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tu()})}Au(t){this.uu.push(t)}Iu(t){const n=this.su.indexOf(t);this.su.splice(n,1)}}class of extends Ay{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=function(){return new y7}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BM(this),this._firestoreClient.terminate()}}function ye(e,t){const n=typeof e=="object"?e:vw(),i=typeof e=="string"?e:t||"(default)",r=zd(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=e6("firestore");s&&m7(r,...s)}return r}function p1(e){return e._firestoreClient||BM(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function BM(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,d,f){return new YU(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,FM(f.experimentalLongPollingOptions),f.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new l7(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ml(hi.fromBase64String(t))}catch(n){throw new vt(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ml(hi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new vt(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new vt(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new vt(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ue(this._lat,t._lat)||ue(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=/^__.*__$/;class v7{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Go(t,this.data,this.fieldMask,n,this.fieldTransforms):new ef(t,this.data,n,this.fieldTransforms)}}class UM{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Go(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function $M(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class xy{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(t){return new xy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.mu({path:i,gu:!1});return r.pu(t),r}yu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.mu({path:i,gu:!1});return r.Ru(),r}wu(t){return this.mu({path:void 0,gu:!0})}Su(t){return _m(t,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let t=0;t<this.path.length;t++)this.pu(this.path.get(t))}pu(t){if(t.length===0)throw this.Su("Document fields must not be empty");if($M(this.Vu)&&_7.test(t))throw this.Su('Document fields cannot begin and end with "__"')}}class b7{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||wy(t)}Cu(t,n,i,r=!1){return new xy({Vu:t,methodName:n,Du:i,path:Yn.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jM(e){const t=e._freezeSettings(),n=wy(e._databaseId);return new b7(e._databaseId,!!t.ignoreUndefinedProperties,n)}function w7(e,t,n,i,r,s={}){const a=e.Cu(s.merge||s.mergeFields?2:0,t,n,r);y1("Data must be an object, but it was:",a,i);const l=HM(i,a);let u,d;if(s.merge)u=new ji(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const m=yb(t,g,n);if(!a.contains(m))throw new vt(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);WM(f,m)||f.push(m)}u=new ji(f),d=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=a.fieldTransforms;return new v7(new Ci(l),u,d)}class ky extends Sy{_toFieldTransform(t){if(t.Vu!==2)throw t.Vu===1?t.Su(`${this._methodName}() can only appear at the top level of your update data`):t.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ky}}function E7(e,t,n){return new xy({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class m1 extends Sy{constructor(t,n){super(t),this.vu=n}_toFieldTransform(t){const n=E7(this,t,!0),i=this.vu.map(s=>af(s,n)),r=new Pl(i);return new b$(t.path,r)}isEqual(t){return t instanceof m1&&fd(this.vu,t.vu)}}function I7(e,t,n,i){const r=e.Cu(1,t,n);y1("Data must be an object, but it was:",r,i);const s=[],a=Ci.empty();nc(i,(u,d)=>{const f=_1(t,u,n);d=Ot(d);const g=r.yu(f);if(d instanceof ky)s.push(f);else{const m=af(d,g);m!=null&&(s.push(f),a.set(f,m))}});const l=new ji(s);return new UM(a,l,r.fieldTransforms)}function A7(e,t,n,i,r,s){const a=e.Cu(1,t,n),l=[yb(t,i,n)],u=[r];if(s.length%2!=0)throw new vt(q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(yb(t,s[m])),u.push(s[m+1]);const d=[],f=Ci.empty();for(let m=l.length-1;m>=0;--m)if(!WM(d,l[m])){const v=l[m];let E=u[m];E=Ot(E);const b=a.yu(v);if(E instanceof ky)d.push(v);else{const w=af(E,b);w!=null&&(d.push(v),f.set(v,w))}}const g=new ji(d);return new UM(f,g,a.fieldTransforms)}function af(e,t){if(zM(e=Ot(e)))return y1("Unsupported field value:",t,e),HM(e,t);if(e instanceof Sy)return function(i,r){if(!$M(r.Vu))throw r.Su(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Su(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&t.Vu!==4)throw t.Su("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=af(l,r.wu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return y$(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Mn.fromDate(i);return{timestampValue:mm(r.serializer,s)}}if(i instanceof Mn){const s=new Mn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mm(r.serializer,s)}}if(i instanceof g1)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ml)return{bytesValue:oM(r.serializer,i._byteString)};if(i instanceof ki){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Su(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:e1(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Su(`Unsupported field value: ${f1(i)}`)}(e,t)}function HM(e,t){const n={};return OD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nc(e,(i,r)=>{const s=af(r,t.fu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function zM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Mn||e instanceof g1||e instanceof Ml||e instanceof ki||e instanceof Sy)}function y1(e,t,n){if(!zM(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=f1(n);throw i==="an object"?t.Su(e+" a custom object"):t.Su(e+" "+i)}}function yb(e,t,n){if((t=Ot(t))instanceof Cy)return t._internalPath;if(typeof t=="string")return _1(e,t);throw _m("Field path arguments must be of type string or ",e,!1,void 0,n)}const T7=new RegExp("[~\\*/\\[\\]]");function _1(e,t,n){if(t.search(T7)>=0)throw _m(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Cy(...t.split("."))._internalPath}catch{throw _m(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function _m(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new vt(q.INVALID_ARGUMENT,l+e+u)}function WM(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new C7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(KM("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C7 extends qM{data(){return super.data()}}function KM(e,t){return typeof t=="string"?_1(e,t):t instanceof Cy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new vt(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x7{convertValue(t,n="none"){switch(qa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Sn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Wa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Pt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return nc(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(t){return new g1(Sn(t.latitude),Sn(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Gw(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Td(t));default:return null}}convertTimestamp(t){const n=Vo(t);return new Mn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ke.fromString(t);De(dM(i));const r=new Cd(i.get(1),i.get(3)),s=new At(i.popFirst(5));return r.isEqual(n)||Qr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class GM extends qM{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(KM("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Dg extends GM{data(t={}){return super.data(t)}}class P7{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new xh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Dg(this._firestore,this._userDataWriter,i.key,i,new xh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new vt(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Dg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new xh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Dg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new xh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:R7(l.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function R7(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e){e=Ls(e,ki);const t=Ls(e.firestore,of);return f7(p1(t),e._key).then(n=>M7(t,e,n))}class YM extends x7{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ml(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ki(this.firestore,null,n)}}function ts(e){e=Ls(e,Ty);const t=Ls(e.firestore,of),n=p1(t),i=new YM(t);return S7(e._query),p7(n,e._query).then(r=>new P7(t,i,e,r))}function D7(e,t,n){e=Ls(e,ki);const i=Ls(e.firestore,of),r=k7(e.converter,t,n);return QM(i,[w7(jM(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Wr.none())])}function Qn(e,t,n,...i){e=Ls(e,ki);const r=Ls(e.firestore,of),s=jM(r);let a;return a=typeof(t=Ot(t))=="string"||t instanceof Cy?A7(s,"updateDoc",e._key,t,n,i):I7(s,"updateDoc",e._key,t),QM(r,[a.toMutation(e._key,Wr.exists(!0))])}function QM(e,t){return function(i,r){const s=new Hr;return i.asyncQueue.enqueueAndForget(async()=>t7(await d7(i),r,s)),s.promise}(p1(e),t)}function M7(e,t,n){const i=n.docs.get(t._key),r=new YM(e);return new GM(e,r,t._key,i,new xh(n.hasPendingWrites,n.fromCache),t.converter)}function Ka(...e){return new m1("arrayUnion",e)}(function(t,n=!0){(function(r){zl=r})(Wo),Lo(new Ms("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new of(new MU(i.getProvider("auth-internal")),new FU(i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new vt(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cd(d.options.projectId,f)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Zi(rx,"4.6.0",t),Zi(rx,"4.6.0","esm2017")})();function v1(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}const uh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Gc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function XM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N7=O7,L7=XM,JM=new tc("auth","Firebase",XM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Qm("@firebase/auth");function F7(e,...t){vm.logLevel<=Yt.WARN&&vm.warn(`Auth (${Wo}): ${e}`,...t)}function Mg(e,...t){vm.logLevel<=Yt.ERROR&&vm.error(`Auth (${Wo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(e,...t){throw w1(e,...t)}function On(e,...t){return w1(e,...t)}function b1(e,t,n){const i=Object.assign(Object.assign({},L7()),{[t]:n});return new tc("auth","Firebase",i).create(t,{appName:e.name})}function jn(e){return b1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kl(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&zn(e,"argument-error"),b1(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w1(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return JM.create(e,...t)}function Q(e,t,...n){if(!e)throw w1(t,...n)}function $r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Mg(t),new Error(t)}function yr(e,t){e||$r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function E1(){return Bx()==="http:"||Bx()==="https:"}function Bx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E1()||gR()||"connection"in navigator)?navigator.onLine:!0}function B7(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,n){this.shortDelay=t,this.longDelay=n,yr(n>t,"Short delay should be less than long delay!"),this.isMobile=r6()||mw()}get(){return V7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(e,t){yr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=new cf(3e4,6e4);function dn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function fn(e,t,n,i,r={}){return tO(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=$l(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),ZM.fetch()(eO(e,e.config.apiHost,n,l),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function tO(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},U7),t);try{const r=new H7(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw kh(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw kh(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw kh(e,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw b1(e,f,d);zn(e,f)}}catch(r){if(r instanceof _i)throw r;zn(e,"network-request-failed",{message:String(r)})}}async function Us(e,t,n,i,r={}){const s=await fn(e,t,n,i,r);return"mfaPendingCredential"in s&&zn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function eO(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?I1(e.config,r):`${e.config.apiScheme}://${r}`}function j7(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H7{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(On(this.auth,"network-request-failed")),$7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kh(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=On(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(e){return e!==void 0&&e.getResponse!==void 0}function $x(e){return e!==void 0&&e.enterprise!==void 0}class z7{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return j7(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(e){return(await fn(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function q7(e,t){return fn(e,"GET","/v2/recaptchaConfig",dn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K7(e,t){return fn(e,"POST","/v1/accounts:delete",t)}async function G7(e,t){return fn(e,"POST","/v1/accounts:update",t)}async function nO(e,t){return fn(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Y7(e,t=!1){const n=Ot(e),i=await n.getIdToken(t),r=Py(i);Q(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Kh(r0(r.auth_time)),issuedAtTime:Kh(r0(r.iat)),expirationTime:Kh(r0(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function r0(e){return Number(e)*1e3}function Py(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Mg("JWT malformed, contained fewer than 3 sections"),null;try{const r=uR(n);return r?JSON.parse(r):(Mg("Failed to decode base64 JWT payload"),null)}catch(r){return Mg("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function jx(e){const t=Py(e);return Q(t,"internal-error"),Q(typeof t.exp<"u","internal-error"),Q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof _i&&Q7(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function Q7({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kh(this.lastLoginAt),this.creationTime=Kh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Fs(e,nO(n,{idToken:i}));Q(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?iO(s.providerUserInfo):[],l=Z7(e.providerData,a),u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new _b(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(e,g)}async function J7(e){const t=Ot(e);await Pd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Z7(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function iO(e){return e.map(t=>{var{providerId:n}=t,i=v1(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(e,t){const n=await tO(e,{},async()=>{const i=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=eO(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",ZM.fetch()(a,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e8(e,t){return fn(e,"POST","/v2/accounts:revokeToken",dn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Q(t.idToken,"internal-error"),Q(typeof t.idToken<"u","internal-error"),Q(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):jx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Q(t.length!==0,"internal-error");const n=jx(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await t8(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new pl;return i&&(Q(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(Q(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(Q(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(e,t){Q(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class bs{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=v1(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _b(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Fs(this,this.stsTokenManager.getToken(this.auth,t));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Y7(this,t)}reload(){return J7(this)}_assign(t){this!==t&&(Q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new bs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Pd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(jn(this.auth));const t=await this.getIdToken();return await Fs(this,K7(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,d,f;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,w=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,A=(d=n.createdAt)!==null&&d!==void 0?d:void 0,C=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:k,emailVerified:R,isAnonymous:D,providerData:M,stsTokenManager:N}=n;Q(k&&N,t,"internal-error");const V=pl.fromJSON(this.name,N);Q(typeof k=="string",t,"internal-error"),ho(g,t.name),ho(m,t.name),Q(typeof R=="boolean",t,"internal-error"),Q(typeof D=="boolean",t,"internal-error"),ho(v,t.name),ho(E,t.name),ho(b,t.name),ho(w,t.name),ho(A,t.name),ho(C,t.name);const X=new bs({uid:k,auth:t,email:m,emailVerified:R,displayName:g,isAnonymous:D,photoURL:E,phoneNumber:v,tenantId:b,stsTokenManager:V,createdAt:A,lastLoginAt:C});return M&&Array.isArray(M)&&(X.providerData=M.map(at=>Object.assign({},at))),w&&(X._redirectEventId=w),X}static async _fromIdTokenResponse(t,n,i=!1){const r=new pl;r.updateFromServerResponse(n);const s=new bs({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Pd(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];Q(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?iO(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new pl;l.updateFromIdToken(i);const u=new bs({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new _b(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Map;function Hi(e){yr(e instanceof Function,"Expected a class definition");let t=Hx.get(e);return t?(yr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hx.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}rO.type="NONE";const Ol=rO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(e,t,n){return`firebase:${e}:${t}:${n}`}class gl{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Fa(this.userKey,r.apiKey,s),this.fullPersistenceKey=Fa("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?bs._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new gl(Hi(Ol),t,i);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||Hi(Ol);const a=Fa(i,t.config.apiKey,t.name);let l=null;for(const d of n)try{const f=await d._get(a);if(f){const g=bs._fromJSON(t,f);d!==s&&(l=g),s=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new gl(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new gl(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aO(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sO(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cO(t))return"Blackberry";if(lO(t))return"Webos";if(A1(t))return"Safari";if((t.includes("chrome/")||oO(t))&&!t.includes("edge/"))return"Chrome";if(lf(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function sO(e=Ge()){return/firefox\//i.test(e)}function A1(e=Ge()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oO(e=Ge()){return/crios\//i.test(e)}function aO(e=Ge()){return/iemobile/i.test(e)}function lf(e=Ge()){return/android/i.test(e)}function cO(e=Ge()){return/blackberry/i.test(e)}function lO(e=Ge()){return/webos/i.test(e)}function Gl(e=Ge()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function n8(e=Ge()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function i8(e=Ge()){var t;return Gl(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function r8(){return mR()&&document.documentMode===10}function uO(e=Ge()){return Gl(e)||lf(e)||lO(e)||cO(e)||/windows phone/i.test(e)||aO(e)}function s8(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(e,t=[]){let n;switch(e){case"Browser":n=zx(Ge());break;case"Worker":n=`${zx(Ge())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(e,t={}){return fn(e,"GET","/v2/passwordPolicy",dn(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=6;class l8{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:c8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wx(this),this.idTokenSubscription=new Wx(this),this.beforeStateQueue=new o8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await gl.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await nO(this,{idToken:t}),i=await bs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(an(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Pd(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=B7()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(an(this.app))return Promise.reject(jn(this));const n=t?Ot(t):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return an(this.app)?Promise.reject(jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await a8(this),n=new l8(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new tc("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await e8(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hi(t)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&F7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function un(e){return Ot(e)}class Wx{constructor(t){this.auth=t,this.observer=null,this.addObserver=yR(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h8(e){uf=e}function T1(e){return uf.loadJS(e)}function d8(){return uf.recaptchaV2Script}function f8(){return uf.recaptchaEnterpriseScript}function p8(){return uf.gapiScript}function dO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const g8="recaptcha-enterprise",m8="NO_RECAPTCHA";class y8{constructor(t){this.type=g8,this.auth=un(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{q7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new z7(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;$x(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(d=>{a(d)}).catch(()=>{a(m8)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&$x(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=f8();u.length!==0&&(u+=l),T1(u).then(()=>{r(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function qx(e,t,n,i=!1){const r=new y8(e);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const a=Object.assign({},t);return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Rd(e,t,n,i){var r;if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await qx(e,t,n,n==="getOobCode");return i(e,s)}else return i(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await qx(e,t,n,n==="getOobCode");return i(e,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(e,t){const n=zd(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(fd(s,t??{}))return r;zn(r,"already-initialized")}return n.initialize({options:t})}function v8(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Hi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function fO(e,t,n){const i=un(e);Q(i._canInitEmulator,i,"emulator-config-failed"),Q(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=pO(t),{host:a,port:l}=b8(t),u=l===null?"":`:${l}`;i.config.emulator={url:`${s}//${a}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||w8()}function pO(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function b8(e){const t=pO(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Kx(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:Kx(a)}}}function Kx(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function w8(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(t){return $r("not implemented")}_linkToIdToken(t,n){return $r("not implemented")}_getReauthenticationResolver(t){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(e,t){return fn(e,"POST","/v1/accounts:resetPassword",dn(e,t))}async function E8(e,t){return fn(e,"POST","/v1/accounts:update",t)}async function I8(e,t){return fn(e,"POST","/v1/accounts:signUp",t)}async function A8(e,t){return fn(e,"POST","/v1/accounts:update",dn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T8(e,t){return Us(e,"POST","/v1/accounts:signInWithPassword",dn(e,t))}async function Ry(e,t){return fn(e,"POST","/v1/accounts:sendOobCode",dn(e,t))}async function C8(e,t){return Ry(e,t)}async function S8(e,t){return Ry(e,t)}async function x8(e,t){return Ry(e,t)}async function k8(e,t){return Ry(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(e,t){return Us(e,"POST","/v1/accounts:signInWithEmailLink",dn(e,t))}async function R8(e,t){return Us(e,"POST","/v1/accounts:signInWithEmailLink",dn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends Yl{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new Dd(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Dd(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rd(t,n,"signInWithPassword",T8);case"emailLink":return P8(t,{email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rd(t,i,"signUpPassword",I8);case"emailLink":return R8(t,{idToken:n,email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ks(e,t){return Us(e,"POST","/v1/accounts:signInWithIdp",dn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="http://localhost";class es extends Yl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new es(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=v1(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new es(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return ks(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ks(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ks(t,n)}buildRequest(){const t={requestUri:D8,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=$l(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(e,t){return fn(e,"POST","/v1/accounts:sendVerificationCode",dn(e,t))}async function O8(e,t){return Us(e,"POST","/v1/accounts:signInWithPhoneNumber",dn(e,t))}async function N8(e,t){const n=await Us(e,"POST","/v1/accounts:signInWithPhoneNumber",dn(e,t));if(n.temporaryProof)throw kh(e,"account-exists-with-different-credential",n);return n}const L8={USER_NOT_FOUND:"user-not-found"};async function F8(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return Us(e,"POST","/v1/accounts:signInWithPhoneNumber",dn(e,n),L8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Yl{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,n){return new Va({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new Va({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(t){return O8(t,this._makeVerificationRequest())}_linkToIdToken(t,n){return N8(t,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return F8(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));const{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:s}=t;return!i&&!n&&!r&&!s?null:new Va({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B8(e){const t=il(Ih(e)).link,n=t?il(Ih(t)).deep_link_id:null,i=il(Ih(e)).deep_link_id;return(i?il(Ih(i)).link:null)||i||n||t||e}class Dy{constructor(t){var n,i,r,s,a,l;const u=il(Ih(t)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(i=u.oobCode)!==null&&i!==void 0?i:null,g=V8((r=u.mode)!==null&&r!==void 0?r:null);Q(d&&f&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const n=B8(t);try{return new Dy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(t,n){return Dd._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=Dy.parseLink(n);return Q(i,"argument-error"),Dd._fromEmailAndCode(t,i.code,i.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends $s{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ml extends Ql{static credentialFromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;return Q("providerId"in n&&"signInMethod"in n,"argument-error"),es._fromParams(n)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return Q(t.idToken||t.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return ml.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return ml.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:a,providerId:l}=t;if(!i&&!r&&!n&&!s||!l)return null;try{return new ml(l)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Ql{constructor(){super("facebook.com")}static credential(t){return es._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return es._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Or.credential(n,i)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Ql{constructor(){super("github.com")}static credential(t){return es._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="http://localhost";class Nl extends Yl{constructor(t,n){super(t,t),this.pendingToken=n}_getIdTokenResponse(t){const n=this.buildRequest();return ks(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ks(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ks(t,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,pendingToken:s}=n;return!i||!r||!s||i!==r?null:new Nl(i,s)}static _create(t,n){return new Nl(t,n)}buildRequest(){return{requestUri:U8,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="saml.";class bm extends $s{constructor(t){Q(t.startsWith($8),"argument-error"),super(t)}static credentialFromResult(t){return bm.samlCredentialFromTaggedObject(t)}static credentialFromError(t){return bm.samlCredentialFromTaggedObject(t.customData||{})}static credentialFromJSON(t){const n=Nl.fromJSON(t);return Q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{pendingToken:n,providerId:i}=t;if(!n||!i)return null;try{return Nl._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Ql{constructor(){super("twitter.com")}static credential(t,n){return es._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Lr.credential(n,i)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(e,t){return Us(e,"POST","/v1/accounts:signUp",dn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await bs._fromIdTokenResponse(t,i,r),a=Gx(i);return new er({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=Gx(i);return new er({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function Gx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(e){var t;if(an(e.app))return Promise.reject(jn(e));const n=un(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new er({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await mO(n,{returnSecureToken:!0}),r=await er._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends _i{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,wm.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new wm(t,n,i,r)}}function yO(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wm._fromErrorAndOperation(e,s,t,i):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(e){return new Set(e.map(({providerId:t})=>t).filter(t=>!!t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8(e,t){const n=Ot(e);await My(!0,n,t);const{providerUserInfo:i}=await G7(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),r=_O(i||[]);return n.providerData=n.providerData.filter(s=>r.has(s.providerId)),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function C1(e,t,n=!1){const i=await Fs(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return er._forOperation(e,"link",i)}async function My(e,t,n){await Pd(t);const i=_O(t.providerData),r=e===!1?"provider-already-linked":"no-such-provider";Q(i.has(n)===e,t.auth,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(e,t,n=!1){const{auth:i}=e;if(an(i.app))return Promise.reject(jn(i));const r="reauthenticate";try{const s=await Fs(e,yO(i,r,t,e),n);Q(s.idToken,i,"internal-error");const a=Py(s.idToken);Q(a,i,"internal-error");const{sub:l}=a;return Q(e.uid===l,i,"user-mismatch"),er._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(e,t,n=!1){if(an(e.app))return Promise.reject(jn(e));const i="signIn",r=await yO(e,i,t),s=await er._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function Oy(e,t){return bO(un(e),t)}async function wO(e,t){const n=Ot(e);return await My(!1,n,t.providerId),C1(n,t)}async function EO(e,t){return vO(Ot(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(e,t){return Us(e,"POST","/v1/accounts:signInWithCustomToken",dn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W8(e,t){if(an(e.app))return Promise.reject(jn(e));const n=un(e),i=await z8(n,{token:t,returnSecureToken:!0}),r=await er._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,n){this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(t,n){return"phoneInfo"in n?S1._fromServerResponse(t,n):"totpInfo"in n?x1._fromServerResponse(t,n):zn(t,"internal-error")}}class S1 extends hf{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,n){return new S1(n)}}class x1 extends hf{constructor(t){super("totp",t)}static _fromServerResponse(t,n){return new x1(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e,t,n){var i;Q(((i=n.url)===null||i===void 0?void 0:i.length)>0,e,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(e){const t=un(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function q8(e,t,n){const i=un(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Ny(i,r,n),await Rd(i,r,"getOobCode",S8)}async function K8(e,t,n){await gO(Ot(e),{oobCode:t,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&k1(e),i})}async function G8(e,t){await A8(Ot(e),{oobCode:t})}async function IO(e,t){const n=Ot(e),i=await gO(n,{oobCode:t}),r=i.requestType;switch(Q(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(i.mfaInfo,n,"internal-error");default:Q(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=hf._fromServerResponse(un(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}}async function Y8(e,t){const{data:n}=await IO(Ot(e),t);return n.email}async function Q8(e,t,n){if(an(e.app))return Promise.reject(jn(e));const i=un(e),a=await Rd(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mO).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&k1(e),u}),l=await er._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function X8(e,t,n){return an(e.app)?Promise.reject(jn(e)):Oy(Ot(e),Yo.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&k1(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(e,t,n){const i=un(e),r={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(a,l){Q(l.handleCodeInApp,i,"argument-error"),l&&Ny(i,a,l)}s(r,n),await Rd(i,r,"getOobCode",x8)}function TO(e,t){const n=Dy.parseLink(t);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function CO(e,t,n){if(an(e.app))return Promise.reject(jn(e));const i=Ot(e),r=Yo.credentialWithLink(t,n||kd());return Q(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Oy(i,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(e,t){return fn(e,"POST","/v1/accounts:createAuthUri",dn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(e,t){const n=E1()?kd():"http://localhost",i={identifier:t,continueUri:n},{signinMethods:r}=await J8(Ot(e),i);return r||[]}async function tH(e,t){const n=Ot(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ny(n.auth,r,t);const{email:s}=await C8(n.auth,r);s!==e.email&&await e.reload()}async function eH(e,t,n){const i=Ot(e),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Ny(i.auth,s,n);const{email:a}=await k8(i.auth,s);a!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nH(e,t){return fn(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iH(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=Ot(e),s={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},a=await Fs(i,nH(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const l=i.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function rH(e,t){const n=Ot(e);return an(n.auth.app)?Promise.reject(jn(n.auth)):SO(n,t,null)}function sH(e,t){return SO(Ot(e),null,t)}async function SO(e,t,n){const{auth:i}=e,s={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const a=await Fs(e,E8(i,s));await e._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||e.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(e!=null&&e.idToken)){const a=(n=(t=Py(e.idToken))===null||t===void 0?void 0:t.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){const l=a!=="anonymous"&&a!=="custom"?a:null;return new yl(s,l)}}if(!i)return null;switch(i){case"facebook.com":return new aH(s,r);case"github.com":return new cH(s,r);case"google.com":return new lH(s,r);case"twitter.com":return new uH(s,r,e.screenName||null);case"custom":case"anonymous":return new yl(s,null);default:return new yl(s,i,r)}}class yl{constructor(t,n,i={}){this.isNewUser=t,this.providerId=n,this.profile=i}}class xO extends yl{constructor(t,n,i,r){super(t,n,i),this.username=r}}class aH extends yl{constructor(t,n){super(t,"facebook.com",n)}}class cH extends xO{constructor(t,n){super(t,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class lH extends yl{constructor(t,n){super(t,"google.com",n)}}class uH extends xO{constructor(t,n,i){super(t,"twitter.com",n,i)}}function hH(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:oH(n)}function dH(e,t,n,i){return Ot(e).onIdTokenChanged(t,n,i)}function fH(e,t,n){return Ot(e).beforeAuthStateChanged(t,n)}function ne(e,t,n,i){return Ot(e).onAuthStateChanged(t,n,i)}function pH(e){return Ot(e).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,n,i){this.type=t,this.credential=n,this.user=i}static _fromIdtoken(t,n){return new Da("enroll",t,n)}static _fromMfaPendingCredential(t){return new Da("signin",t)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var n,i;if(t!=null&&t.multiFactorSession){if(!((n=t.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Da._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(!((i=t.multiFactorSession)===null||i===void 0)&&i.idToken)return Da._fromIdtoken(t.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t,n,i){this.session=t,this.hints=n,this.signInResolver=i}static _fromError(t,n){const i=un(t),r=n.customData._serverResponse,s=(r.mfaInfo||[]).map(l=>hf._fromServerResponse(i,l));Q(r.mfaPendingCredential,i,"internal-error");const a=Da._fromMfaPendingCredential(r.mfaPendingCredential);return new P1(a,s,async l=>{const u=await l._process(i,a);delete r.mfaInfo,delete r.mfaPendingCredential;const d=Object.assign(Object.assign({},r),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const f=await er._fromIdTokenResponse(i,n.operationType,d);return await i._updateCurrentUser(f.user),f;case"reauthenticate":return Q(n.user,i,"internal-error"),er._forOperation(n.user,n.operationType,d);default:zn(i,"internal-error")}})}async resolveSignIn(t){const n=t;return this.signInResolver(n)}}function gH(e,t){var n;const i=Ot(e),r=t;return Q(t.customData.operationType,i,"argument-error"),Q((n=r.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),P1._fromError(i,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(e,t){return fn(e,"POST","/v2/accounts/mfaEnrollment:start",dn(e,t))}function yH(e,t){return fn(e,"POST","/v2/accounts/mfaEnrollment:finalize",dn(e,t))}function _H(e,t){return fn(e,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(e,t))}class R1{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>hf._fromServerResponse(t.auth,i)))})}static _fromUser(t){return new R1(t)}async getSession(){return Da._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(t,n){const i=t,r=await this.getSession(),s=await Fs(this.user,i._process(this.user.auth,r,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(t){const n=typeof t=="string"?t:t.uid,i=await this.user.getIdToken();try{const r=await Fs(this.user,_H(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(r),await this.user.reload()}catch(r){throw r}}}const s0=new WeakMap;function vH(e){const t=Ot(e);return s0.has(t)||s0.set(t,R1._fromUser(t)),s0.get(t)}const Em="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Em,"1"),this.storage.removeItem(Em),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH(){const e=Ge();return A1(e)||Gl(e)}const wH=1e3,EH=10;class PO extends kO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=bH()&&s8(),this.fallbackToPolling=uO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);r8()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,EH):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},wH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}PO.type="LOCAL";const Ly=PO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO extends kO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}RO.type="SESSION";const Uo=RO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Fy(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async d=>d(n.origin,s)),u=await IH(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const d=df("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function TH(e){Cn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function CH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SH(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function xH(){return D1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="firebaseLocalStorageDb",kH=1,Im="firebaseLocalStorage",MO="fbase_key";class ff{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vy(e,t){return e.transaction([Im],t?"readwrite":"readonly").objectStore(Im)}function PH(){const e=indexedDB.deleteDatabase(DO);return new ff(e).toPromise()}function vb(){const e=indexedDB.open(DO,kH);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Im,{keyPath:MO})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Im)?t(i):(i.close(),await PH(),t(await vb()))})})}async function Yx(e,t,n){const i=Vy(e,!0).put({[MO]:t,value:n});return new ff(i).toPromise()}async function RH(e,t){const n=Vy(e,!1).get(t),i=await new ff(n).toPromise();return i===void 0?null:i.value}function Qx(e,t){const n=Vy(e,!0).delete(t);return new ff(n).toPromise()}const DH=800,MH=3;class OO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vb(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>MH)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fy._getInstance(xH()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await CH(),!this.activeServiceWorker)return;this.sender=new AH(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vb();return await Yx(t,Em,"1"),await Qx(t,Em),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Yx(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>RH(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qx(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Vy(r,!1).getAll();return new ff(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OO.type="LOCAL";const Ll=OO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(e,t){return fn(e,"POST","/v2/accounts/mfaSignIn:start",dn(e,t))}function NH(e,t){return fn(e,"POST","/v2/accounts/mfaSignIn:finalize",dn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=500,FH=6e4,Zp=1e12;class VH{constructor(t){this.auth=t,this.counter=Zp,this._widgets=new Map}render(t,n){const i=this.counter;return this._widgets.set(i,new BH(t,this.auth.name,n||{})),this.counter++,i}reset(t){var n;const i=t||Zp;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(t){var n;const i=t||Zp;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(t){var n;const i=t||Zp;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class BH{constructor(t,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r=typeof t=="string"?document.getElementById(t):t;Q(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=UH(50);const{callback:t,"expired-callback":n}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},FH)},LH))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function UH(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=dO("rcb"),$H=new cf(3e4,6e4);class jH{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=Cn().grecaptcha)===null||t===void 0)&&t.render)}load(t,n=""){return Q(HH(n),t,"argument-error"),this.shouldResolveImmediately(n)&&Ux(Cn().grecaptcha)?Promise.resolve(Cn().grecaptcha):new Promise((i,r)=>{const s=Cn().setTimeout(()=>{r(On(t,"network-request-failed"))},$H.get());Cn()[o0]=()=>{Cn().clearTimeout(s),delete Cn()[o0];const l=Cn().grecaptcha;if(!l||!Ux(l)){r(On(t,"internal-error"));return}const u=l.render;l.render=(d,f)=>{const g=u(d,f);return this.counter++,g},this.hostLanguage=n,i(l)};const a=`${d8()}?${$l({onload:o0,render:"explicit",hl:n})}`;T1(a).catch(()=>{clearTimeout(s),r(On(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var n;return!!(!((n=Cn().grecaptcha)===null||n===void 0)&&n.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function HH(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class zH{async load(t){return new VH(t)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="recaptcha",WH={theme:"light",type:"image"};let qH=class{constructor(t,n,i=Object.assign({},WH)){this.parameters=i,this.type=NO,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(t),this.isInvisible=this.parameters.size==="invisible",Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r=typeof n=="string"?document.getElementById(n):n;Q(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zH:new jH,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(t);return i||new Promise(r=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),r(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(t)})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof t=="function")t(n);else if(typeof t=="string"){const i=Cn()[t];typeof i=="function"&&i(n)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const n=document.createElement("div");t.appendChild(n),t=n}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){Q(E1()&&!D1(),this.auth,"internal-error"),await KH(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await W7(this.auth);Q(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function KH(){let e=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}e=()=>t(),window.addEventListener("load",e)}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t,n){this.verificationId=t,this.onConfirmation=n}confirm(t){const n=Va._fromVerification(this.verificationId,t);return this.onConfirmation(n)}}async function GH(e,t,n){if(an(e.app))return Promise.reject(jn(e));const i=un(e),r=await By(i,t,Ot(n));return new M1(r,s=>Oy(i,s))}async function YH(e,t,n){const i=Ot(e);await My(!1,i,"phone");const r=await By(i.auth,t,Ot(n));return new M1(r,s=>wO(i,s))}async function QH(e,t,n){const i=Ot(e);if(an(i.auth.app))return Promise.reject(jn(i.auth));const r=await By(i.auth,t,Ot(n));return new M1(r,s=>EO(i,s))}async function By(e,t,n){var i;const r=await n.verify();try{Q(typeof r=="string",e,"argument-error"),Q(n.type===NO,e,"argument-error");let s;if(typeof t=="string"?s={phoneNumber:t}:s=t,"session"in s){const a=s.session;if("phoneNumber"in s)return Q(a.type==="enroll",e,"internal-error"),(await mH(e,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{Q(a.type==="signin",e,"internal-error");const l=((i=s.multiFactorHint)===null||i===void 0?void 0:i.uid)||s.multiFactorUid;return Q(l,e,"missing-multi-factor-info"),(await OH(e,{mfaPendingCredential:a.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:a}=await M8(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return a}}finally{n._reset()}}async function XH(e,t){const n=Ot(e);if(an(n.auth.app))return Promise.reject(jn(n.auth));await C1(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga=class Og{constructor(t){this.providerId=Og.PROVIDER_ID,this.auth=un(t)}verifyPhoneNumber(t,n){return By(this.auth,t,Ot(n))}static credential(t,n){return Va._fromVerification(t,n)}static credentialFromResult(t){const n=t;return Og.credentialFromTaggedObject(n)}static credentialFromError(t){return Og.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?Va._fromTokenResponse(n,i):null}};Ga.PROVIDER_ID="phone";Ga.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(e,t){return t?Hi(t):(Q(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends Yl{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ks(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ks(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ks(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JH(e){return bO(e.auth,new O1(e),e.bypassAuthState)}function ZH(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),vO(n,new O1(e),e.bypassAuthState)}async function tz(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),C1(n,new O1(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JH;case"linkViaPopup":case"linkViaRedirect":return tz;case"reauthViaPopup":case"reauthViaRedirect":return ZH;default:zn(this.auth,"internal-error")}}resolve(t){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=new cf(2e3,1e4);async function nz(e,t,n){if(an(e.app))return Promise.reject(On(e,"operation-not-supported-in-this-environment"));const i=un(e);Kl(e,t,$s);const r=rc(i,n);return new ws(i,"signInViaPopup",t,r).executeNotNull()}async function iz(e,t,n){const i=Ot(e);if(an(i.auth.app))return Promise.reject(On(i.auth,"operation-not-supported-in-this-environment"));Kl(i.auth,t,$s);const r=rc(i.auth,n);return new ws(i.auth,"reauthViaPopup",t,r,i).executeNotNull()}async function rz(e,t,n){const i=Ot(e);Kl(i.auth,t,$s);const r=rc(i.auth,n);return new ws(i.auth,"linkViaPopup",t,r,i).executeNotNull()}class ws extends LO{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Q(t,this.auth,"internal-error"),t}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const t=df();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(On(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ez.get())};t()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="pendingRedirect",Gh=new Map;class oz extends LO{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Gh.get(this.auth._key());if(!t){try{const i=await az(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Gh.set(this.auth._key(),t)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function az(e,t){const n=VO(t),i=FO(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}async function N1(e,t){return FO(e)._set(VO(t),"true")}function cz(){Gh.clear()}function L1(e,t){Gh.set(e._key(),t)}function FO(e){return Hi(e._redirectPersistence)}function VO(e){return Fa(sz,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(e,t,n){return uz(e,t,n)}async function uz(e,t,n){if(an(e.app))return Promise.reject(jn(e));const i=un(e);Kl(e,t,$s),await i._initializationPromise;const r=rc(i,n);return await N1(r,i),r._openRedirect(i,t,"signInViaRedirect")}function hz(e,t,n){return dz(e,t,n)}async function dz(e,t,n){const i=Ot(e);if(Kl(i.auth,t,$s),an(i.auth.app))return Promise.reject(jn(i.auth));await i.auth._initializationPromise;const r=rc(i.auth,n);await N1(r,i.auth);const s=await BO(i);return r._openRedirect(i.auth,t,"reauthViaRedirect",s)}function fz(e,t,n){return pz(e,t,n)}async function pz(e,t,n){const i=Ot(e);Kl(i.auth,t,$s),await i.auth._initializationPromise;const r=rc(i.auth,n);await My(!1,i,t.providerId),await N1(r,i.auth);const s=await BO(i);return r._openRedirect(i.auth,t,"linkViaRedirect",s)}async function gz(e,t){return await un(e)._initializationPromise,Uy(e,t,!1)}async function Uy(e,t,n=!1){if(an(e.app))return Promise.reject(jn(e));const i=un(e),r=rc(i,t),a=await new oz(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}async function BO(e){const t=df(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=10*60*1e3;class UO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yz(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!$O(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(On(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mz&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xx(t))}saveEventToCache(t){this.cachedEventUids.add(Xx(t)),this.lastProcessedEventTime=Date.now()}}function Xx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function $O({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function yz(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $O(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(e,t={}){return fn(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vz=/^https?/;async function bz(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jO(e);for(const n of t)try{if(wz(n))return}catch{}zn(e,"unauthorized-domain")}function wz(e){const t=kd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!vz.test(n))return!1;if(_z.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=new cf(3e4,6e4);function Jx(){const e=Cn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Iz(e){return new Promise((t,n)=>{var i,r,s;function a(){Jx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jx(),n(On(e,"network-request-failed"))},timeout:Ez.get()})}if(!((r=(i=Cn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Cn().gapi)===null||s===void 0)&&s.load)a();else{const l=dO("iframefcb");return Cn()[l]=()=>{gapi.load?a():n(On(e,"network-request-failed"))},T1(`${p8()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Ng=null,t})}let Ng=null;function Az(e){return Ng=Ng||Iz(e),Ng}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=new cf(5e3,15e3),Cz="__/auth/iframe",Sz="emulator/auth/iframe",xz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pz(e){const t=e.config;Q(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?I1(t,Sz):`https://${e.config.authDomain}/${Cz}`,i={apiKey:t.apiKey,appName:e.name,v:Wo},r=kz.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${$l(i).slice(1)}`}async function Rz(e){const t=await Az(e),n=Cn().gapi;return Q(n,e,"internal-error"),t.open({where:document.body,url:Pz(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xz,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=On(e,"network-request-failed"),l=Cn().setTimeout(()=>{s(a)},Tz.get());function u(){Cn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mz=500,Oz=600,Nz="_blank",Lz="http://localhost";class Zx{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fz(e,t,n,i=Mz,r=Oz){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Dz),{width:i.toString(),height:r.toString(),top:s,left:a}),d=Ge().toLowerCase();n&&(l=oO(d)?Nz:n),sO(d)&&(t=t||Lz,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[v,E])=>`${m}${v}=${E},`,"");if(i8(d)&&l!=="_self")return Vz(t||"",l),new Zx(null);const g=window.open(t||"",l,f);Q(g,e,"popup-blocked");try{g.focus()}catch{}return new Zx(g)}function Vz(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz="__/auth/handler",Uz="emulator/auth/handler",$z=encodeURIComponent("fac");async function bb(e,t,n,i,r,s){Q(e.config.authDomain,e,"auth-domain-config-required"),Q(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Wo,eventId:r};if(t instanceof $s){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",u6(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,g]of Object.entries(s||{}))a[f]=g}if(t instanceof Ql){const f=t.getScopes().filter(g=>g!=="");f.length>0&&(a.scopes=f.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await e._getAppCheckToken(),d=u?`#${$z}=${encodeURIComponent(u)}`:"";return`${jz(e)}?${$l(l).slice(1)}${d}`}function jz({config:e}){return e.emulator?I1(e,Uz):`https://${e.authDomain}/${Bz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="webStorageSupport";class Hz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uo,this._completeRedirectFn=Uy,this._overrideRedirectResult=L1}async _openPopup(t,n,i,r){var s;yr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await bb(t,n,i,kd(),r);return Fz(t,a,df())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await bb(t,n,i,kd(),r);return TH(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(yr(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Rz(t),i=new UO(t);return n.register("authEvent",r=>(Q(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(a0,{type:a0},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[a0];a!==void 0&&n(!!a),zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bz(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return uO()||A1()||Gl()}}const HO=Hz;class zz{constructor(t){this.factorId=t}_process(t,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(t,n.credential,i);case"signin":return this._finalizeSignIn(t,n.credential);default:return $r("unexpected MultiFactorSessionType")}}}class F1 extends zz{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new F1(t)}_finalizeEnroll(t,n,i){return yH(t,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,n){return NH(t,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class zO{constructor(){}static assertion(t){return F1._fromCredential(t)}}zO.FACTOR_ID="phone";var tk="@firebase/auth",ek="1.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kz(e){Lo(new Ms("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hO(e)},d=new u8(i,r,s,u);return v8(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Lo(new Ms("auth-internal",t=>{const n=un(t.getProvider("auth").getImmediate());return(i=>new Wz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(tk,ek,qz(e)),Zi(tk,ek,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=5*60,Yz=fR("authIdTokenMaxAge")||Gz;let nk=null;const Qz=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Yz)return;const r=n==null?void 0:n.token;nk!==r&&(nk=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Wt(e=vw()){const t=zd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=_8(e,{popupRedirectResolver:HO,persistence:[Ll,Ly,Uo]}),i=fR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=Qz(s.toString());fH(n,a,()=>a(n.currentUser)),dH(n,l=>a(l))}}const r=hR("auth");return r&&fO(n,`http://${r}`),n}function Xz(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}h8({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=On("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",Xz().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kz("Browser");const Jz={name:"Sidebar",data(){return{isActive:!1,user:!1}},computed:{pageName(){const e=this.$route.path.split("/").filter(t=>t).pop();return e.charAt(0).toUpperCase()+e.slice(1)}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})},methods:{toggleNav(){this.isActive=!this.isActive,this.$emit("toggle",this.isActive)}}},Zz={key:0},tW={class:"sidebar-container"},eW={id:"tabs"};function nW(e,t,n,i,r,s){return r.user?(H(),G("div",Zz,[T("div",tW,[T("div",{id:"mySidenav",class:vl(["sidenav",{openNavClass:r.isActive}])},[T("a",{class:"closebtn",onClick:t[0]||(t[0]=(...a)=>s.toggleNav&&s.toggleNav(...a))},""),T("div",eW,[e.$route.path!=="/home"?(H(),G("a",{key:0,class:"page-router",onClick:t[1]||(t[1]=a=>e.$router.push("/home"))},"Home")):Ee("",!0),e.$route.path!=="/profile"?(H(),G("a",{key:1,class:"page-router",onClick:t[2]||(t[2]=a=>e.$router.push("/profile"))},"Profile")):Ee("",!0),e.$route.path!=="/cards"?(H(),G("a",{key:2,class:"page-router",onClick:t[3]||(t[3]=a=>e.$router.push("/cards"))},"Cards")):Ee("",!0),e.$route.path!=="/discovery"?(H(),G("a",{key:3,class:"page-router",onClick:t[4]||(t[4]=a=>e.$router.push("/discovery"))},"Discovery")):Ee("",!0),e.$route.path!=="/payment"?(H(),G("a",{key:4,class:"page-router",onClick:t[5]||(t[5]=a=>e.$router.push("/payment"))},"Payment Recommendation")):Ee("",!0),e.$route.path!=="/tracking"?(H(),G("a",{key:5,class:"page-router",onClick:t[6]||(t[6]=a=>e.$router.push("/tracking"))},"Tracking & Analysis")):Ee("",!0)])],2),T("div",{id:"main",class:vl({pushMainContent:r.isActive})},[T("span",{style:{"font-size":"30px",cursor:"pointer"},onClick:t[7]||(t[7]=(...a)=>s.toggleNav&&s.toggleNav(...a))},""),T("span",{style:{cursor:"pointer","font-family":"pjs","font-weight":"700","font-size":"20px","margin-left":"9px","margin-top":"9px"},onClick:t[8]||(t[8]=(...a)=>s.toggleNav&&s.toggleNav(...a))},Ht(s.pageName),1)],2)])])):Ee("",!0)}const js=Vt(Jz,[["render",nW],["__scopeId","data-v-9822ed69"]]),iW="/assets/profile_icon-BIe3R0ui.png",rW="/assets/cards_icon-BbXpPvCt.png",sW="/assets/discovery_icon-DmMyJAF_.png",oW="/assets/payment_icon-CEvC_dH0.png",aW="/assets/tracking_icon-DZb2kZvl.png",cW={data(){return{user:!1}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})},components:{sidebar:js},data(){return{sidebarActive:!1}},methods:{handleSidebarToggle(e){this.sidebarActive=e}}},_r=e=>(ze("data-v-19d54844"),e=e(),We(),e),lW={class:"home-page"},uW=_r(()=>T("div",{id:"home-container"},[T("h1",null,"Welcome back!"),T("h2",null,"What would you like to do today?")],-1)),hW={class:"button-container"},dW={class:"button"},fW=_r(()=>T("img",{id:"icon",src:iW},null,-1)),pW=_r(()=>T("h3",null,"Customise your personal details, preferences and settings.",-1)),gW={class:"button"},mW=_r(()=>T("img",{id:"icon",src:rW},null,-1)),yW=_r(()=>T("h3",null,"Where your inventory of cards are kept and managed with ease.",-1)),_W={class:"button"},vW=_r(()=>T("img",{id:"icon",src:sW},null,-1)),bW=_r(()=>T("h3",null,"Looking for new bank cards? Check out some suggestions we have for you!",-1)),wW={class:"button"},EW=_r(()=>T("img",{id:"icon",src:oW},null,-1)),IW=_r(()=>T("h3",null,"Get a suggestion on the most optimal card to use for maximum benefits, and pay instantly! ",-1)),AW={class:"button"},TW=_r(()=>T("img",{id:"icon",src:aW},null,-1)),CW=_r(()=>T("h3",null,"Track your recent expenses, and take a look at how close you are to your budgeting targets!",-1));function SW(e,t,n,i,r,s){const a=mt("sidebar");return H(),G(Lt,null,[lt(a,{onToggle:s.handleSidebarToggle},null,8,["onToggle"]),T("div",{class:vl(["home-page",{pushMainContent:r.sidebarActive}])},[T("div",lW,[uW,T("div",hW,[T("div",dW,[T("button",{onClick:t[0]||(t[0]=l=>e.$router.push("/profile"))},[fW,te("Profile")]),pW]),T("div",gW,[T("button",{onClick:t[1]||(t[1]=l=>e.$router.push("/cards"))},[mW,te("Cards")]),yW]),T("div",_W,[T("button",{onClick:t[2]||(t[2]=l=>e.$router.push("/discovery"))},[vW,te("Discovery")]),bW]),T("div",wW,[T("button",{onClick:t[3]||(t[3]=l=>e.$router.push("/payment"))},[EW,te("Payment Recommendation")]),IW]),T("div",AW,[T("button",{onClick:t[4]||(t[4]=l=>e.$router.push("/tracking"))},[TW,te("Tracking & Analysis")]),CW])])])],2)],64)}const xW=Vt(cW,[["render",SW],["__scopeId","data-v-19d54844"]]),kW={name:"Logout",data(){return{user:!1}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})},methods:{signOut(){const e=Wt();e.currentUser,pH(e),this.$router.push({name:"Login"})}}};function PW(e,t,n,i,r,s){return r.user?(H(),G("button",{key:0,id:"btn",onClick:t[0]||(t[0]=a=>s.signOut())}," Logout ")):Ee("",!0)}const V1=Vt(kW,[["render",PW],["__scopeId","data-v-313df205"]]),ik=ye(Ae),RW={name:"App",components:{Home:xW},data(){return{user:!1}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t,this.storeFS(t))})},methods:{change(){this.refreshComp+=1},async storeFS(e){const t=Gt(ik,"Users",String(e.email));console.log(t),(await he(t)).exists()||D7(Gt(ik,"Users",String(e.email)),{Name:e.displayName,Email:e.email,UID:e.uid,Liked:[],Inventory:[],CardsWithMinSpend:{},CardsWithCBCap:{},Transactions:[]}).then(()=>{console.log("User data stored in Firestore successfully")}).catch(i=>{console.error("Error storing user data in Firestore:",i)})}}};function DW(e,t,n,i,r,s){const a=mt("Home");return H(),tr(a)}const MW=Vt(RW,[["render",DW],["__scopeId","data-v-e7d592c0"]]),OW="/assets/home_button-9twoVLip.png",NW={},LW=e=>(ze("data-v-5a7a88b1"),e=e(),We(),e),FW=LW(()=>T("img",{id:"icon",src:OW},null,-1));function VW(e,t){return H(),G("div",null,[T("button",{id:"homebutton",type:"button",onClick:t[0]||(t[0]=n=>this.$router.push("/home"))},[te(" Home "),FW])])}const is=Vt(NW,[["render",VW],["__scopeId","data-v-5a7a88b1"]]),BW=ye(Ae),UW={name:"Profile",data(){return{user:!1,name:"",email:"",uid:""}},methods:{async fetchData(e){try{const t=String(e.email);console.log(t);const n=Gt(BW,"Users",t);console.log(n);const i=await he(n);if(i.exists()){const r=i.data(),s=r.Name,a=r.UID,l=r.Email;console.log(r),this.name=s,this.uid=a,this.email=l}else console.log("No such document!")}catch(t){console.error("Error fetching user data:",t)}}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t,this.fetchData(t))})}},sc=e=>(ze("data-v-3ffe9da6"),e=e(),We(),e),$W={key:0},jW={key:0,class:"profile-container"},HW=sc(()=>T("h1",null," Your Profile ",-1)),zW={id:"nameCell"},WW=sc(()=>T("h3",null,"Name:",-1)),qW={id:"name"},KW=sc(()=>T("hr",null,null,-1)),GW={id:"emailCell"},YW=sc(()=>T("h3",null,"Email:",-1)),QW={id:"email"},XW=sc(()=>T("hr",null,null,-1)),JW={id:"useridCell"},ZW=sc(()=>T("h3",null,"User ID:",-1)),tq={id:"email"},eq=sc(()=>T("hr",null,null,-1));function nq(e,t,n,i,r,s){return r.user?(H(),G("div",$W,[r.user?(H(),G("div",jW,[T("div",null,[HW,T("div",zW,[WW,T("p",qW,Ht(r.name),1)]),KW,T("div",GW,[YW,T("p",QW,Ht(r.email),1)]),XW,T("div",JW,[ZW,T("p",tq,Ht(r.uid),1)]),eq,T("button",{id:"editbutton",type:"button",onClick:t[0]||(t[0]=a=>e.$router.push("/edit"))},"Edit")])])):Ee("",!0)])):Ee("",!0)}const iq=Vt(UW,[["render",nq],["__scopeId","data-v-3ffe9da6"]]);ye(Ae);const rq={name:"ProfilePage",components:{Profile:iq,Logout:V1,HomeButton:is,Sidebar:js},data(){return{user:!1}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})}},sq=e=>(ze("data-v-90136c19"),e=e(),We(),e),oq={class:"profilepage"},aq=sq(()=>T("br",null,null,-1));function cq(e,t,n,i,r,s){const a=mt("Sidebar"),l=mt("HomeButton"),u=mt("Profile"),d=mt("Logout");return H(),G(Lt,null,[lt(a),lt(l),T("div",oq,[lt(u),aq,lt(d)])],64)}const lq=Vt(rq,[["render",cq],["__scopeId","data-v-90136c19"]]),uq=ye(Ae),hq={name:"Edit",data(){return{user:null,displayName:""}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t,this.fetchData(t))})},methods:{async fetchData(e){try{const t=String(e.email);console.log(t);const n=Gt(uq,"Users",t);console.log(n);const i=await he(n);if(i.exists()){const r=i.data(),s=r.Name;console.log(r),this.displayName=s}else console.log("No such document!")}catch(t){console.error("Error fetching user data:",t)}},async saveProfile(e){try{const t=Gt(ye(),"Users",String(e.email));await Qn(t,{Name:this.displayName}),console.log(this.displayName),this.$router.push("/profile")}catch(t){console.error("Error updating profile:",t)}},cancel(){this.$router.push("/profile")}}},Xl=e=>(ze("data-v-1cbd7201"),e=e(),We(),e),dq={key:0,class:"edit-profile-container"},fq=Xl(()=>T("h1",null," Edit Profile ",-1)),pq={id:"emailCell"},gq=Xl(()=>T("h3",null,"Email:",-1)),mq=Xl(()=>T("hr",null,null,-1)),yq={id:"nameCell"},_q=Xl(()=>T("h3",null,"Name:",-1)),vq=Xl(()=>T("hr",null,null,-1)),bq=Xl(()=>T("br",null,null,-1));function wq(e,t,n,i,r,s){return r.user?(H(),G("div",dq,[T("div",null,[fq,T("div",pq,[gq,T("p",null,Ht(r.user.email),1)]),mq,T("div",yq,[_q,Qe(T("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=a=>r.displayName=a),type:"text"},null,512),[[Ds,r.displayName]])]),vq,T("button",{id:"savebutton",type:"button",onClick:t[1]||(t[1]=a=>s.saveProfile(r.user))},"Save"),bq,T("button",{id:"cancelbutton",type:"button",onClick:t[2]||(t[2]=a=>s.cancel())},"Cancel")])])):Ee("",!0)}const Eq=Vt(hq,[["render",wq],["__scopeId","data-v-1cbd7201"]]);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(t,n){this._delegate=t,this.firebase=n,pd(t,new Ms("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),bw(this._delegate)))}_getService(t,n=Oo){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(t,n=Oo){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){pd(this._delegate,t)}_addOrOverwriteComponent(t){ER(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},rk=new tc("app-compat","Firebase",Aq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(e){const t={},n={__esModule:!0,initializeApp:s,app:r,registerVersion:Zi,setLogLevel:CR,onLog:TR,apps:null,SDK_VERSION:Wo,INTERNAL:{registerComponent:l,removeApp:i,useAsService:u,modularAPIs:wB}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(d){delete t[d]}function r(d){if(d=d||Oo,!LS(t,d))throw rk.create("no-app",{appName:d});return t[d]}r.App=e;function s(d,f={}){const g=Xm(d,f);if(LS(t,g.name))return t[g.name];const m=new e(g,n);return t[g.name]=m,m}function a(){return Object.keys(t).map(d=>t[d])}function l(d){const f=d.name,g=f.replace("-compat","");if(Lo(d)&&d.type==="PUBLIC"){const m=(v=r())=>{if(typeof v[g]!="function")throw rk.create("invalid-app-argument",{appName:f});return v[g]()};d.serviceProps!==void 0&&im(m,d.serviceProps),n[g]=m,e.prototype[g]=function(...v){return this._getService.bind(this,f).apply(this,d.multipleInstances?v:[])}}return d.type==="PUBLIC"?n[g]:null}function u(d,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){const e=Tq(Iq);e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:WO,extendNamespace:t,createSubscribe:yR,ErrorFactory:tc,deepExtend:im});function t(n){im(e,n)}return e}const Cq=WO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new Qm("@firebase/app-compat"),Sq="@firebase/app-compat",xq="0.2.31";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(e){Zi(Sq,xq,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(pR()&&self.firebase!==void 0){sk.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&sk.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const bt=Cq;kq();var Pq="firebase",Rq="10.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bt.registerVersion(Pq,Rq,"app-compat");const Dq={apiKey:"AIzaSyCupfNTTpa6BkaDdMZOgyPqmmiarVpfb9s",authDomain:"smartrack-7b20c.firebaseapp.com",projectId:"smartrack-7b20c",storageBucket:"smartrack-7b20c.appspot.com",messagingSenderId:"326506554583",appId:"1:326506554583:web:5a4e90fcf113b13bbafc92"};bt.initializeApp(Dq);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=2e3;async function Oq(e,t,n){var i;const{BuildInfo:r}=Ya();yr(t.sessionId,"AuthEvent did not contain a session ID");const s=await Bq(t.sessionId),a={};return Gl()?a.ibi=r.packageName:lf()?a.apn=r.packageName:zn(e,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=s,bb(e,n,t.type,void 0,(i=t.eventId)!==null&&i!==void 0?i:void 0,a)}async function Nq(e){const{BuildInfo:t}=Ya(),n={};Gl()?n.iosBundleId=t.packageName:lf()?n.androidPackageName=t.packageName:zn(e,"operation-not-supported-in-this-environment"),await jO(e,n)}function Lq(e){const{cordova:t}=Ya();return new Promise(n=>{t.plugins.browsertab.isAvailable(i=>{let r=null;i?t.plugins.browsertab.openUrl(e):r=t.InAppBrowser.open(e,n8()?"_blank":"_system","location=yes"),n(r)})})}async function Fq(e,t,n){const{cordova:i}=Ya();let r=()=>{};try{await new Promise((s,a)=>{let l=null;function u(){var g;s();const m=(g=i.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof m=="function"&&m(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){l||(l=window.setTimeout(()=>{a(On(e,"redirect-cancelled-by-user"))},Mq))}function f(){(document==null?void 0:document.visibilityState)==="visible"&&d()}t.addPassiveListener(u),document.addEventListener("resume",d,!1),lf()&&document.addEventListener("visibilitychange",f,!1),r=()=>{t.removePassiveListener(u),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",f,!1),l&&window.clearTimeout(l)}})}finally{r()}}function Vq(e){var t,n,i,r,s,a,l,u,d,f;const g=Ya();Q(typeof((t=g==null?void 0:g.universalLinks)===null||t===void 0?void 0:t.subscribe)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof((n=g==null?void 0:g.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q(typeof((s=(r=(i=g==null?void 0:g.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((u=(l=(a=g==null?void 0:g.cordova)===null||a===void 0?void 0:a.plugins)===null||l===void 0?void 0:l.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((f=(d=g==null?void 0:g.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||f===void 0?void 0:f.open)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Bq(e){const t=Uq(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")}function Uq(e){if(yr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q=20;class jq extends UO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(t)),super.onEvent(t)}async initialized(){await this.initPromise}}function Hq(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:qq(),postBody:null,tenantId:e.tenantId,error:On(e,"no-auth-event")}}function zq(e,t){return wb()._set(Eb(e),t)}async function ok(e){const t=await wb()._get(Eb(e));return t&&await wb()._remove(Eb(e)),t}function Wq(e,t){var n,i;const r=Gq(t);if(r.includes("/__/auth/callback")){const s=Lg(r),a=s.firebaseError?Kq(decodeURIComponent(s.firebaseError)):null,l=(i=(n=a==null?void 0:a.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],u=l?On(l):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}function qq(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<$q;n++){const i=Math.floor(Math.random()*t.length);e.push(t.charAt(i))}return e.join("")}function wb(){return Hi(Ly)}function Eb(e){return Fa("authEvent",e.config.apiKey,e.name)}function Kq(e){try{return JSON.parse(e)}catch{return null}}function Gq(e){const t=Lg(e),n=t.link?decodeURIComponent(t.link):void 0,i=Lg(n).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Lg(r).link||r||i||n||e}function Lg(e){if(!(e!=null&&e.includes("?")))return{};const[t,...n]=e.split("?");return il(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=500;class Qq{constructor(){this._redirectPersistence=Uo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Uy,this._overrideRedirectResult=L1}async _initialize(t){const n=t._key();let i=this.eventManagers.get(n);return i||(i=new jq(t),this.eventManagers.set(n,i),this.attachCallbackListeners(t,i)),i}_openPopup(t){zn(t,"operation-not-supported-in-this-environment")}async _openRedirect(t,n,i,r){Vq(t);const s=await this._initialize(t);await s.initialized(),s.resetRedirect(),cz(),await this._originValidation(t);const a=Hq(t,i,r);await zq(t,a);const l=await Oq(t,a,n),u=await Lq(l);return Fq(t,s,u)}_isIframeWebStorageSupported(t,n){throw new Error("Method not implemented.")}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Nq(t)),this.originValidationPromises[n]}attachCallbackListeners(t,n){const{universalLinks:i,handleOpenURL:r,BuildInfo:s}=Ya(),a=setTimeout(async()=>{await ok(t),n.onEvent(ak())},Yq),l=async f=>{clearTimeout(a);const g=await ok(t);let m=null;g&&(f!=null&&f.url)&&(m=Wq(g,f.url)),n.onEvent(m||ak())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,l);const u=r,d=`${s.packageName.toLowerCase()}://`;Ya().handleOpenURL=async f=>{if(f.toLowerCase().startsWith(d)&&l({url:f}),typeof u=="function")try{u(f)}catch(g){console.error(g)}}}}const Xq=Qq;function ak(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:On("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(e,t){un(e)._logFramework(t)}var Zq="@firebase/auth-compat",tK="0.5.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK=1e3;function Yh(){var e;return((e=self==null?void 0:self.location)===null||e===void 0?void 0:e.protocol)||null}function nK(){return Yh()==="http:"||Yh()==="https:"}function qO(e=Ge()){return!!((Yh()==="file:"||Yh()==="ionic:"||Yh()==="capacitor:")&&e.toLowerCase().match(/iphone|ipad|ipod|android/))}function iK(){return mw()||gw()}function rK(){return mR()&&(document==null?void 0:document.documentMode)===11}function sK(e=Ge()){return/Edge\/\d+/.test(e)}function oK(e=Ge()){return rK()||sK(e)}function KO(){try{const e=self.localStorage,t=df();if(e)return e.setItem(t,"1"),e.removeItem(t),oK()?dd():!0}catch{return B1()&&dd()}return!1}function B1(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function c0(){return(nK()||gR()||qO())&&!iK()&&KO()&&!B1()}function GO(){return qO()&&typeof document<"u"}async function aK(){return GO()?new Promise(e=>{const t=setTimeout(()=>{e(!1)},eK);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})}):!1}function cK(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i={LOCAL:"local",NONE:"none",SESSION:"session"},hh=Q,YO="persistence";function lK(e,t){if(hh(Object.values($i).includes(t),e,"invalid-persistence-type"),mw()){hh(t!==$i.SESSION,e,"unsupported-persistence-type");return}if(gw()){hh(t===$i.NONE,e,"unsupported-persistence-type");return}if(B1()){hh(t===$i.NONE||t===$i.LOCAL&&dd(),e,"unsupported-persistence-type");return}hh(t===$i.NONE||KO(),e,"unsupported-persistence-type")}async function Ib(e){await e._initializationPromise;const t=QO(),n=Fa(YO,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function uK(e,t){const n=QO();if(!n)return[];const i=Fa(YO,e,t);switch(n.getItem(i)){case $i.NONE:return[Ol];case $i.LOCAL:return[Ll,Uo];case $i.SESSION:return[Uo];default:return[]}}function QO(){var e;try{return((e=cK())===null||e===void 0?void 0:e.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK=Q;class Eo{constructor(){this.browserResolver=Hi(HO),this.cordovaResolver=Hi(Xq),this.underlyingResolver=null,this._redirectPersistence=Uo,this._completeRedirectFn=Uy,this._overrideRedirectResult=L1}async _initialize(t){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(t)}async _openPopup(t,n,i,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(t,n,i,r)}async _openRedirect(t,n,i,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(t,n,i,r)}_isIframeWebStorageSupported(t,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,n)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return GO()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hK(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const t=await aK();this.underlyingResolver=t?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(e){return e.unwrap()}function dK(e){return e.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(e){return JO(e)}function pK(e,t){var n;const i=(n=t.customData)===null||n===void 0?void 0:n._tokenResponse;if((t==null?void 0:t.code)==="auth/multi-factor-auth-required"){const r=t;r.resolver=new gK(e,gH(e,t))}else if(i){const r=JO(t),s=t;r&&(s.credential=r,s.tenantId=i.tenantId||void 0,s.email=i.email||void 0,s.phoneNumber=i.phoneNumber||void 0)}}function JO(e){const{_tokenResponse:t}=e instanceof _i?e.customData:e;if(!t)return null;if(!(e instanceof _i)&&"temporaryProof"in t&&"phoneNumber"in t)return Ga.credentialFromResult(e);const n=t.providerId;if(!n||n===uh.PASSWORD)return null;let i;switch(n){case uh.GOOGLE:i=Or;break;case uh.FACEBOOK:i=Mr;break;case uh.GITHUB:i=Nr;break;case uh.TWITTER:i=Lr;break;default:const{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:l,nonce:u}=t;return!s&&!a&&!r&&!l?null:l?n.startsWith("saml.")?Nl._create(n,l):es._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:r,accessToken:s}):new ml(n).credential({idToken:r,accessToken:s,rawNonce:u})}return e instanceof _i?i.credentialFromError(e):i.credentialFromResult(e)}function Ti(e,t){return t.catch(n=>{throw n instanceof _i&&pK(e,n),n}).then(n=>{const i=n.operationType,r=n.user;return{operationType:i,credential:fK(n),additionalUserInfo:hH(n),user:Es.getOrCreate(r)}})}async function Ab(e,t){const n=await t;return{verificationId:n.verificationId,confirm:i=>Ti(e,n.confirm(i))}}class gK{constructor(t,n){this.resolver=n,this.auth=dK(t)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return Ti(XO(this.auth),this.resolver.resolveSignIn(t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t){this._delegate=t,this.multiFactor=vH(t)}static getOrCreate(t){return Es.USER_MAP.has(t)||Es.USER_MAP.set(t,new Es(t)),Es.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}async linkWithCredential(t){return Ti(this.auth,wO(this._delegate,t))}async linkWithPhoneNumber(t,n){return Ab(this.auth,YH(this._delegate,t,n))}async linkWithPopup(t){return Ti(this.auth,rz(this._delegate,t,Eo))}async linkWithRedirect(t){return await Ib(un(this.auth)),fz(this._delegate,t,Eo)}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}async reauthenticateWithCredential(t){return Ti(this.auth,EO(this._delegate,t))}reauthenticateWithPhoneNumber(t,n){return Ab(this.auth,QH(this._delegate,t,n))}reauthenticateWithPopup(t){return Ti(this.auth,iz(this._delegate,t,Eo))}async reauthenticateWithRedirect(t){return await Ib(un(this.auth)),hz(this._delegate,t,Eo)}sendEmailVerification(t){return tH(this._delegate,t)}async unlink(t){return await H8(this._delegate,t),this}updateEmail(t){return rH(this._delegate,t)}updatePassword(t){return sH(this._delegate,t)}updatePhoneNumber(t){return XH(this._delegate,t)}updateProfile(t){return iH(this._delegate,t)}verifyBeforeUpdateEmail(t,n){return eH(this._delegate,t,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Es.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=Q;class Tb{constructor(t,n){if(this.app=t,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=t.options;dh(i,"invalid-api-key",{appName:t.name}),dh(i,"invalid-api-key",{appName:t.name});const r=typeof window<"u"?Eo:void 0;this._delegate=n.initialize({options:{persistence:mK(i,t.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(N7),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Es.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,n){fO(this._delegate,t,n)}applyActionCode(t){return G8(this._delegate,t)}checkActionCode(t){return IO(this._delegate,t)}confirmPasswordReset(t,n){return K8(this._delegate,t,n)}async createUserWithEmailAndPassword(t,n){return Ti(this._delegate,Q8(this._delegate,t,n))}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return Z8(this._delegate,t)}isSignInWithEmailLink(t){return TO(this._delegate,t)}async getRedirectResult(){dh(c0(),this._delegate,"operation-not-supported-in-this-environment");const t=await gz(this._delegate,Eo);return t?Ti(this._delegate,Promise.resolve(t)):{credential:null,user:null}}addFrameworkForLogging(t){Jq(this._delegate,t)}onAuthStateChanged(t,n,i){const{next:r,error:s,complete:a}=ck(t,n,i);return this._delegate.onAuthStateChanged(r,s,a)}onIdTokenChanged(t,n,i){const{next:r,error:s,complete:a}=ck(t,n,i);return this._delegate.onIdTokenChanged(r,s,a)}sendSignInLinkToEmail(t,n){return AO(this._delegate,t,n)}sendPasswordResetEmail(t,n){return q8(this._delegate,t,n||void 0)}async setPersistence(t){lK(this._delegate,t);let n;switch(t){case $i.SESSION:n=Uo;break;case $i.LOCAL:n=await Hi(Ll)._isAvailable()?Ll:Ly;break;case $i.NONE:n=Ol;break;default:return zn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return Ti(this._delegate,j8(this._delegate))}signInWithCredential(t){return Ti(this._delegate,Oy(this._delegate,t))}signInWithCustomToken(t){return Ti(this._delegate,W8(this._delegate,t))}signInWithEmailAndPassword(t,n){return Ti(this._delegate,X8(this._delegate,t,n))}signInWithEmailLink(t,n){return Ti(this._delegate,CO(this._delegate,t,n))}signInWithPhoneNumber(t,n){return Ab(this._delegate,GH(this._delegate,t,n))}async signInWithPopup(t){return dh(c0(),this._delegate,"operation-not-supported-in-this-environment"),Ti(this._delegate,nz(this._delegate,t,Eo))}async signInWithRedirect(t){return dh(c0(),this._delegate,"operation-not-supported-in-this-environment"),await Ib(this._delegate),lz(this._delegate,t,Eo)}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return Y8(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Tb.Persistence=$i;function ck(e,t,n){let i=e;typeof e!="function"&&({next:i,error:t,complete:n}=e);const r=i;return{next:a=>r(a&&Es.getOrCreate(a)),error:t,complete:n}}function mK(e,t){const n=uK(e,t);if(typeof self<"u"&&!n.includes(Ll)&&n.push(Ll),typeof window<"u")for(const i of[Ly,Uo])n.includes(i)||n.push(i);return n.includes(Ol)||n.push(Ol),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.providerId="phone",this._delegate=new Ga(XO(bt.auth()))}static credential(t,n){return Ga.credential(t,n)}verifyPhoneNumber(t,n){return this._delegate.verifyPhoneNumber(t,n)}unwrap(){return this._delegate}}U1.PHONE_SIGN_IN_METHOD=Ga.PHONE_SIGN_IN_METHOD;U1.PROVIDER_ID=Ga.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK=Q;class _K{constructor(t,n,i=bt.app()){var r;yK((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new qH(i.auth(),t,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK="auth-compat";function bK(e){e.INTERNAL.registerComponent(new Ms(vK,t=>{const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("auth");return new Tb(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Gc.EMAIL_SIGNIN,PASSWORD_RESET:Gc.PASSWORD_RESET,RECOVER_EMAIL:Gc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Gc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Gc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Gc.VERIFY_EMAIL}},EmailAuthProvider:Yo,FacebookAuthProvider:Mr,GithubAuthProvider:Nr,GoogleAuthProvider:Or,OAuthProvider:ml,SAMLAuthProvider:bm,PhoneAuthProvider:U1,PhoneMultiFactorGenerator:zO,RecaptchaVerifier:_K,TwitterAuthProvider:Lr,Auth:Tb,AuthCredential:Yl,Error:_i}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion(Zq,tK)}bK(bt);function wK(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ZO={exports:{}};(function(e){(function(){var t=window.CustomEvent;(!t||typeof t=="object")&&(t=function(w,A){A=A||{};var C=document.createEvent("CustomEvent");return C.initCustomEvent(w,!!A.bubbles,!!A.cancelable,A.detail||null),C},t.prototype=window.Event.prototype);function n(b){for(;b&&b!==document.body;){var w=window.getComputedStyle(b),A=function(C,k){return!(w[C]===void 0||w[C]===k)};if(w.opacity<1||A("zIndex","auto")||A("transform","none")||A("mixBlendMode","normal")||A("filter","none")||A("perspective","none")||w.isolation==="isolate"||w.position==="fixed"||w.webkitOverflowScrolling==="touch")return!0;b=b.parentElement}return!1}function i(b){for(;b;){if(b.localName==="dialog")return b;b=b.parentElement}return null}function r(b){b&&b.blur&&b!==document.body&&b.blur()}function s(b,w){for(var A=0;A<b.length;++A)if(b[A]===w)return!0;return!1}function a(b){return!b||!b.hasAttribute("method")?!1:b.getAttribute("method").toLowerCase()==="dialog"}function l(b){if(this.dialog_=b,this.replacedStyleTop_=!1,this.openAsModal_=!1,b.hasAttribute("role")||b.setAttribute("role","dialog"),b.show=this.show.bind(this),b.showModal=this.showModal.bind(this),b.close=this.close.bind(this),"returnValue"in b||(b.returnValue=""),"MutationObserver"in window){var w=new MutationObserver(this.maybeHideModal.bind(this));w.observe(b,{attributes:!0,attributeFilter:["open"]})}else{var A=!1,C=(function(){A?this.downgradeModal():this.maybeHideModal(),A=!1}).bind(this),k,R=function(D){if(D.target===b){var M="DOMNodeRemoved";A|=D.type.substr(0,M.length)===M,window.clearTimeout(k),k=window.setTimeout(C,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(D){b.addEventListener(D,R)})}Object.defineProperty(b,"open",{set:this.setOpen.bind(this),get:b.hasAttribute.bind(b,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}l.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),u.dm.removeDialog(this))},setOpen:function(b){b?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(b){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var w=document.createElement("div");this.dialog_.insertBefore(w,this.dialog_.firstChild),w.tabIndex=-1,w.focus(),this.dialog_.removeChild(w)}var A=document.createEvent("MouseEvents");A.initMouseEvent(b.type,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),this.dialog_.dispatchEvent(A),b.stopPropagation()},focus_:function(){var b=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!b&&this.dialog_.tabIndex>=0&&(b=this.dialog_),!b){var w=["button","input","keygen","select","textarea"],A=w.map(function(C){return C+":not([disabled])"});A.push('[tabindex]:not([disabled]):not([tabindex=""])'),b=this.dialog_.querySelector(A.join(", "))}r(document.activeElement),b&&b.focus()},updateZIndex:function(b,w){if(b<w)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=b,this.backdrop_.style.zIndex=w},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!u.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,u.needsCentering(this.dialog_)?(u.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(b){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),b!==void 0&&(this.dialog_.returnValue=b);var w=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(w)}};var u={};if(u.reposition=function(b){var w=document.body.scrollTop||document.documentElement.scrollTop,A=w+(window.innerHeight-b.offsetHeight)/2;b.style.top=Math.max(w,A)+"px"},u.isInlinePositionSetByStylesheet=function(b){for(var w=0;w<document.styleSheets.length;++w){var A=document.styleSheets[w],C=null;try{C=A.cssRules}catch{}if(C)for(var k=0;k<C.length;++k){var R=C[k],D=null;try{D=document.querySelectorAll(R.selectorText)}catch{}if(!(!D||!s(D,b))){var M=R.style.getPropertyValue("top"),N=R.style.getPropertyValue("bottom");if(M&&M!=="auto"||N&&N!=="auto")return!0}}}return!1},u.needsCentering=function(b){var w=window.getComputedStyle(b);return w.position!=="absolute"||b.style.top!=="auto"&&b.style.top!==""||b.style.bottom!=="auto"&&b.style.bottom!==""?!1:!u.isInlinePositionSetByStylesheet(b)},u.forceRegisterDialog=function(b){if((window.HTMLDialogElement||b.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",b),b.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new l(b)},u.registerDialog=function(b){b.showModal||u.forceRegisterDialog(b)},u.DialogManager=function(){this.pendingDialogStack=[];var b=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(w){this.forwardTab_=void 0,w.stopPropagation(),b([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(w){var A=[];w.forEach(function(C){for(var k=0,R;R=C.removedNodes[k];++k){if(R instanceof Element)R.localName==="dialog"&&A.push(R);else continue;A=A.concat(R.querySelectorAll("dialog"))}}),A.length&&b(A)}))},u.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},u.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},u.DialogManager.prototype.updateStacking=function(){for(var b=this.zIndexHigh_,w=0,A;A=this.pendingDialogStack[w];++w)A.updateZIndex(--b,--b),w===0&&(this.overlay.style.zIndex=--b);var C=this.pendingDialogStack[0];if(C){var k=C.dialog.parentNode||document.body;k.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},u.DialogManager.prototype.containedByTopDialog_=function(b){for(;b=i(b);){for(var w=0,A;A=this.pendingDialogStack[w];++w)if(A.dialog===b)return w===0;b=b.parentElement}return!1},u.DialogManager.prototype.handleFocus_=function(b){if(!this.containedByTopDialog_(b.target)&&(b.preventDefault(),b.stopPropagation(),r(b.target),this.forwardTab_!==void 0)){var w=this.pendingDialogStack[0],A=w.dialog,C=A.compareDocumentPosition(b.target);return C&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?w.focus_():document.documentElement.focus()),!1}},u.DialogManager.prototype.handleKey_=function(b){if(this.forwardTab_=void 0,b.keyCode===27){b.preventDefault(),b.stopPropagation();var w=new t("cancel",{bubbles:!1,cancelable:!0}),A=this.pendingDialogStack[0];A&&A.dialog.dispatchEvent(w)&&A.dialog.close()}else b.keyCode===9&&(this.forwardTab_=!b.shiftKey)},u.DialogManager.prototype.checkDOM_=function(b){var w=this.pendingDialogStack.slice();w.forEach(function(A){b.indexOf(A.dialog)!==-1?A.downgradeModal():A.maybeHideModal()})},u.DialogManager.prototype.pushDialog=function(b){var w=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=w?!1:(this.pendingDialogStack.unshift(b)===1&&this.blockDocument(),this.updateStacking(),!0)},u.DialogManager.prototype.removeDialog=function(b){var w=this.pendingDialogStack.indexOf(b);w!==-1&&(this.pendingDialogStack.splice(w,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},u.dm=new u.DialogManager,u.formSubmitter=null,u.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var g=f.get;f.get=function(){return a(this)?"dialog":g.call(this)};var m=f.set;f.set=function(b){return typeof b=="string"&&b.toLowerCase()==="dialog"?this.setAttribute("method",b):m.call(this,b)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",function(b){if(u.formSubmitter=null,u.useValue=null,!b.defaultPrevented){var w=b.target;if(!(!w||!a(w.form))){var A=w.type==="submit"&&["button","input"].indexOf(w.localName)>-1;if(!A){if(!(w.localName==="input"&&w.type==="image"))return;u.useValue=b.offsetX+","+b.offsetY}var C=i(w);C&&(u.formSubmitter=w)}}},!1);var v=HTMLFormElement.prototype.submit,E=function(){if(!a(this))return v.call(this);var b=i(this);b&&b.close()};HTMLFormElement.prototype.submit=E,document.addEventListener("submit",function(b){var w=b.target;if(a(w)){b.preventDefault();var A=i(w);if(A){var C=u.formSubmitter;C&&C.form===w?A.close(u.useValue||C.value):A.close(),u.formSubmitter=null}}},!0)}u.forceRegisterDialog=u.forceRegisterDialog,u.registerDialog=u.registerDialog,typeof e.exports=="object"?e.exports=u:window.dialogPolyfill=u})()})(ZO);var EK=ZO.exports;const IK=wK(EK);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};Ze=function(){var e=[],t=[],n="mdlComponentConfigInternal_";function i(b,w){for(var A=0;A<e.length;A++)if(e[A].className===b)return typeof w<"u"&&(e[A]=w),e[A];return!1}function r(b){var w=b.getAttribute("data-upgraded");return w===null?[""]:w.split(",")}function s(b,w){var A=r(b);return A.indexOf(w)!==-1}function a(b,w,A){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(b,{bubbles:w,cancelable:A});var C=document.createEvent("Events");return C.initEvent(b,w,A),C}function l(b,w){if(typeof b>"u"&&typeof w>"u")for(var A=0;A<e.length;A++)l(e[A].className,e[A].cssClass);else{var C=b;if(typeof w>"u"){var k=i(C);k&&(w=k.cssClass)}for(var R=document.querySelectorAll("."+w),D=0;D<R.length;D++)u(R[D],C)}}function u(b,w){if(!(typeof b=="object"&&b instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var A=a("mdl-componentupgrading",!0,!0);if(b.dispatchEvent(A),!A.defaultPrevented){var C=r(b),k=[];if(w)s(b,w)||k.push(i(w));else{var R=b.classList;e.forEach(function(pt){R.contains(pt.cssClass)&&k.indexOf(pt)===-1&&!s(b,pt.className)&&k.push(pt)})}for(var D=0,M=k.length,N;D<M;D++){if(N=k[D],N){C.push(N.className),b.setAttribute("data-upgraded",C.join(","));var V=new N.classConstructor(b);V[n]=N,t.push(V);for(var X=0,at=N.callbacks.length;X<at;X++)N.callbacks[X](b);N.widget&&(b[N.className]=V)}else throw new Error("Unable to find a registered component for the given class.");var J=a("mdl-componentupgraded",!0,!1);b.dispatchEvent(J)}}}function d(b){Array.isArray(b)||(b instanceof Element?b=[b]:b=Array.prototype.slice.call(b));for(var w=0,A=b.length,C;w<A;w++)C=b[w],C instanceof HTMLElement&&(u(C),C.children.length>0&&d(C.children))}function f(b){var w=typeof b.widget>"u"&&typeof b.widget>"u",A=!0;w||(A=b.widget||b.widget);var C={classConstructor:b.constructor||b.constructor,className:b.classAsString||b.classAsString,cssClass:b.cssClass||b.cssClass,widget:A,callbacks:[]};if(e.forEach(function(R){if(R.cssClass===C.cssClass)throw new Error("The provided cssClass has already been registered: "+R.cssClass);if(R.className===C.className)throw new Error("The provided className has already been registered")}),b.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var k=i(b.classAsString,C);k||e.push(C)}function g(b,w){var A=i(b);A&&A.callbacks.push(w)}function m(){for(var b=0;b<e.length;b++)l(e[b].className)}function v(b){if(b){var w=t.indexOf(b);t.splice(w,1);var A=b.element_.getAttribute("data-upgraded").split(","),C=A.indexOf(b[n].classAsString);A.splice(C,1),b.element_.setAttribute("data-upgraded",A.join(","));var k=a("mdl-componentdowngraded",!0,!1);b.element_.dispatchEvent(k)}}function E(b){var w=function(C){t.filter(function(k){return k.element_===C}).forEach(v)};if(b instanceof Array||b instanceof NodeList)for(var A=0;A<b.length;A++)w(b[A]);else if(b instanceof Node)w(b);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:l,upgradeElement:u,upgradeElements:d,upgradeAllRegistered:m,registerUpgradedCallback:g,register:f,downgradeElements:E}}();Ze.ComponentConfigPublic;Ze.ComponentConfig;Ze.Component;Ze.upgradeDom=Ze.upgradeDom;Ze.upgradeElement=Ze.upgradeElement;Ze.upgradeElements=Ze.upgradeElements;Ze.upgradeAllRegistered=Ze.upgradeAllRegistered;Ze.registerUpgradedCallback=Ze.registerUpgradedCallback;Ze.register=Ze.register;Ze.downgradeElements=Ze.downgradeElements;window.componentHandler=Ze;window.componentHandler=Ze;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Ze.upgradeAllRegistered()):(Ze.upgradeElement=function(){},Ze.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},e.prototype.blurHandler_=function(t){t&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:e,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.init()};window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,t=document.createElement("div"),t.className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,t=document.createElement("div"),t.className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.init()};window.MaterialSpinner=e,e.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},e.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},e.prototype.createLayer=function(t){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),s.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,r,s],l=0;l<a.length;l++){var u=document.createElement("div");u.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[l].appendChild(u)}n.appendChild(i),n.appendChild(r),n.appendChild(s),this.element_.appendChild(n)},e.prototype.createLayer=e.prototype.createLayer,e.prototype.stop=function(){this.element_.classList.remove("is-active")},e.prototype.stop=e.prototype.stop,e.prototype.start=function(){this.element_.classList.add("is-active")},e.prototype.start=e.prototype.start,e.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=e,e.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},e.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},e.prototype.onKeyDown_=function(t){var n=t.target.value.split(`
`).length;t.keyCode===13&&n>=this.maxRows&&t.preventDefault()},e.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(t){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},e.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.checkFocus=e.prototype.checkFocus,e.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:e,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var e,t=typeof Object.create=="function"?Object.create:function(o){function c(){}return c.prototype=o,new c},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;t:{var r={xb:!0},s={};try{s.__proto__=r,i=s.xb;break t}catch{}i=!1}n=i?function(o,c){if(o.__proto__=c,o.__proto__!==c)throw new TypeError(o+" is not extensible");return o}:null}var a=n;function l(o,c){if(o.prototype=t(c.prototype),o.prototype.constructor=o,a)a(o,c);else for(var h in c)if(h!="prototype")if(Object.defineProperties){var p=Object.getOwnPropertyDescriptor(c,h);p&&Object.defineProperty(o,h,p)}else o[h]=c[h];o.K=c.prototype}var u=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,h){o!=Array.prototype&&o!=Object.prototype&&(o[c]=h.value)},d=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function f(o,c){if(c){var h=d;o=o.split(".");for(var p=0;p<o.length-1;p++){var y=o[p];y in h||(h[y]={}),h=h[y]}o=o[o.length-1],p=h[o],c=c(p),c!=p&&c!=null&&u(h,o,{configurable:!0,writable:!0,value:c})}}f("Object.is",function(o){return o||function(c,h){return c===h?c!==0||1/c===1/h:c!==c&&h!==h}}),f("Array.prototype.includes",function(o){return o||function(c,h){var p=this;p instanceof String&&(p=String(p));var y=p.length;for(h=h||0,0>h&&(h=Math.max(h+y,0));h<y;h++){var _=p[h];if(_===c||Object.is(_,c))return!0}return!1}});var g=this;function m(o){return o!==void 0}function v(o){return typeof o=="string"}var E=/^[\w+/_-]+[=]{0,2}$/,b=null;function w(){}function A(o){o.W=void 0,o.Xa=function(){return o.W?o.W:o.W=new o}}function C(o){var c=typeof o;if(c=="object")if(o){if(o instanceof Array)return"array";if(o instanceof Object)return c;var h=Object.prototype.toString.call(o);if(h=="[object Window]")return"object";if(h=="[object Array]"||typeof o.length=="number"&&typeof o.splice<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("splice"))return"array";if(h=="[object Function]"||typeof o.call<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("call"))return"function"}else return"null";else if(c=="function"&&typeof o.call>"u")return"object";return c}function k(o){return C(o)=="array"}function R(o){var c=C(o);return c=="array"||c=="object"&&typeof o.length=="number"}function D(o){return C(o)=="function"}function M(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}var N="closure_uid_"+(1e9*Math.random()>>>0),V=0;function X(o,c,h){return o.call.apply(o.bind,arguments)}function at(o,c,h){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,p),o.apply(c,y)}}return function(){return o.apply(c,arguments)}}function J(o,c,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?J=X:J=at,J.apply(null,arguments)}function pt(o,c){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function Et(o,c){for(var h in c)o[h]=c[h]}var Te=Date.now||function(){return+new Date};function yt(o,c){o=o.split(".");var h=g;o[0]in h||typeof h.execScript>"u"||h.execScript("var "+o[0]);for(var p;o.length&&(p=o.shift());)!o.length&&m(c)?h[p]=c:h[p]&&h[p]!==Object.prototype[p]?h=h[p]:h=h[p]={}}function tt(o,c){function h(){}h.prototype=c.prototype,o.K=c.prototype,o.prototype=new h,o.prototype.constructor=o,o.vc=function(p,y,_){for(var I=Array(arguments.length-2),x=2;x<arguments.length;x++)I[x-2]=arguments[x];return c.prototype[y].apply(p,I)}}function dt(o){if(Error.captureStackTrace)Error.captureStackTrace(this,dt);else{var c=Error().stack;c&&(this.stack=c)}o&&(this.message=String(o))}tt(dt,Error),dt.prototype.name="CustomError";var Rt;function pe(o,c){o=o.split("%s");for(var h="",p=o.length-1,y=0;y<p;y++)h+=o[y]+(y<c.length?c[y]:"%s");dt.call(this,h+o[p])}tt(pe,dt),pe.prototype.name="AssertionError";function Ne(o,c){throw new pe("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}var Ln=Array.prototype.indexOf?function(o,c){return Array.prototype.indexOf.call(o,c,void 0)}:function(o,c){if(v(o))return v(c)&&c.length==1?o.indexOf(c,0):-1;for(var h=0;h<o.length;h++)if(h in o&&o[h]===c)return h;return-1},Ce=Array.prototype.forEach?function(o,c,h){Array.prototype.forEach.call(o,c,h)}:function(o,c,h){for(var p=o.length,y=v(o)?o.split(""):o,_=0;_<p;_++)_ in y&&c.call(h,y[_],_,o)};function vi(o,c){for(var h=v(o)?o.split(""):o,p=o.length-1;0<=p;--p)p in h&&c.call(void 0,h[p],p,o)}var ei=Array.prototype.filter?function(o,c){return Array.prototype.filter.call(o,c,void 0)}:function(o,c){for(var h=o.length,p=[],y=0,_=v(o)?o.split(""):o,I=0;I<h;I++)if(I in _){var x=_[I];c.call(void 0,x,I,o)&&(p[y++]=x)}return p},Wi=Array.prototype.map?function(o,c){return Array.prototype.map.call(o,c,void 0)}:function(o,c){for(var h=o.length,p=Array(h),y=v(o)?o.split(""):o,_=0;_<h;_++)_ in y&&(p[_]=c.call(void 0,y[_],_,o));return p},Pe=Array.prototype.some?function(o,c){return Array.prototype.some.call(o,c,void 0)}:function(o,c){for(var h=o.length,p=v(o)?o.split(""):o,y=0;y<h;y++)if(y in p&&c.call(void 0,p[y],y,o))return!0;return!1};function B(o,c){return 0<=Ln(o,c)}function ut(o,c){c=Ln(o,c);var h;return(h=0<=c)&&it(o,c),h}function it(o,c){return Array.prototype.splice.call(o,c,1).length==1}function _t(o,c){t:{for(var h=o.length,p=v(o)?o.split(""):o,y=0;y<h;y++)if(y in p&&c.call(void 0,p[y],y,o)){c=y;break t}c=-1}0<=c&&it(o,c)}function ae(o,c){var h=0;vi(o,function(p,y){c.call(void 0,p,y,o)&&it(o,y)&&h++})}function Se(o){return Array.prototype.concat.apply([],arguments)}function S(o){var c=o.length;if(0<c){for(var h=Array(c),p=0;p<c;p++)h[p]=o[p];return h}return[]}function P(o,c,h){return 2>=arguments.length?Array.prototype.slice.call(o,c):Array.prototype.slice.call(o,c,h)}var O=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},j=/&/g,U=/</g,et=/>/g,ot=/"/g,Z=/'/g,nt=/\x00/g,K=/[\x00&<>"']/;function ct(o,c){return o<c?-1:o>c?1:0}function wt(o){return K.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(j,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(U,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(et,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(ot,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(Z,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(nt,"&#0;"))),o}function It(o,c,h){for(var p in o)c.call(h,o[p],p,o)}function xt(o){var c={},h;for(h in o)c[h]=o[h];return c}var zt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(o,c){for(var h,p,y=1;y<arguments.length;y++){p=arguments[y];for(h in p)o[h]=p[h];for(var _=0;_<zt.length;_++)h=zt[_],Object.prototype.hasOwnProperty.call(p,h)&&(o[h]=p[h])}}var ce="StopIteration"in g?g.StopIteration:{message:"StopIteration",stack:""};function Re(){}Re.prototype.next=function(){throw ce},Re.prototype.ha=function(){return this};function bi(o){if(o instanceof Re)return o;if(typeof o.ha=="function")return o.ha(!1);if(R(o)){var c=0,h=new Re;return h.next=function(){for(;;){if(c>=o.length)throw ce;if(c in o)return o[c++];c++}},h}throw Error("Not implemented")}function Ws(o,c){if(R(o))try{Ce(o,c,void 0)}catch(h){if(h!==ce)throw h}else{o=bi(o);try{for(;;)c.call(void 0,o.next(),void 0,o)}catch(h){if(h!==ce)throw h}}}function Tf(o){if(R(o))return S(o);o=bi(o);var c=[];return Ws(o,function(h){c.push(h)}),c}function br(o,c){this.g={},this.a=[],this.j=this.h=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var p=0;p<h;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof br)for(h=o.ja(),p=0;p<h.length;p++)this.set(h[p],o.get(h[p]));else for(p in o)this.set(p,o[p])}e=br.prototype,e.la=function(){Xo(this);for(var o=[],c=0;c<this.a.length;c++)o.push(this.g[this.a[c]]);return o},e.ja=function(){return Xo(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0};function Xo(o){if(o.h!=o.a.length){for(var c=0,h=0;c<o.a.length;){var p=o.a[c];pn(o.g,p)&&(o.a[h++]=p),c++}o.a.length=h}if(o.h!=o.a.length){var y={};for(h=c=0;c<o.a.length;)p=o.a[c],pn(y,p)||(o.a[h++]=p,y[p]=1),c++;o.a.length=h}}e.get=function(o,c){return pn(this.g,o)?this.g[o]:c},e.set=function(o,c){pn(this.g,o)||(this.h++,this.a.push(o),this.j++),this.g[o]=c},e.forEach=function(o,c){for(var h=this.ja(),p=0;p<h.length;p++){var y=h[p],_=this.get(y);o.call(c,_,y,this)}},e.ha=function(o){Xo(this);var c=0,h=this.j,p=this,y=new Re;return y.next=function(){if(h!=p.j)throw Error("The map has changed since the iterator was created");if(c>=p.a.length)throw ce;var _=p.a[c++];return o?_:p.g[_]},y};function pn(o,c){return Object.prototype.hasOwnProperty.call(o,c)}var qi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cf(o,c){if(o){o=o.split("&");for(var h=0;h<o.length;h++){var p=o[h].indexOf("="),y=null;if(0<=p){var _=o[h].substring(0,p);y=o[h].substring(p+1)}else _=o[h];c(_,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}function SE(o,c,h,p){for(var y=h.length;0<=(c=o.indexOf(h,c))&&c<p;){var _=o.charCodeAt(c-1);if((_==38||_==63)&&(_=o.charCodeAt(c+y),!_||_==61||_==38||_==35))return c;c+=y+1}return-1}var xE=/#|$/;function Sf(o,c){var h=o.search(xE),p=SE(o,0,c,h);if(0>p)return null;var y=o.indexOf("&",p);return(0>y||y>h)&&(y=h),p+=c.length+1,decodeURIComponent(o.substr(p,y-p).replace(/\+/g," "))}var qL=/[?&]($|#)/;function qs(o,c){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var h;o instanceof qs?(this.i=m(c)?c:o.i,Jy(this,o.j),this.A=o.A,this.h=o.h,Zy(this,o.C),this.g=o.g,t_(this,RE(o.a)),this.s=o.s):o&&(h=String(o).match(qi))?(this.i=!!c,Jy(this,h[1]||"",!0),this.A=tu(h[2]||""),this.h=tu(h[3]||"",!0),Zy(this,h[4]),this.g=tu(h[5]||"",!0),t_(this,h[6]||"",!0),this.s=tu(h[7]||"")):(this.i=!!c,this.a=new nu(null,this.i))}qs.prototype.toString=function(){var o=[],c=this.j;c&&o.push(eu(c,kE,!0),":");var h=this.h;return(h||c=="file")&&(o.push("//"),(c=this.A)&&o.push(eu(c,kE,!0),"@"),o.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.C,h!=null&&o.push(":",String(h))),(h=this.g)&&(this.h&&h.charAt(0)!="/"&&o.push("/"),o.push(eu(h,h.charAt(0)=="/"?YL:GL,!0))),(h=this.a.toString())&&o.push("?",h),(h=this.s)&&o.push("#",eu(h,XL)),o.join("")};function Jy(o,c,h){o.j=h?tu(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Zy(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.C=c}else o.C=null}function t_(o,c,h){c instanceof nu?(o.a=c,JL(o.a,o.i)):(h||(c=eu(c,QL)),o.a=new nu(c,o.i))}function e_(o){return o instanceof qs?new qs(o):new qs(o,void 0)}function tu(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function eu(o,c,h){return v(o)?(o=encodeURI(o).replace(c,KL),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function KL(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var kE=/[#\/\?@]/g,GL=/[#\?:]/g,YL=/[#\?]/g,QL=/[#\?@]/g,XL=/#/g;function nu(o,c){this.g=this.a=null,this.h=o||null,this.j=!!c}function Ks(o){o.a||(o.a=new br,o.g=0,o.h&&Cf(o.h,function(c,h){o.add(decodeURIComponent(c.replace(/\+/g," ")),h)}))}e=nu.prototype,e.add=function(o,c){Ks(this),this.h=null,o=lc(this,o);var h=this.a.get(o);return h||this.a.set(o,h=[]),h.push(c),this.g+=1,this};function Jo(o,c){Ks(o),c=lc(o,c),pn(o.a.g,c)&&(o.h=null,o.g-=o.a.get(c).length,o=o.a,pn(o.g,c)&&(delete o.g[c],o.h--,o.j++,o.a.length>2*o.h&&Xo(o)))}e.clear=function(){this.a=this.h=null,this.g=0};function PE(o,c){return Ks(o),c=lc(o,c),pn(o.a.g,c)}e.forEach=function(o,c){Ks(this),this.a.forEach(function(h,p){Ce(h,function(y){o.call(c,y,p,this)},this)},this)},e.ja=function(){Ks(this);for(var o=this.a.la(),c=this.a.ja(),h=[],p=0;p<c.length;p++)for(var y=o[p],_=0;_<y.length;_++)h.push(c[p]);return h},e.la=function(o){Ks(this);var c=[];if(v(o))PE(this,o)&&(c=Se(c,this.a.get(lc(this,o))));else{o=this.a.la();for(var h=0;h<o.length;h++)c=Se(c,o[h])}return c},e.set=function(o,c){return Ks(this),this.h=null,o=lc(this,o),PE(this,o)&&(this.g-=this.a.get(o).length),this.a.set(o,[c]),this.g+=1,this},e.get=function(o,c){return o?(o=this.la(o),0<o.length?String(o[0]):c):c},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var o=[],c=this.a.ja(),h=0;h<c.length;h++){var p=c[h],y=encodeURIComponent(String(p));p=this.la(p);for(var _=0;_<p.length;_++){var I=y;p[_]!==""&&(I+="="+encodeURIComponent(String(p[_]))),o.push(I)}}return this.h=o.join("&")};function RE(o){var c=new nu;return c.h=o.h,o.a&&(c.a=new br(o.a),c.g=o.g),c}function lc(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function JL(o,c){c&&!o.j&&(Ks(o),o.h=null,o.a.forEach(function(h,p){var y=p.toLowerCase();p!=y&&(Jo(this,p),Jo(this,y),0<h.length&&(this.h=null,this.a.set(lc(this,y),S(h)),this.g+=h.length))},o)),o.j=c}function Zo(o){this.a=e_(o)}function ZL(o,c){c?o.a.a.set(wn.Sa,c):Jo(o.a.a,wn.Sa)}function tF(o,c){c!==null?o.a.a.set(wn.Qa,c?"1":"0"):Jo(o.a.a,wn.Qa)}function DE(o){return o.a.a.get(wn.Pa)||null}function ME(o,c){c?o.a.a.set(wn.PROVIDER_ID,c):Jo(o.a.a,wn.PROVIDER_ID)}Zo.prototype.toString=function(){return this.a.toString()};var wn={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},uc;t:{var OE=g.navigator;if(OE){var NE=OE.userAgent;if(NE){uc=NE;break t}}uc=""}function qt(o){return uc.indexOf(o)!=-1}function LE(){return(qt("Chrome")||qt("CriOS"))&&!qt("Edge")}function n_(o){return n_[" "](o),o}n_[" "]=w;function eF(o,c){var h=rF;return Object.prototype.hasOwnProperty.call(h,o)?h[o]:h[o]=c(o)}var FE=qt("Opera"),nn=qt("Trident")||qt("MSIE"),Gs=qt("Edge"),nF=Gs||nn,nr=qt("Gecko")&&!(uc.toLowerCase().indexOf("webkit")!=-1&&!qt("Edge"))&&!(qt("Trident")||qt("MSIE"))&&!qt("Edge"),di=uc.toLowerCase().indexOf("webkit")!=-1&&!qt("Edge"),iF=di&&qt("Mobile"),Ys=qt("Macintosh");function VE(){var o=g.document;return o?o.documentMode:void 0}var xf;t:{var i_="",r_=function(){var o=uc;if(nr)return/rv:([^\);]+)(\)|;)/.exec(o);if(Gs)return/Edge\/([\d\.]+)/.exec(o);if(nn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(di)return/WebKit\/(\S+)/.exec(o);if(FE)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(r_&&(i_=r_?r_[1]:""),nn){var s_=VE();if(s_!=null&&s_>parseFloat(i_)){xf=String(s_);break t}}xf=i_}var rF={};function ta(o){return eF(o,function(){for(var c=0,h=O(String(xf)).split("."),p=O(String(o)).split("."),y=Math.max(h.length,p.length),_=0;c==0&&_<y;_++){var I=h[_]||"",x=p[_]||"";do{if(I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],x=/(\d*)(\D*)(.*)/.exec(x)||["","","",""],I[0].length==0&&x[0].length==0)break;c=ct(I[1].length==0?0:parseInt(I[1],10),x[1].length==0?0:parseInt(x[1],10))||ct(I[2].length==0,x[2].length==0)||ct(I[2],x[2]),I=I[3],x=x[3]}while(c==0)}return 0<=c})}var iu,BE=g.document;iu=BE&&nn?VE()||(BE.compatMode=="CSS1Compat"?parseInt(xf,10):5):void 0;function hc(o,c){this.a=o===$E&&c||"",this.g=UE}hc.prototype.ma=!0,hc.prototype.ka=function(){return this.a},hc.prototype.toString=function(){return"Const{"+this.a+"}"};var UE={},$E={};function ea(){this.a="",this.h=HE}ea.prototype.ma=!0,ea.prototype.ka=function(){return this.a.toString()},ea.prototype.g=function(){return 1},ea.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function jE(o){return o instanceof ea&&o.constructor===ea&&o.h===HE?o.a:(Ne("expected object of type TrustedResourceUrl, got '"+o+"' of type "+C(o)),"type_error:TrustedResourceUrl")}function sF(){var o=QF;o instanceof hc&&o.constructor===hc&&o.g===UE?o=o.a:(Ne("expected object of type Const, got '"+o+"'"),o="type_error:Const");var c=new ea;return c.a=o,c}var HE={};function Mi(){this.a="",this.h=qE}Mi.prototype.ma=!0,Mi.prototype.ka=function(){return this.a.toString()},Mi.prototype.g=function(){return 1},Mi.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Qs(o){return o instanceof Mi&&o.constructor===Mi&&o.h===qE?o.a:(Ne("expected object of type SafeUrl, got '"+o+"' of type "+C(o)),"type_error:SafeUrl")}var zE=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function kf(o){return o instanceof Mi?o:(o=typeof o=="object"&&o.ma?o.ka():String(o),zE.test(o)||(o="about:invalid#zClosurez"),o_(o))}function WE(o){return o instanceof Mi?o:(o=typeof o=="object"&&o.ma?o.ka():String(o),zE.test(o)||(o="about:invalid#zClosurez"),o_(o))}var qE={};function o_(o){var c=new Mi;return c.a=o,c}o_("about:blank");function dc(){this.a="",this.g=KE}dc.prototype.ma=!0;var KE={};dc.prototype.ka=function(){return this.a},dc.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Xs(){this.a="",this.j=GE,this.h=null}Xs.prototype.g=function(){return this.h},Xs.prototype.ma=!0,Xs.prototype.ka=function(){return this.a.toString()},Xs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Pf(o){return o instanceof Xs&&o.constructor===Xs&&o.j===GE?o.a:(Ne("expected object of type SafeHtml, got '"+o+"' of type "+C(o)),"type_error:SafeHtml")}var GE={};function ru(o,c){var h=new Xs;return h.a=o,h.h=c,h}ru("<!DOCTYPE html>",0);var oF=ru("",0);ru("<br>",0);var aF=function(o){var c=!1,h;return function(){return c||(h=o(),c=!0),h}}(function(){if(typeof document>"u")return!1;var o=document.createElement("div"),c=document.createElement("div");return c.appendChild(document.createElement("div")),o.appendChild(c),o.firstChild?(c=o.firstChild.firstChild,o.innerHTML=Pf(oF),!c.parentElement):!1});function cF(o,c){if(o.src=jE(c),b===null)t:{if(c=g.document,(c=c.querySelector&&c.querySelector("script[nonce]"))&&(c=c.nonce||c.getAttribute("nonce"))&&E.test(c)){b=c;break t}b=""}c=b,c&&o.setAttribute("nonce",c)}function fc(o,c){c=c instanceof Mi?c:WE(c),o.assign(Qs(c))}function Js(o,c){this.a=m(o)?o:0,this.g=m(c)?c:0}Js.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Js.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Js.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Js.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function a_(o,c){this.width=o,this.height=c}e=a_.prototype,e.toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Rf(o){return o?new h_(su(o)):Rt||(Rt=new h_)}function c_(o,c){var h=c||document;return h.querySelectorAll&&h.querySelector?h.querySelectorAll("."+o):YE(document,o,c)}function l_(o,c){var h=c||document;if(h.getElementsByClassName)o=h.getElementsByClassName(o)[0];else{h=document;var p=c||h;o=p.querySelectorAll&&p.querySelector&&o?p.querySelector(o?"."+o:""):YE(h,o,c)[0]||null}return o||null}function YE(o,c,h){var p;if(o=h||o,o.querySelectorAll&&o.querySelector&&c)return o.querySelectorAll(c?"."+c:"");if(c&&o.getElementsByClassName){var y=o.getElementsByClassName(c);return y}if(y=o.getElementsByTagName("*"),c){var _={};for(h=p=0;o=y[h];h++){var I=o.className;typeof I.split=="function"&&B(I.split(/\s+/),c)&&(_[p++]=o)}return _.length=p,_}return y}function lF(o,c){It(c,function(h,p){h&&typeof h=="object"&&h.ma&&(h=h.ka()),p=="style"?o.style.cssText=h:p=="class"?o.className=h:p=="for"?o.htmlFor=h:QE.hasOwnProperty(p)?o.setAttribute(QE[p],h):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,h):o[p]=h})}var QE={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Df(o){return o.scrollingElement?o.scrollingElement:(di||o.compatMode!="CSS1Compat")&&o.body||o.documentElement}function na(o){o&&o.parentNode&&o.parentNode.removeChild(o)}function su(o){return o.nodeType==9?o:o.ownerDocument||o.document}function u_(o,c){if("textContent"in o)o.textContent=c;else if(o.nodeType==3)o.data=String(c);else if(o.firstChild&&o.firstChild.nodeType==3){for(;o.lastChild!=o.firstChild;)o.removeChild(o.lastChild);o.firstChild.data=String(c)}else{for(var h;h=o.firstChild;)o.removeChild(h);o.appendChild(su(o).createTextNode(String(c)))}}function XE(o,c){return c?uF(o,function(h){return!c||v(h.className)&&B(h.className.split(/\s+/),c)}):null}function uF(o,c){for(var h=0;o;){if(c(o))return o;o=o.parentNode,h++}return null}function h_(o){this.a=o||g.document||document}h_.prototype.N=function(){return v(void 0)?this.a.getElementById(void 0):void 0};var Mf={Fc:!0},JE={Hc:!0},hF={Ec:!0},ZE={Gc:!0};function Zs(){throw Error("Do not instantiate directly")}Zs.prototype.va=null,Zs.prototype.toString=function(){return this.content};function ou(o,c,h,p){if(o=o(c||pF,void 0,h),p=(p||Rf()).a.createElement("DIV"),o=dF(o),o.match(fF),o=ru(o,null),aF())for(;p.lastChild;)p.removeChild(p.lastChild);return p.innerHTML=Pf(o),p.childNodes.length==1&&(o=p.firstChild,o.nodeType==1&&(p=o)),p}function dF(o){if(!M(o))return wt(String(o));if(o instanceof Zs){if(o.fa===Mf)return o.content;if(o.fa===ZE)return wt(o.content)}return Ne("Soy template output is unsafe for use as HTML: "+o),"zSoyz"}var fF=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,pF={};function gF(o){if(o!=null)switch(o.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function Of(){Zs.call(this)}tt(Of,Zs),Of.prototype.fa=Mf;function kt(o){return o!=null&&o.fa===Mf?o:o instanceof Xs?ht(Pf(o).toString(),o.g()):ht(wt(String(String(o))),gF(o))}function Nf(){Zs.call(this)}tt(Nf,Zs),Nf.prototype.fa=JE,Nf.prototype.va=1;function Lf(o,c){this.content=String(o),this.va=c??null}tt(Lf,Zs),Lf.prototype.fa=ZE;function se(o){return new Lf(o,void 0)}var ht=function(o){function c(h){this.content=h}return c.prototype=o.prototype,function(h,p){return h=new c(String(h)),p!==void 0&&(h.va=p),h}}(Of),mF=function(o){function c(h){this.content=h}return c.prototype=o.prototype,function(h){return new c(String(h))}}(Nf);function yF(o){function c(){}var h={label:rn("New password")};c.prototype=o,o=new c;for(var p in h)o[p]=h[p];return o}function rn(o){return(o=String(o))?new Lf(o,void 0):""}var tI=function(o){function c(h){this.content=h}return c.prototype=o.prototype,function(h,p){return h=String(h),h?(h=new c(h),p!==void 0&&(h.va=p),h):""}}(Of);function fi(o){return o!=null&&o.fa===Mf?String(String(o.content).replace(AF,"").replace(TF,"&lt;")).replace(wF,vF):wt(String(o))}function ia(o){return o!=null&&o.fa===JE?o=String(o).replace(f_,d_):o instanceof Mi?o=String(Qs(o).toString()).replace(f_,d_):(o=String(o),IF.test(o)?o=o.replace(f_,d_):(Ne("Bad value `%s` for |filterNormalizeUri",[o]),o="#zSoyz")),o}function eI(o){return o!=null&&o.fa===hF?o=o.content:o==null?o="":o instanceof dc?o instanceof dc&&o.constructor===dc&&o.g===KE?o=o.a:(Ne("expected object of type SafeStyle, got '"+o+"' of type "+C(o)),o="type_error:SafeStyle"):(o=String(o),EF.test(o)||(Ne("Bad value `%s` for |filterCssValue",[o]),o="zSoyz")),o}var _F={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function vF(o){return _F[o]}var bF={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function d_(o){return bF[o]}var wF=/[\x00\x22\x27\x3c\x3e]/g,f_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,EF=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,IF=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,AF=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,TF=/</g;function p_(){return se("Enter a valid phone number")}function nI(){return se("Unable to send password reset code to specified email")}function iI(){return se("Something went wrong. Please try again.")}function rI(){return se("This email already exists without any means of sign-in. Please reset the password to recover.")}function sI(o){o=o||{};var c="";switch(o.code){case"invalid-argument":c+="Client specified an invalid argument.";break;case"invalid-configuration":c+="Client specified an invalid project configuration.";break;case"failed-precondition":c+="Request can not be executed in the current system state.";break;case"out-of-range":c+="Client specified an invalid range.";break;case"unauthenticated":c+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":c+="Client does not have sufficient permission.";break;case"not-found":c+="Specified resource is not found.";break;case"aborted":c+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":c+="The resource that a client tried to create already exists.";break;case"resource-exhausted":c+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":c+="Request cancelled by the client.";break;case"data-loss":c+="Unrecoverable data loss or data corruption.";break;case"unknown":c+="Unknown server error.";break;case"internal":c+="Internal server error.";break;case"not-implemented":c+="API method not implemented by the server.";break;case"unavailable":c+="Service unavailable.";break;case"deadline-exceeded":c+="Request deadline exceeded.";break;case"auth/user-disabled":c+="The user account has been disabled by an administrator.";break;case"auth/timeout":c+="The operation has timed out.";break;case"auth/too-many-requests":c+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":c+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":c+="A network error has occurred. Try again later.";break;case"restart-process":c+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":c+="No sign-in provider is available for the given email, please try with a different email."}return se(c)}function oI(){return se("Please login again to perform this operation")}function au(o,c,h){var p=Error.call(this);if(this.message=p.message,"stack"in p&&(this.stack=p.stack),this.code=CF+o,!(o=c)){switch(o="",this.code){case"firebaseui/merge-conflict":o+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:o+=iI()}o=se(o).toString()}this.message=o||"",this.credential=h||null}l(au,Error),au.prototype.toJSON=function(){return{code:this.code,message:this.message}};var CF="firebaseui/";function ra(){this.T=this.T,this.C=this.C}var SF=0;ra.prototype.T=!1,ra.prototype.m=function(){!this.T&&(this.T=!0,this.o(),SF!=0)&&(this[N]||(this[N]=++V))};function cu(o,c){o.T?m(void 0)?c.call(void 0):c():(o.C||(o.C=[]),o.C.push(m(void 0)?J(c,void 0):c))}ra.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lu(o){o&&typeof o.m=="function"&&o.m()}var xF=Object.freeze||function(o){return o},aI=!nn||9<=Number(iu),kF=nn&&!ta("9"),PF=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{g.addEventListener("test",w,c),g.removeEventListener("test",w,c)}catch{}return o}();function as(o,c){this.type=o,this.g=this.target=c,this.h=!1,this.qb=!0}as.prototype.stopPropagation=function(){this.h=!0},as.prototype.preventDefault=function(){this.qb=!1};function pi(o,c){if(as.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var h=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(nr){t:{try{n_(c.nodeName);var y=!0;break t}catch{}y=!1}y||(c=null)}}else h=="mouseover"?c=o.fromElement:h=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.keyCode=o.keyCode||0,this.key=o.key||"",this.j=o.charCode||(h=="keypress"?o.keyCode:0),this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=v(o.pointerType)?o.pointerType:RF[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}tt(pi,as);var RF=xF({2:"touch",3:"pen",4:"mouse"});pi.prototype.stopPropagation=function(){pi.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},pi.prototype.preventDefault=function(){pi.K.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,kF)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}};var uu="closure_listenable_"+(1e6*Math.random()|0),DF=0;function MF(o,c,h,p,y){this.listener=o,this.proxy=null,this.src=c,this.type=h,this.capture=!!p,this.La=y,this.key=++DF,this.sa=this.Ia=!1}function Ff(o){o.sa=!0,o.listener=null,o.proxy=null,o.src=null,o.La=null}function Vf(o){this.src=o,this.a={},this.g=0}Vf.prototype.add=function(o,c,h,p,y){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.g++);var I=m_(o,c,p,y);return-1<I?(c=o[I],h||(c.Ia=!1)):(c=new MF(c,this.src,_,!!p,y),c.Ia=h,o.push(c)),c};function g_(o,c){var h=c.type;h in o.a&&ut(o.a[h],c)&&(Ff(c),o.a[h].length==0&&(delete o.a[h],o.g--))}function m_(o,c,h,p){for(var y=0;y<o.length;++y){var _=o[y];if(!_.sa&&_.listener==c&&_.capture==!!h&&_.La==p)return y}return-1}var y_="closure_lm_"+(1e6*Math.random()|0),__={};function ir(o,c,h,p,y){if(p&&p.once)return hu(o,c,h,p,y);if(k(c)){for(var _=0;_<c.length;_++)ir(o,c[_],h,p,y);return null}return h=b_(h),o&&o[uu]?o.J.add(String(c),h,!1,M(p)?!!p.capture:!!p,y):cI(o,c,h,!1,p,y)}function cI(o,c,h,p,y,_){if(!c)throw Error("Invalid event type");var I=M(y)?!!y.capture:!!y,x=Bf(o);if(x||(o[y_]=x=new Vf(o)),h=x.add(c,h,p,I,_),h.proxy)return h;if(p=OF(),h.proxy=p,p.src=o,p.listener=h,o.addEventListener)PF||(y=I),y===void 0&&(y=!1),o.addEventListener(c.toString(),p,y);else if(o.attachEvent)o.attachEvent(lI(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function OF(){var o=NF,c=aI?function(h){return o.call(c.src,c.listener,h)}:function(h){if(h=o.call(c.src,c.listener,h),!h)return h};return c}function hu(o,c,h,p,y){if(k(c)){for(var _=0;_<c.length;_++)hu(o,c[_],h,p,y);return null}return h=b_(h),o&&o[uu]?o.J.add(String(c),h,!0,M(p)?!!p.capture:!!p,y):cI(o,c,h,!0,p,y)}function sa(o,c,h,p,y){if(k(c))for(var _=0;_<c.length;_++)sa(o,c[_],h,p,y);else p=M(p)?!!p.capture:!!p,h=b_(h),o&&o[uu]?(o=o.J,c=String(c).toString(),c in o.a&&(_=o.a[c],h=m_(_,h,p,y),-1<h&&(Ff(_[h]),it(_,h),_.length==0&&(delete o.a[c],o.g--)))):o&&(o=Bf(o))&&(c=o.a[c.toString()],o=-1,c&&(o=m_(c,h,p,y)),(h=-1<o?c[o]:null)&&to(h))}function to(o){if(typeof o!="number"&&o&&!o.sa){var c=o.src;if(c&&c[uu])g_(c.J,o);else{var h=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(h,p,o.capture):c.detachEvent?c.detachEvent(lI(h),p):c.addListener&&c.removeListener&&c.removeListener(p),(h=Bf(c))?(g_(h,o),h.g==0&&(h.src=null,c[y_]=null)):Ff(o)}}}function lI(o){return o in __?__[o]:__[o]="on"+o}function uI(o,c,h,p){var y=!0;if((o=Bf(o))&&(c=o.a[c.toString()]))for(c=c.concat(),o=0;o<c.length;o++){var _=c[o];_&&_.capture==h&&!_.sa&&(_=hI(_,p),y=y&&_!==!1)}return y}function hI(o,c){var h=o.listener,p=o.La||o.src;return o.Ia&&to(o),h.call(p,c)}function NF(o,c){if(o.sa)return!0;if(!aI){if(!c)t:{c=["window","event"];for(var h=g,p=0;p<c.length;p++)if(h=h[c[p]],h==null){c=null;break t}c=h}if(p=c,c=new pi(p,this),h=!0,!(0>p.keyCode||p.returnValue!=null)){t:{var y=!1;if(p.keyCode==0)try{p.keyCode=-1;break t}catch{y=!0}(y||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],y=c.g;y;y=y.parentNode)p.push(y);for(o=o.type,y=p.length-1;!c.h&&0<=y;y--){c.g=p[y];var _=uI(p[y],o,!0,c);h=h&&_}for(y=0;!c.h&&y<p.length;y++)c.g=p[y],_=uI(p[y],o,!1,c),h=h&&_}return h}return hI(o,new pi(c,this))}function Bf(o){return o=o[y_],o instanceof Vf?o:null}var v_="__closure_events_fn_"+(1e9*Math.random()>>>0);function b_(o){return D(o)?o:(o[v_]||(o[v_]=function(c){return o.handleEvent(c)}),o[v_])}function En(){ra.call(this),this.J=new Vf(this),this.wb=this,this.Ha=null}tt(En,ra),En.prototype[uu]=!0,En.prototype.Za=function(o){this.Ha=o},En.prototype.removeEventListener=function(o,c,h,p){sa(this,o,c,h,p)};function eo(o,c){var h,p=o.Ha;if(p)for(h=[];p;p=p.Ha)h.push(p);if(o=o.wb,p=c.type||c,v(c))c=new as(c,o);else if(c instanceof as)c.target=c.target||o;else{var y=c;c=new as(p,o),re(c,y)}if(y=!0,h)for(var _=h.length-1;!c.h&&0<=_;_--){var I=c.g=h[_];y=Uf(I,p,!0,c)&&y}if(c.h||(I=c.g=o,y=Uf(I,p,!0,c)&&y,c.h||(y=Uf(I,p,!1,c)&&y)),h)for(_=0;!c.h&&_<h.length;_++)I=c.g=h[_],y=Uf(I,p,!1,c)&&y;return y}En.prototype.o=function(){if(En.K.o.call(this),this.J){var o=this.J,c;for(c in o.a){for(var h=o.a[c],p=0;p<h.length;p++)Ff(h[p]);delete o.a[c],o.g--}}this.Ha=null};function Uf(o,c,h,p){if(c=o.J.a[String(c)],!c)return!0;c=c.concat();for(var y=!0,_=0;_<c.length;++_){var I=c[_];if(I&&!I.sa&&I.capture==h){var x=I.listener,F=I.La||I.src;I.Ia&&g_(o.J,I),y=x.call(F,p)!==!1&&y}}return y&&p.qb!=0}var Oi={},dI=0;function fI(o,c){if(!o)throw Error("Event target element must be provided!");if(o=w_(o),Oi[o]&&Oi[o].length)for(var h=0;h<Oi[o].length;h++)eo(Oi[o][h],c)}function LF(o){var c=w_(o.N());Oi[c]&&Oi[c].length&&(_t(Oi[c],function(h){return h==o}),Oi[c].length||delete Oi[c])}function w_(o){return typeof o.a>"u"&&(o.a=dI,dI++),o.a}function $f(o){if(!o)throw Error("Event target element must be provided!");En.call(this),this.a=o}l($f,En),$f.prototype.N=function(){return this.a},$f.prototype.register=function(){var o=w_(this.N());Oi[o]?B(Oi[o],this)||Oi[o].push(this):Oi[o]=[this]};function pI(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function E_(o,c){this.h=o,this.j=c,this.g=0,this.a=null}E_.prototype.get=function(){if(0<this.g){this.g--;var o=this.a;this.a=o.next,o.next=null}else o=this.h();return o};function gI(o,c){o.j(c),100>o.g&&(o.g++,c.next=o.a,o.a=c)}function mI(){this.g=this.a=null}var yI=new E_(function(){return new I_},function(o){o.reset()});mI.prototype.add=function(o,c){var h=yI.get();h.set(o,c),this.g?this.g.next=h:this.a=h,this.g=h};function FF(){var o=vI,c=null;return o.a&&(c=o.a,o.a=o.a.next,o.a||(o.g=null),c.next=null),c}function I_(){this.next=this.g=this.a=null}I_.prototype.set=function(o,c){this.a=o,this.g=c,this.next=null},I_.prototype.reset=function(){this.next=this.g=this.a=null};function _I(o){g.setTimeout(function(){throw o},0)}var A_;function VF(){var o=g.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!qt("Presto")&&(o=function(){var y=document.createElement("IFRAME");y.style.display="none",y.src="",document.documentElement.appendChild(y);var _=y.contentWindow;y=_.document,y.open(),y.write(""),y.close();var I="callImmediate"+Math.random(),x=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;y=J(function(F){(x=="*"||F.origin==x)&&F.data==I&&this.port1.onmessage()},this),_.addEventListener("message",y,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(I,x)}}}),typeof o<"u"&&!qt("Trident")&&!qt("MSIE")){var c=new o,h={},p=h;return c.port1.onmessage=function(){if(m(h.next)){h=h.next;var y=h.gb;h.gb=null,y()}},function(y){p.next={gb:y},p=p.next,c.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(y){var _=document.createElement("SCRIPT");_.onreadystatechange=function(){_.onreadystatechange=null,_.parentNode.removeChild(_),_=null,y(),y=null},document.documentElement.appendChild(_)}:function(y){g.setTimeout(y,0)}}function T_(o,c){jf||BF(),C_||(jf(),C_=!0),vI.add(o,c)}var jf;function BF(){if(g.Promise&&g.Promise.resolve){var o=g.Promise.resolve(void 0);jf=function(){o.then(bI)}}else jf=function(){var c=bI;!D(g.setImmediate)||g.Window&&g.Window.prototype&&!qt("Edge")&&g.Window.prototype.setImmediate==g.setImmediate?(A_||(A_=VF()),A_(c)):g.setImmediate(c)}}var C_=!1,vI=new mI;function bI(){for(var o;o=FF();){try{o.a.call(o.g)}catch(c){_I(c)}gI(yI,o)}C_=!1}function In(o){if(this.a=oa,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,o!=w)try{var c=this;o.call(void 0,function(h){aa(c,du,h)},function(h){if(!(h instanceof gc))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}aa(c,cs,h)})}catch(h){aa(this,cs,h)}}var oa=0,du=2,cs=3;function wI(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}wI.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var EI=new E_(function(){return new wI},function(o){o.reset()});function S_(o,c,h){var p=EI.get();return p.s=o,p.g=c,p.j=h,p}function sn(o){if(o instanceof In)return o;var c=new In(w);return aa(c,du,o),c}function pc(o){return new In(function(c,h){h(o)})}In.prototype.then=function(o,c,h){return AI(this,D(o)?o:null,D(c)?c:null,h)},In.prototype.$goog_Thenable=!0,e=In.prototype,e.fc=function(o,c){return o=S_(o,o,c),o.h=!0,x_(this,o),this},e.Ca=function(o,c){return AI(this,null,o,c)},e.cancel=function(o){this.a==oa&&T_(function(){var c=new gc(o);II(this,c)},this)};function II(o,c){if(o.a==oa)if(o.h){var h=o.h;if(h.g){for(var p=0,y=null,_=null,I=h.g;I&&(I.h||(p++,I.a==o&&(y=I),!(y&&1<p)));I=I.next)y||(_=I);y&&(h.a==oa&&p==1?II(h,c):(_?(p=_,p.next==h.j&&(h.j=p),p.next=p.next.next):CI(h),SI(h,y,cs,c)))}o.h=null}else aa(o,cs,c)}function x_(o,c){o.g||o.a!=du&&o.a!=cs||TI(o),o.j?o.j.next=c:o.g=c,o.j=c}function AI(o,c,h,p){var y=S_(null,null,null);return y.a=new In(function(_,I){y.s=c?function(x){try{var F=c.call(p,x);_(F)}catch(Y){I(Y)}}:_,y.g=h?function(x){try{var F=h.call(p,x);!m(F)&&x instanceof gc?I(x):_(F)}catch(Y){I(Y)}}:I}),y.a.h=o,x_(o,y),y.a}e.hc=function(o){this.a=oa,aa(this,du,o)},e.ic=function(o){this.a=oa,aa(this,cs,o)};function aa(o,c,h){if(o.a==oa){o===h&&(c=cs,h=new TypeError("Promise cannot resolve to itself")),o.a=1;t:{var p=h,y=o.hc,_=o.ic;if(p instanceof In){x_(p,S_(y||w,_||null,o));var I=!0}else if(pI(p))p.then(y,_,o),I=!0;else{if(M(p))try{var x=p.then;if(D(x)){UF(p,x,y,_,o),I=!0;break t}}catch(F){_.call(o,F),I=!0;break t}I=!1}}I||(o.A=h,o.a=c,o.h=null,TI(o),c!=cs||h instanceof gc||$F(o,h))}}function UF(o,c,h,p,y){function _(F){x||(x=!0,p.call(y,F))}function I(F){x||(x=!0,h.call(y,F))}var x=!1;try{c.call(o,I,_)}catch(F){_(F)}}function TI(o){o.i||(o.i=!0,T_(o.Hb,o))}function CI(o){var c=null;return o.g&&(c=o.g,o.g=c.next,c.next=null),o.g||(o.j=null),c}e.Hb=function(){for(var o;o=CI(this);)SI(this,o,this.a,this.A);this.i=!1};function SI(o,c,h,p){if(h==cs&&c.g&&!c.h)for(;o&&o.s;o=o.h)o.s=!1;if(c.a)c.a.h=null,xI(c,h,p);else try{c.h?c.s.call(c.j):xI(c,h,p)}catch(y){kI.call(null,y)}gI(EI,c)}function xI(o,c,h){c==du?o.s.call(o.j,h):o.g&&o.g.call(o.j,h)}function $F(o,c){o.s=!0,T_(function(){o.s&&kI.call(null,c)})}var kI=_I;function gc(o){dt.call(this,o)}tt(gc,dt),gc.prototype.name="cancel";function PI(o,c,h){c||(c={}),h=h||window;var p=o instanceof Mi?o:kf(typeof o.href<"u"?o.href:String(o));o=c.target||o.target;var y=[];for(_ in c)switch(_){case"width":case"height":case"top":case"left":y.push(_+"="+c[_]);break;case"target":case"noopener":case"noreferrer":break;default:y.push(_+"="+(c[_]?1:0))}var _=y.join(",");return(qt("iPhone")&&!qt("iPod")&&!qt("iPad")||qt("iPad")||qt("iPod"))&&h.navigator&&h.navigator.standalone&&o&&o!="_self"?(_=h.document.createElement("A"),p=p instanceof Mi?p:WE(p),_.href=Qs(p),_.setAttribute("target",o),c.noreferrer&&_.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,h,1),_.dispatchEvent(c),h={}):c.noreferrer?(h=h.open("",o,_),c=Qs(p).toString(),h&&(nF&&c.indexOf(";")!=-1&&(c="'"+c.replace(/'/g,"%27")+"'"),h.opener=null,c=ru('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+wt(c)+'">',null),h.document.write(Pf(c)),h.document.close())):(h=h.open(Qs(p).toString(),o,_))&&c.noopener&&(h.opener=null),h}function RI(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function mc(o){PI(o,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Hf(o,c){if(o=M(o)&&o.nodeType==1?o:document.querySelector(String(o)),o==null)throw Error(c||"Cannot find element.");return o}function ls(){return window.location.href}function jF(){var o=null;return new In(function(c){g.document.readyState=="complete"?c():(o=function(){c()},hu(window,"load",o))}).Ca(function(c){throw sa(window,"load",o),c})}function HF(){for(var o=32,c=[];0<o;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return c.join("")}function zF(o,c,h){return h=h===void 0?{}:h,Object.keys(o).filter(function(p){return c.includes(p)}).reduce(function(p,y){return p[y]=o[y],p},h)}function no(o){var c=KF;this.s=[],this.T=c,this.O=o||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}no.prototype.cancel=function(o){if(this.a)this.h instanceof no&&this.h.cancel();else{if(this.g){var c=this.g;delete this.g,o?c.cancel(o):(c.C--,0>=c.C&&c.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(o=new pu,zf(this),fu(this,!1,o))}},no.prototype.L=function(o,c){this.A=!1,fu(this,o,c)};function fu(o,c,h){o.a=!0,o.h=h,o.j=!c,OI(o)}function zf(o){if(o.a){if(!o.J)throw new Wf;o.J=!1}}no.prototype.callback=function(o){zf(this),fu(this,!0,o)};function DI(o,c,h){o.s.push([c,h,void 0]),o.a&&OI(o)}no.prototype.then=function(o,c,h){var p,y,_=new In(function(I,x){p=I,y=x});return DI(this,p,function(I){I instanceof pu?_.cancel():y(I)}),_.then(o,c,h)},no.prototype.$goog_Thenable=!0;function MI(o){return Pe(o.s,function(c){return D(c[1])})}function OI(o){if(o.i&&o.a&&MI(o)){var c=o.i,h=qf[c];h&&(g.clearTimeout(h.a),delete qf[c]),o.i=0}o.g&&(o.g.C--,delete o.g),c=o.h;for(var p=h=!1;o.s.length&&!o.A;){var y=o.s.shift(),_=y[0],I=y[1];if(y=y[2],_=o.j?I:_)try{var x=_.call(y||o.O,c);m(x)&&(o.j=o.j&&(x==c||x instanceof Error),o.h=c=x),(pI(c)||typeof g.Promise=="function"&&c instanceof g.Promise)&&(p=!0,o.A=!0)}catch(F){c=F,o.j=!0,MI(o)||(h=!0)}}o.h=c,p&&(x=J(o.L,o,!0),p=J(o.L,o,!1),c instanceof no?(DI(c,x,p),c.l=!0):c.then(x,p)),h&&(c=new NI(c),qf[c.a]=c,o.i=c.a)}function Wf(){dt.call(this)}tt(Wf,dt),Wf.prototype.message="Deferred has already fired",Wf.prototype.name="AlreadyCalledError";function pu(){dt.call(this)}tt(pu,dt),pu.prototype.message="Deferred was canceled",pu.prototype.name="CanceledError";function NI(o){this.a=g.setTimeout(J(this.h,this),0),this.g=o}NI.prototype.h=function(){throw delete qf[this.a],this.g};var qf={};function WF(o){var c={},h=c.document||document,p=jE(o).toString(),y=document.createElement("SCRIPT"),_={rb:y,sb:void 0},I=new no(_),x=null,F=c.timeout!=null?c.timeout:5e3;return 0<F&&(x=window.setTimeout(function(){Kf(y,!0);var Y=new k_(YF,"Timeout reached for loading script "+p);zf(I),fu(I,!1,Y)},F),_.sb=x),y.onload=y.onreadystatechange=function(){y.readyState&&y.readyState!="loaded"&&y.readyState!="complete"||(Kf(y,c.xc||!1,x),I.callback(null))},y.onerror=function(){Kf(y,!0,x);var Y=new k_(GF,"Error while loading script "+p);zf(I),fu(I,!1,Y)},_=c.attributes||{},re(_,{type:"text/javascript",charset:"UTF-8"}),lF(y,_),cF(y,o),qF(h).appendChild(y),I}function qF(o){var c=(o||document).getElementsByTagName("HEAD");return c&&c.length!=0?c[0]:o.documentElement}function KF(){if(this&&this.rb){var o=this.rb;o&&o.tagName=="SCRIPT"&&Kf(o,!0,this.sb)}}function Kf(o,c,h){h!=null&&g.clearTimeout(h),o.onload=w,o.onerror=w,o.onreadystatechange=w,c&&window.setTimeout(function(){na(o)},0)}var GF=0,YF=1;function k_(o,c){var h="Jsloader error (code #"+o+")";c&&(h+=": "+c),dt.call(this,h),this.code=o}tt(k_,dt);function gu(){return g.google&&g.google.accounts&&g.google.accounts.id||null}function P_(o){this.a=o||gu(),this.h=!1,this.g=null}P_.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function LI(o,c,h){if(o.a&&c)return function(){return o.h=!0,new In(function(y){o.g=y,o.a.initialize({client_id:c,callback:y,auto_select:!h}),o.a.prompt()})}();if(c){var p=R_.Xa().load().then(function(){return o.a=gu(),LI(o,c,h)}).Ca(function(){return null});return sn(p)}return sn(null)}A(P_);var QF=new hc($E,"https://accounts.google.com/gsi/client");function R_(){this.a=null}R_.prototype.load=function(){var o=this;if(this.a)return this.a;var c=sF();return gu()?sn():this.a=jF().then(function(){if(!gu())return new In(function(h,p){var y=setTimeout(function(){o.a=null,p(Error("Network error!"))},1e4);g.onGoogleLibraryLoad=function(){clearTimeout(y),h()},sn(WF(c)).then(function(){gu()&&h()}).Ca(function(_){clearTimeout(y),o.a=null,p(_)})})})},A(R_);function D_(o,c){this.a=o,this.g=c||function(h){throw h}}D_.prototype.confirm=function(o){return sn(this.a.confirm(o)).Ca(this.g)};function M_(o,c,h){this.reset(o,c,h,void 0,void 0)}M_.prototype.a=null,M_.prototype.reset=function(o,c,h,p,y){this.h=p||Te(),this.j=o,this.s=c,this.g=h,delete this.a};function O_(o){this.s=o,this.a=this.h=this.j=this.g=null}function Gf(o,c){this.name=o,this.value=c}Gf.prototype.toString=function(){return this.name};var FI=new Gf("SEVERE",1e3),VI=new Gf("WARNING",900),BI=new Gf("CONFIG",700);function UI(o){return o.j?o.j:o.g?UI(o.g):(Ne("Root logger has no level set."),null)}O_.prototype.log=function(o,c,h){if(o.value>=UI(this).value)for(D(c)&&(c=c()),o=new M_(o,String(c),this.s),h&&(o.a=h),h=this;h;){var p=h,y=o;if(p.a)for(var _=0;c=p.a[_];_++)c(y);h=h.g}};var N_={},mu=null;function $I(){mu||(mu=new O_(""),N_[""]=mu,mu.j=BI)}function jI(o){$I();var c;if(!(c=N_[o])){c=new O_(o);var h=o.lastIndexOf("."),p=o.substr(h+1);h=jI(o.substr(0,h)),h.h||(h.h={}),h.h[p]=c,c.g=h,N_[o]=c}return c}function Yf(){this.a=Te()}var L_=null;Yf.prototype.set=function(o){this.a=o},Yf.prototype.reset=function(){this.set(Te())},Yf.prototype.get=function(){return this.a};function yu(o){this.j=o||"",L_||(L_=new Yf),this.s=L_}yu.prototype.a=!0,yu.prototype.g=!0,yu.prototype.h=!1;function ca(o){return 10>o?"0"+o:String(o)}function XF(o,c){o=(o.h-c)/1e3,c=o.toFixed(3);var h=0;if(1>o)h=2;else for(;100>o;)h++,o*=10;for(;0<h--;)c=" "+c;return c}function HI(o){yu.call(this,o)}tt(HI,yu);function JF(o,c){var h=[];if(h.push(o.j," "),o.g){var p=new Date(c.h);h.push("[",ca(p.getFullYear()-2e3)+ca(p.getMonth()+1)+ca(p.getDate())+" "+ca(p.getHours())+":"+ca(p.getMinutes())+":"+ca(p.getSeconds())+"."+ca(Math.floor(p.getMilliseconds()/10)),"] ")}return h.push("[",XF(c,o.s.get()),"s] "),h.push("[",c.g,"] "),h.push(c.s),o.h&&(c=c.a)&&h.push(`
`,c instanceof Error?c.message:c.toString()),o.a&&h.push(`
`),h.join("")}function zI(){this.s=J(this.h,this),this.a=new HI,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}zI.prototype.h=function(o){function c(_){if(_){if(_.value>=FI.value)return"error";if(_.value>=VI.value)return"warn";if(_.value>=BI.value)return"log"}return"debug"}if(!this.j[o.g]){var h=JF(this.a,o),p=ZF;if(p){var y=c(o.j);tV(p,y,h,o.a)}}};var ZF=g.console;function tV(o,c,h,p){o[c]?o[c](h,p||""):o.log(h,p||"")}function Ni(o,c){var h=F_;h&&h.log(FI,o,c)}var F_;F_=jI("firebaseui");var V_=new zI;if(V_.g!=1){var Qf;$I(),Qf=mu;var eV=V_.s;Qf.a||(Qf.a=[]),Qf.a.push(eV),V_.g=!0}function io(o){var c=F_;c&&c.log(VI,o,void 0)}function WI(){this.a=(typeof document>"u"?null:document)||{cookie:""}}e=WI.prototype,e.set=function(o,c,h,p,y,_){if(/[;=\s]/.test(o))throw Error('Invalid cookie name "'+o+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');m(h)||(h=-1),y=y?";domain="+y:"",p=p?";path="+p:"",_=_?";secure":"",h=0>h?"":h==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(Te()+1e3*h).toUTCString(),this.a.cookie=o+"="+c+y+p+h+_},e.get=function(o,c){for(var h=o+"=",p=(this.a.cookie||"").split(";"),y=0,_;y<p.length;y++){if(_=O(p[y]),_.lastIndexOf(h,0)==0)return _.substr(h.length);if(_==o)return""}return c},e.ja=function(){return B_(this).keys},e.la=function(){return B_(this).values},e.clear=function(){for(var o=B_(this).keys,c=o.length-1;0<=c;c--){var h=o[c];this.get(h),this.set(h,"",0,void 0,void 0)}};function B_(o){o=(o.a.cookie||"").split(";");for(var c=[],h=[],p,y,_=0;_<o.length;_++)y=O(o[_]),p=y.indexOf("="),p==-1?(c.push(""),h.push(y)):(c.push(y.substring(0,p)),h.push(y.substring(p+1)));return{keys:c,values:h}}var Xf=new WI;function qI(){}function yc(o,c,h,p){this.h=typeof o<"u"&&o!==null?o:-1,this.g=c||null,this.a=h||null,this.j=!!p}l(yc,qI),yc.prototype.set=function(o,c){Xf.set(o,c,this.h,this.g,this.a,this.j)},yc.prototype.get=function(o){return Xf.get(o)||null},yc.prototype.ra=function(o){var c=this.g,h=this.a;Xf.get(o),Xf.set(o,"",0,c,h)};function U_(o,c){this.g=o,this.a=c||null}function KI(o){return{email:o.g,credential:o.a&&o.a.toJSON()}}function GI(o){if(o&&o.email){var c=o.credential&&bt.auth.AuthCredential.fromJSON(o.credential);return new U_(o.email,c)}return null}function YI(o){this.a=o||null}function QI(o){for(var c=[],h=0,p=0;p<o.length;p++){var y=o.charCodeAt(p);255<y&&(c[h++]=y&255,y>>=8),c[h++]=y}return c}function nV(o){return Wi(o,function(c){return c=c.toString(16),1<c.length?c:"0"+c}).join("")}function Jf(o){for(this.i=o,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(_c*(this.j+1)),o=0;o<this.g;o++)this.a[o]=[this.i[4*o],this.i[4*o+1],this.i[4*o+2],this.i[4*o+3]];var c=Array(4);for(o=this.g;o<_c*(this.j+1);o++){if(c[0]=this.a[o-1][0],c[1]=this.a[o-1][1],c[2]=this.a[o-1][2],c[3]=this.a[o-1][3],o%this.g==0){var h=c,p=h[0];h[0]=h[1],h[1]=h[2],h[2]=h[3],h[3]=p,eA(c),c[0]^=tp[o/this.g][0],c[1]^=tp[o/this.g][1],c[2]^=tp[o/this.g][2],c[3]^=tp[o/this.g][3]}else 6<this.g&&o%this.g==4&&eA(c);this.a[o]=Array(4),this.a[o][0]=this.a[o-this.g][0]^c[0],this.a[o][1]=this.a[o-this.g][1]^c[1],this.a[o][2]=this.a[o-this.g][2]^c[2],this.a[o][3]=this.a[o-this.g][3]^c[3]}}Jf.prototype.A=16;var _c=Jf.prototype.A/4;function XI(o,c){for(var h,p=0;p<_c;p++)for(var y=0;4>y;y++)h=4*y+p,h=c[h],o.h[p][y]=h}function JI(o){for(var c=[],h=0;h<_c;h++)for(var p=0;4>p;p++)c[4*p+h]=o.h[h][p];return c}function vc(o,c){for(var h=0;4>h;h++)for(var p=0;4>p;p++)o.h[h][p]^=o.a[4*c+p][h]}function Zf(o,c){for(var h=0;4>h;h++)for(var p=0;4>p;p++)o.h[h][p]=c[o.h[h][p]]}function ZI(o){for(var c=1;4>c;c++)for(var h=0;4>h;h++)o.s[c][h]=o.h[c][h];for(c=1;4>c;c++)for(h=0;4>h;h++)o.h[c][h]=o.s[c][(h+c)%_c]}function tA(o){for(var c=1;4>c;c++)for(var h=0;4>h;h++)o.s[c][(h+c)%_c]=o.h[c][h];for(c=1;4>c;c++)for(h=0;4>h;h++)o.h[c][h]=o.s[c][h]}function eA(o){o[0]=bc[o[0]],o[1]=bc[o[1]],o[2]=bc[o[2]],o[3]=bc[o[3]]}var bc=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],nA=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],tp=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],ep=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],np=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],ip=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],rp=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],sp=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],op=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function iA(o,c){o=new Jf(sA(o)),c=QI(c);for(var h=c.splice(0,16),p="",y;h.length;){y=16-h.length;for(var _=0;_<y;_++)h.push(0);for(y=o,XI(y,h),vc(y,0),h=1;h<y.j;++h){Zf(y,bc),ZI(y),_=y.h;for(var I=y.s[0],x=0;4>x;x++)I[0]=_[0][x],I[1]=_[1][x],I[2]=_[2][x],I[3]=_[3][x],_[0][x]=ep[I[0]]^np[I[1]]^I[2]^I[3],_[1][x]=I[0]^ep[I[1]]^np[I[2]]^I[3],_[2][x]=I[0]^I[1]^ep[I[2]]^np[I[3]],_[3][x]=np[I[0]]^I[1]^I[2]^ep[I[3]];vc(y,h)}Zf(y,bc),ZI(y),vc(y,y.j),p+=nV(JI(y)),h=c.splice(0,16)}return p}function rA(o,c){o=new Jf(sA(o));for(var h=[],p=0;p<c.length;p+=2)h.push(parseInt(c.substring(p,p+2),16));var y=h.splice(0,16);for(c="";y.length;){for(p=o,XI(p,y),vc(p,p.j),y=1;y<p.j;++y){tA(p),Zf(p,nA),vc(p,p.j-y);for(var _=p.h,I=p.s[0],x=0;4>x;x++)I[0]=_[0][x],I[1]=_[1][x],I[2]=_[2][x],I[3]=_[3][x],_[0][x]=op[I[0]]^rp[I[1]]^sp[I[2]]^ip[I[3]],_[1][x]=ip[I[0]]^op[I[1]]^rp[I[2]]^sp[I[3]],_[2][x]=sp[I[0]]^ip[I[1]]^op[I[2]]^rp[I[3]],_[3][x]=rp[I[0]]^sp[I[1]]^ip[I[2]]^op[I[3]]}if(tA(p),Zf(p,nA),vc(p,0),p=JI(p),8192>=p.length)p=String.fromCharCode.apply(null,p);else{for(y="",_=0;_<p.length;_+=8192)y+=String.fromCharCode.apply(null,P(p,_,_+8192));p=y}c+=p,y=h.splice(0,16)}return c.replace(/(\x00)+$/,"")}function sA(o){o=QI(o.substring(0,32));for(var c=32-o.length,h=0;h<c;h++)o.push(0);return o}function oA(o){var c=[];return $_(new iV,o,c),c.join("")}function iV(){}function $_(o,c,h){if(c==null)h.push("null");else{if(typeof c=="object"){if(k(c)){var p=c;c=p.length,h.push("[");for(var y="",_=0;_<c;_++)h.push(y),$_(o,p[_],h),y=",";h.push("]");return}if(c instanceof String||c instanceof Number||c instanceof Boolean)c=c.valueOf();else{h.push("{"),y="";for(p in c)Object.prototype.hasOwnProperty.call(c,p)&&(_=c[p],typeof _!="function"&&(h.push(y),cA(p,h),h.push(":"),$_(o,_,h),y=","));h.push("}");return}}switch(typeof c){case"string":cA(c,h);break;case"number":h.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":h.push(String(c));break;case"function":h.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}var aA={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},rV=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cA(o,c){c.push('"',o.replace(rV,function(h){var p=aA[h];return p||(p="\\u"+(h.charCodeAt(0)|65536).toString(16).substr(1),aA[h]=p),p}),'"')}function _u(o){this.a=o}_u.prototype.set=function(o,c){m(c)?this.a.set(o,oA(c)):this.a.ra(o)},_u.prototype.get=function(o){try{var c=this.a.get(o)}catch{return}if(c!==null)try{return JSON.parse(c)}catch{throw"Storage: Invalid value was encountered"}};function ap(){}tt(ap,qI),ap.prototype.clear=function(){var o=Tf(this.ha(!0)),c=this;Ce(o,function(h){c.ra(h)})};function cp(o){this.a=o}tt(cp,ap);function lp(o){if(!o.a)return!1;try{return o.a.setItem("__sak","1"),o.a.removeItem("__sak"),!0}catch{return!1}}e=cp.prototype,e.set=function(o,c){try{this.a.setItem(o,c)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},e.get=function(o){if(o=this.a.getItem(o),!v(o)&&o!==null)throw"Storage mechanism: Invalid value was encountered";return o},e.ra=function(o){this.a.removeItem(o)},e.ha=function(o){var c=0,h=this.a,p=new Re;return p.next=function(){if(c>=h.length)throw ce;var y=h.key(c++);if(o)return y;if(y=h.getItem(y),!v(y))throw"Storage mechanism: Invalid value was encountered";return y},p},e.clear=function(){this.a.clear()},e.key=function(o){return this.a.key(o)};function j_(){var o=null;try{o=window.localStorage||null}catch{}this.a=o}tt(j_,cp);function H_(){var o=null;try{o=window.sessionStorage||null}catch{}this.a=o}tt(H_,cp);function wc(o,c){this.g=o,this.a=c+"::"}tt(wc,ap),wc.prototype.set=function(o,c){this.g.set(this.a+o,c)},wc.prototype.get=function(o){return this.g.get(this.a+o)},wc.prototype.ra=function(o){this.g.ra(this.a+o)},wc.prototype.ha=function(o){var c=this.g.ha(!0),h=this,p=new Re;return p.next=function(){for(var y=c.next();y.substr(0,h.a.length)!=h.a;)y=c.next();return o?y.substr(h.a.length):h.g.get(y)},p},lp(new j_);var lA,uA=new H_;lA=lp(uA)?new wc(uA,"firebaseui"):null;var z_=new _u(lA),W_={name:"pendingEmailCredential",storage:z_},la={name:"redirectStatus",storage:z_},vu={name:"redirectUrl",storage:z_},Ec={name:"emailForSignIn",storage:new _u(new yc(3600,"/"))},bu={name:"pendingEncryptedCredential",storage:new _u(new yc(3600,"/"))};function Ic(o,c){return o.storage.get(c?o.name+":"+c:o.name)}function wi(o,c){o.storage.a.ra(c?o.name+":"+c:o.name)}function Ac(o,c,h){o.storage.set(h?o.name+":"+h:o.name,c)}function hA(o){return Ic(vu,o)||null}function wr(o){return o=Ic(W_,o)||null,GI(o)}function Er(o){wi(W_,o)}function dA(o,c){Ac(W_,KI(o),c)}function q_(o){return(o=Ic(la,o)||null)&&typeof o.tenantId<"u"?new YI(o.tenantId):null}function sV(o,c){Ac(la,{tenantId:o.a},c)}function oV(o,c){c=Ic(Ec,c);var h=null;if(c)try{var p=rA(o,c),y=JSON.parse(p);h=y&&y.email||null}catch{}return h}function aV(o,c){c=Ic(bu,c);var h=null;if(c)try{var p=rA(o,c);h=JSON.parse(p)}catch{}return GI(h||null)}function cV(o,c,h){Ac(bu,iA(o,JSON.stringify(KI(c))),h)}function K_(){this.W={}}function gn(o,c,h){if(c.toLowerCase()in o.W)throw Error("Configuration "+c+" has already been defined.");o.W[c.toLowerCase()]=h}function G_(o,c,h){if(!(c.toLowerCase()in o.W))throw Error("Configuration "+c+" is not defined.");o.W[c.toLowerCase()]=h}K_.prototype.get=function(o){if(!(o.toLowerCase()in this.W))throw Error("Configuration "+o+" is not defined.");return this.W[o.toLowerCase()]};function Y_(o,c){if(o=o.get(c),!o)throw Error("Configuration "+c+" is required.");return o}function Q_(){this.g=void 0,this.a={}}e=Q_.prototype,e.set=function(o,c){fA(this,o,c,!1)},e.add=function(o,c){fA(this,o,c,!0)};function fA(o,c,h,p){for(var y=0;y<c.length;y++){var _=c.charAt(y);o.a[_]||(o.a[_]=new Q_),o=o.a[_]}if(p&&o.g!==void 0)throw Error('The collection already contains the key "'+c+'"');o.g=h}e.get=function(o){t:{for(var c=this,h=0;h<o.length;h++)if(c=c.a[o.charAt(h)],!c){o=void 0;break t}o=c}return o?o.g:void 0},e.la=function(){var o=[];return pA(this,o),o};function pA(o,c){o.g!==void 0&&c.push(o.g);for(var h in o.a)pA(o.a[h],c)}e.ja=function(){var o=[];return gA(this,"",o),o};function gA(o,c,h){o.g!==void 0&&h.push(c);for(var p in o.a)gA(o.a[p],c+p,h)}e.clear=function(){this.a={},this.g=void 0};function mA(o){for(this.a=o,this.g=new Q_,o=0;o<this.a.length;o++){var c=this.g.get("+"+this.a[o].b);c?c.push(this.a[o]):this.g.add("+"+this.a[o].b,[this.a[o]])}}function up(o,c){o=o.g;var h={},p=0;for(o.g!==void 0&&(h[p]=o.g);p<c.length;p++){var y=c.charAt(p);if(!(y in o.a))break;o=o.a[y],o.g!==void 0&&(h[p]=o.g)}for(var _ in h)if(h.hasOwnProperty(_))return h[_];return[]}function ua(o){for(var c=0;c<gi.length;c++)if(gi[c].c===o)return gi[c];return null}function yA(o){o=o.toUpperCase();for(var c=[],h=0;h<gi.length;h++)gi[h].f===o&&c.push(gi[h]);return c}function _A(o){if(0<o.length&&o.charAt(0)=="+"){o=o.substring(1);for(var c=[],h=0;h<gi.length;h++)gi[h].b==o&&c.push(gi[h]);o=c}else o=yA(o);return o}function vA(o){o.sort(function(c,h){return c.name.localeCompare(h.name,"en")})}var gi=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];vA(gi);var wu=new mA(gi);function bA(o,c){this.a=o,this.Aa=c}function wA(o){o=O(o);var c=up(wu,o);return 0<c.length?new bA(c[0].b=="1"?"1-US-0":c[0].c,O(o.substr(c[0].b.length+1))):null}function X_(o){var c=ua(o.a);if(!c)throw Error("Country ID "+o.a+" not found.");return"+"+c.b+o.Aa}function EA(o,c){for(var h=0;h<o.length;h++)if(!B(IA,o[h])&&(Tc!==null&&o[h]in Tc||B(c,o[h])))return o[h];return null}var IA=["emailLink","password","phone"],Tc={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function lV(){this.a=new K_,gn(this.a,"autoUpgradeAnonymousUsers"),gn(this.a,"callbacks"),gn(this.a,"credentialHelper",fp),gn(this.a,"immediateFederatedRedirect",!1),gn(this.a,"popupMode",!1),gn(this.a,"privacyPolicyUrl"),gn(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),gn(this.a,"queryParameterForWidgetMode","mode"),gn(this.a,"signInFlow"),gn(this.a,"signInOptions"),gn(this.a,"signInSuccessUrl"),gn(this.a,"siteName"),gn(this.a,"tosUrl"),gn(this.a,"widgetUrl"),gn(this.a,"adminRestrictedOperation")}function hp(o){var c=!!o.a.get("autoUpgradeAnonymousUsers");return c&&!MA(o)&&Ni('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),c}function dp(o){o=o.a.get("signInOptions")||[];for(var c=[],h=0;h<o.length;h++){var p=o[h];p=M(p)?p:{provider:p},p.provider&&c.push(p)}return c}function Li(o,c){o=dp(o);for(var h=0;h<o.length;h++)if(o[h].provider===c)return o[h];return null}function Cc(o){return dp(o).map(function(c){return c.provider})}function Eu(o,c){o=AA(o);for(var h=0;h<o.length;h++)if(o[h].providerId===c)return o[h];return null}function AA(o){return dp(o).map(function(c){if(Tc[c.provider]||B(vV,c.provider)){c={providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Qs(kf(c.iconUrl)).toString():null};for(var h in c)c[h]===null&&delete c[h];return c}return{providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Qs(kf(c.iconUrl)).toString():null,Ob:c.loginHintKey||null}})}function TA(o){var c=Li(o,bt.auth.GoogleAuthProvider.PROVIDER_ID),h;if(h=c&&c.clientId){t:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(p in o=o.a.get("credentialHelper"),nv)if(nv[p]===o){var p=nv[p];break t}}p=fp}h=p===ev}return h&&c.clientId||null}function CA(o){return o=Li(o,bt.auth.EmailAuthProvider.PROVIDER_ID),!!(o&&o.disableSignUp&&o.disableSignUp.status)}function ha(o){return o=o.a.get("adminRestrictedOperation")||null,!(!o||!o.status)}function uV(o){var c=null;if(dp(o).forEach(function(p){p.provider==bt.auth.PhoneAuthProvider.PROVIDER_ID&&M(p.recaptchaParameters)&&!Array.isArray(p.recaptchaParameters)&&(c=xt(p.recaptchaParameters))}),c){var h=[];bV.forEach(function(p){typeof c[p]<"u"&&(h.push(p),delete c[p])}),h.length&&io('The following provided "recaptchaParameters" keys are not allowed: '+h.join(", "))}return c}function hV(o){return(o=o.a.get("adminRestrictedOperation"))&&o.adminEmail?o.adminEmail:null}function dV(o){if(o=o.a.get("adminRestrictedOperation")||null){var c=o.helpLink||null;if(c&&typeof c=="string")return function(){mc(c)}}return null}function fV(o){return(o=Li(o,bt.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp&&o.disableSignUp.adminEmail||null}function pV(o){if((o=Li(o,bt.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp){var c=o.disableSignUp.helpLink||null;if(c&&typeof c=="string")return function(){mc(c)}}return null}function SA(o,c){return o=(o=Li(o,c))&&o.scopes,Array.isArray(o)?o:[]}function xA(o,c){return o=(o=Li(o,c))&&o.customParameters,M(o)?(o=xt(o),c===bt.auth.GoogleAuthProvider.PROVIDER_ID&&delete o.login_hint,c===bt.auth.GithubAuthProvider.PROVIDER_ID&&delete o.login,o):null}function gV(o){o=Li(o,bt.auth.PhoneAuthProvider.PROVIDER_ID);var c=null;return o&&typeof o.loginHint=="string"&&(c=wA(o.loginHint)),o&&o.defaultNationalNumber||c&&c.Aa||null}function mV(o){var c=(o=Li(o,bt.auth.PhoneAuthProvider.PROVIDER_ID))&&o.defaultCountry||null;c=c&&yA(c);var h=null;return o&&typeof o.loginHint=="string"&&(h=wA(o.loginHint)),c&&c[0]||h&&ua(h.a)||null}function J_(o){if(o=Li(o,bt.auth.PhoneAuthProvider.PROVIDER_ID),!o)return null;var c=o.whitelistedCountries,h=o.blacklistedCountries;if(typeof c<"u"&&(!Array.isArray(c)||c.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof h<"u"&&!Array.isArray(h))throw Error("BlacklistedCountries must be an array.");if(c&&h)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!c&&!h)return gi;if(o=[],c){h={};for(var p=0;p<c.length;p++)for(var y=_A(c[p]),_=0;_<y.length;_++)h[y[_].c]=y[_];for(var I in h)h.hasOwnProperty(I)&&o.push(h[I])}else{for(I={},c=0;c<h.length;c++)for(y=_A(h[c]),p=0;p<y.length;p++)I[y[p].c]=y[p];for(y=0;y<gi.length;y++)I!==null&&gi[y].c in I||o.push(gi[y])}return o}function kA(o){return Y_(o.a,"queryParameterForWidgetMode")}function mn(o){var c=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,c&&!o&&io("Privacy Policy URL is missing, the link will not be displayed."),c&&o){if(typeof c=="function")return c;if(typeof c=="string")return function(){mc(c)}}return null}function yn(o){var c=o.a.get("tosUrl")||null,h=o.a.get("privacyPolicyUrl")||null;if(h&&!c&&io("Term of Service URL is missing, the link will not be displayed."),c&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){mc(h)}}return null}function PA(o){return(o=Li(o,bt.auth.EmailAuthProvider.PROVIDER_ID))&&typeof o.requireDisplayName<"u"?!!o.requireDisplayName:!0}function Sc(o){return o=Li(o,bt.auth.EmailAuthProvider.PROVIDER_ID),!(!o||o.signInMethod!==bt.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function yV(o){return o=Li(o,bt.auth.EmailAuthProvider.PROVIDER_ID),!(!o||!o.forceSameDevice)}function _V(o){if(Sc(o)){var c={url:ls(),handleCodeInApp:!0};(o=Li(o,bt.auth.EmailAuthProvider.PROVIDER_ID))&&typeof o.emailLinkSignIn=="function"&&re(c,o.emailLinkSignIn()),o=c.url;var h=ls();h instanceof qs||(h=e_(h)),o instanceof qs||(o=e_(o));var p=h;h=new qs(p);var y=!!o.j;y?Jy(h,o.j):y=!!o.A,y?h.A=o.A:y=!!o.h,y?h.h=o.h:y=o.C!=null;var _=o.g;if(y)Zy(h,o.C);else if(y=!!o.g){if(_.charAt(0)!="/"&&(p.h&&!p.g?_="/"+_:(p=h.g.lastIndexOf("/"),p!=-1&&(_=h.g.substr(0,p+1)+_))),_==".."||_==".")_="";else if(_.indexOf("./")!=-1||_.indexOf("/.")!=-1){p=_.lastIndexOf("/",0)==0,_=_.split("/");for(var I=[],x=0;x<_.length;){var F=_[x++];F=="."?p&&x==_.length&&I.push(""):F==".."?((1<I.length||I.length==1&&I[0]!="")&&I.pop(),p&&x==_.length&&I.push("")):(I.push(F),p=!0)}_=I.join("/")}}return y?h.g=_:y=o.a.toString()!=="",y?t_(h,RE(o.a)):y=!!o.s,y&&(h.s=o.s),c.url=h.toString(),c}return null}function Z_(o){var c=!!o.a.get("immediateFederatedRedirect"),h=Cc(o);return o=RA(o),c&&h.length==1&&!B(IA,h[0])&&o==pp}function RA(o){o=o.a.get("signInFlow");for(var c in iv)if(iv[c]==o)return iv[c];return pp}function tv(o){return Iu(o).signInSuccess||null}function DA(o){return Iu(o).signInSuccessWithAuthResult||null}function MA(o){return Iu(o).signInFailure||null}function Iu(o){return o.a.get("callbacks")||{}}var ev="googleyolo",fp="none",nv={nc:ev,NONE:fp},pp="redirect",iv={qc:"popup",rc:pp},rv={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},vV=["anonymous"],bV=["sitekey","tabindex","callback","expired-callback"],Au,xc,sv,OA,le={};function ft(o,c,h,p){le[o].apply(null,Array.prototype.slice.call(arguments,1))}function NA(o){return o.classList?o.classList:(o=o.className,v(o)&&o.match(/\S+/g)||[])}function Tu(o,c){return o.classList?o.classList.contains(c):B(NA(o),c)}function Ir(o,c){o.classList?o.classList.add(c):Tu(o,c)||(o.className+=0<o.className.length?" "+c:c)}function Ar(o,c){o.classList?o.classList.remove(c):Tu(o,c)&&(o.className=ei(NA(o),function(h){return h!=c}).join(" "))}function Fn(o){var c=o.type;switch(v(c)&&c.toLowerCase()){case"checkbox":case"radio":return o.checked?o.value:null;case"select-one":return c=o.selectedIndex,0<=c?o.options[c].value:null;case"select-multiple":c=[];for(var h,p=0;h=o.options[p];p++)h.selected&&c.push(h.value);return c.length?c:null;default:return o.value!=null?o.value:null}}function LA(o,c){var h=o.type;switch(v(h)&&h.toLowerCase()){case"checkbox":case"radio":o.checked=c;break;case"select-one":if(o.selectedIndex=-1,v(c)){for(var p=0;h=o.options[p];p++)if(h.value==c){h.selected=!0;break}}break;case"select-multiple":for(v(c)&&(c=[c]),p=0;h=o.options[p];p++)if(h.selected=!1,c)for(var y,_=0;y=c[_];_++)h.value==y&&(h.selected=!0);break;default:o.value=c??""}}function wV(o){if(o.altKey&&!o.ctrlKey||o.metaKey||112<=o.keyCode&&123>=o.keyCode)return!1;if(Cu(o.keyCode))return!0;switch(o.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!nr;default:return 166>o.keyCode||183<o.keyCode}}function FA(o,c,h,p,y,_){if(di&&!ta("525"))return!0;if(Ys&&y)return Cu(o);if(y&&!p)return!1;if(!nr){typeof c=="number"&&(c=ov(c));var I=c==17||c==18||Ys&&c==91;if((!h||Ys)&&I||Ys&&c==16&&(p||_))return!1}if((di||Gs)&&p&&h)switch(o){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(nn&&p&&c==o)return!1;switch(o){case 13:return nr?_||y?!1:!(h&&p):!0;case 27:return!(di||Gs||nr)}return nr&&(p||y||_)?!1:Cu(o)}function Cu(o){if(48<=o&&57>=o||96<=o&&106>=o||65<=o&&90>=o||(di||Gs)&&o==0)return!0;switch(o){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return nr;default:return!1}}function ov(o){if(nr)o=EV(o);else if(Ys&&di)switch(o){case 93:o=91}return o}function EV(o){switch(o){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return o}}function kc(o){En.call(this),this.a=o,ir(o,"keydown",this.g,!1,this),ir(o,"click",this.h,!1,this)}tt(kc,En),kc.prototype.g=function(o){(o.keyCode==13||di&&o.keyCode==3)&&VA(this,o)},kc.prototype.h=function(o){VA(this,o)};function VA(o,c){var h=new UA(c);if(eo(o,h)){h=new BA(c);try{eo(o,h)}finally{c.stopPropagation()}}}kc.prototype.o=function(){kc.K.o.call(this),sa(this.a,"keydown",this.g,!1,this),sa(this.a,"click",this.h,!1,this),delete this.a};function BA(o){pi.call(this,o.a),this.type="action"}tt(BA,pi);function UA(o){pi.call(this,o.a),this.type="beforeaction"}tt(UA,pi);function Pc(o){En.call(this),this.a=o,o=nn?"focusout":"blur",this.g=ir(this.a,nn?"focusin":"focus",this,!nn),this.h=ir(this.a,o,this,!nn)}tt(Pc,En),Pc.prototype.handleEvent=function(o){var c=new pi(o.a);c.type=o.type=="focusin"||o.type=="focus"?"focusin":"focusout",eo(this,c)},Pc.prototype.o=function(){Pc.K.o.call(this),to(this.g),to(this.h),delete this.a};function gp(o,c){En.call(this),this.g=o||1,this.a=c||g,this.h=J(this.gc,this),this.j=Te()}tt(gp,En),e=gp.prototype,e.Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var o=Te()-this.j;0<o&&o<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-o):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),eo(this,"tick"),this.Ka&&(mp(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=Te())};function mp(o){o.Ka=!1,o.aa&&(o.a.clearTimeout(o.aa),o.aa=null)}e.o=function(){gp.K.o.call(this),mp(this),delete this.a};function IV(o,c){if(D(o))c&&(o=J(o,c));else if(o&&typeof o.handleEvent=="function")o=J(o.handleEvent,o);else throw Error("Invalid listener argument");return g.setTimeout(o,0)}function Rc(o){ra.call(this),this.g=o,this.a={}}tt(Rc,ra);var $A=[];function Dc(o,c,h,p){k(h)||(h&&($A[0]=h.toString()),h=$A);for(var y=0;y<h.length;y++){var _=ir(c,h[y],p||o.handleEvent,!1,o.g||o);if(!_)break;o.a[_.key]=_}}function jA(o){It(o.a,function(c,h){this.a.hasOwnProperty(h)&&to(c)},o),o.a={}}Rc.prototype.o=function(){Rc.K.o.call(this),jA(this)},Rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Su(o){En.call(this),this.a=null,this.g=o,o=nn||Gs||di&&!ta("531")&&o.tagName=="TEXTAREA",this.h=new Rc(this),Dc(this.h,this.g,o?["keydown","paste","cut","drop","input"]:"input",this)}tt(Su,En),Su.prototype.handleEvent=function(o){if(o.type=="input")nn&&ta(10)&&o.keyCode==0&&o.j==0||(av(this),eo(this,HA(o)));else if(o.type!="keydown"||wV(o)){var c=o.type=="keydown"?this.g.value:null;nn&&o.keyCode==229&&(c=null);var h=HA(o);av(this),this.a=IV(function(){this.a=null,this.g.value!=c&&eo(this,h)},this)}};function av(o){o.a!=null&&(g.clearTimeout(o.a),o.a=null)}function HA(o){return o=new pi(o.a),o.type="input",o}Su.prototype.o=function(){Su.K.o.call(this),this.h.m(),av(this),delete this.g};function xu(o,c){En.call(this),o&&(this.Oa&&GA(this),this.qa=o,this.Na=ir(this.qa,"keypress",this,c),this.Ya=ir(this.qa,"keydown",this.Jb,c,this),this.Oa=ir(this.qa,"keyup",this.Kb,c,this))}tt(xu,En),e=xu.prototype,e.qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var zA={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},WA={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},qA=!di||ta("525"),KA=Ys&&nr;e=xu.prototype,e.Jb=function(o){(di||Gs)&&(this.R==17&&!o.ctrlKey||this.R==18&&!o.altKey||Ys&&this.R==91&&!o.metaKey)&&(this.X=this.R=-1),this.R==-1&&(o.ctrlKey&&o.keyCode!=17?this.R=17:o.altKey&&o.keyCode!=18?this.R=18:o.metaKey&&o.keyCode!=91&&(this.R=91)),qA&&!FA(o.keyCode,this.R,o.shiftKey,o.ctrlKey,o.altKey,o.metaKey)?this.handleEvent(o):(this.X=ov(o.keyCode),KA&&(this.Ua=o.altKey))},e.Kb=function(o){this.X=this.R=-1,this.Ua=o.altKey},e.handleEvent=function(o){var c=o.a,h=c.altKey;if(nn&&o.type=="keypress")var p=this.X,y=p!=13&&p!=27?c.keyCode:0;else(di||Gs)&&o.type=="keypress"?(p=this.X,y=0<=c.charCode&&63232>c.charCode&&Cu(p)?c.charCode:0):FE&&!di?(p=this.X,y=Cu(p)?c.keyCode:0):(o.type=="keypress"?(KA&&(h=this.Ua),c.keyCode==c.charCode?32>c.keyCode?(p=c.keyCode,y=0):(p=this.X,y=c.charCode):(p=c.keyCode||this.X,y=c.charCode||0)):(p=c.keyCode||this.X,y=c.charCode||0),Ys&&y==63&&p==224&&(p=191));var _=p=ov(p);p?63232<=p&&p in zA?_=zA[p]:p==25&&o.shiftKey&&(_=9):c.keyIdentifier&&c.keyIdentifier in WA&&(_=WA[c.keyIdentifier]),nr&&qA&&o.type=="keypress"&&!FA(_,this.R,o.shiftKey,o.ctrlKey,h,o.metaKey)||(o=_==this.R,this.R=_,c=new YA(_,y,o,c),c.altKey=h,eo(this,c))},e.N=function(){return this.qa};function GA(o){o.Na&&(to(o.Na),to(o.Ya),to(o.Oa),o.Na=null,o.Ya=null,o.Oa=null),o.qa=null,o.R=-1,o.X=-1}e.o=function(){xu.K.o.call(this),GA(this)};function YA(o,c,h,p){pi.call(this,p),this.type="key",this.keyCode=o,this.j=c,this.repeat=h}tt(YA,pi);function Mc(o,c,h,p){this.top=o,this.right=c,this.bottom=h,this.left=p}Mc.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Mc.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Mc.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Mc.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function yp(o,c){var h=su(o);return h.defaultView&&h.defaultView.getComputedStyle&&(o=h.defaultView.getComputedStyle(o,null))&&(o[c]||o.getPropertyValue(c))||""}function QA(o){try{var c=o.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return nn&&o.ownerDocument.body&&(o=o.ownerDocument,c.left-=o.documentElement.clientLeft+o.body.clientLeft,c.top-=o.documentElement.clientTop+o.body.clientTop),c}function AV(o,c){c=c||Df(document);var h=c||Df(document),p=XA(o),y=XA(h);if(!nn||9<=Number(iu)){I=yp(h,"borderLeftWidth");var _=yp(h,"borderRightWidth");x=yp(h,"borderTopWidth"),F=yp(h,"borderBottomWidth"),_=new Mc(parseFloat(x),parseFloat(_),parseFloat(F),parseFloat(I))}else{var I=_p(h,"borderLeft");_=_p(h,"borderRight");var x=_p(h,"borderTop"),F=_p(h,"borderBottom");_=new Mc(x,_,F,I)}h==Df(document)?(I=p.a-h.scrollLeft,p=p.g-h.scrollTop,!nn||10<=Number(iu)||(I+=_.left,p+=_.top)):(I=p.a-y.a-_.left,p=p.g-y.g-_.top),y=o.offsetWidth,_=o.offsetHeight,x=di&&!y&&!_,m(y)&&!x||!o.getBoundingClientRect?o=new a_(y,_):(o=QA(o),o=new a_(o.right-o.left,o.bottom-o.top)),y=h.clientHeight-o.height,_=h.scrollLeft,x=h.scrollTop,_+=Math.min(I,Math.max(I-(h.clientWidth-o.width),0)),x+=Math.min(p,Math.max(p-y,0)),h=new Js(_,x),c.scrollLeft=h.a,c.scrollTop=h.g}function XA(o){var c=su(o),h=new Js(0,0),p=c?su(c):document;return p=!nn||9<=Number(iu)||Rf(p).a.compatMode=="CSS1Compat"?p.documentElement:p.body,o==p||(o=QA(o),p=Rf(c).a,c=Df(p),p=p.parentWindow||p.defaultView,c=nn&&ta("10")&&p.pageYOffset!=c.scrollTop?new Js(c.scrollLeft,c.scrollTop):new Js(p.pageXOffset||c.scrollLeft,p.pageYOffset||c.scrollTop),h.a=o.left+c.a,h.g=o.top+c.g),h}var JA={thin:2,medium:4,thick:6};function _p(o,c){if((o.currentStyle?o.currentStyle[c+"Style"]:null)=="none")return 0;var h=o.currentStyle?o.currentStyle[c+"Width"]:null;if(h in JA)o=JA[h];else if(/^\d+px?$/.test(h))o=parseInt(h,10);else{c=o.style.left;var p=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left,o.style.left=h,h=o.style.pixelLeft,o.style.left=c,o.runtimeStyle.left=p,o=+h}return o}function cv(){}A(cv),cv.prototype.a=0;function da(o){En.call(this),this.s=o||Rf(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}tt(da,En),e=da.prototype,e.Lb=cv.Xa(),e.N=function(){return this.g};function Jt(o,c){return o.g?l_(c,o.g||o.s.a):null}function ku(o){return o.L||(o.L=new Rc(o)),o.L}e.Za=function(o){if(this.Y&&this.Y!=o)throw Error("Method not supported");da.K.Za.call(this,o)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(o){if(this.na)throw Error("Component already rendered");this.g||this.kb(),o?o.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,lv(this,function(o){!o.na&&o.N()&&o.v()})},e.ya=function(){lv(this,function(o){o.na&&o.ya()}),this.L&&jA(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),lv(this,function(o){o.m()}),this.g&&na(this.g),this.Y=this.g=this.oa=this.Ea=null,da.K.o.call(this)};function lv(o,c){o.Ea&&Ce(o.Ea,c,void 0)}e.removeChild=function(o,c){if(o){var h=v(o)?o:o.cb||(o.cb=":"+(o.Lb.a++).toString(36));if(this.oa&&h?(o=this.oa,o=(o!==null&&h in o?o[h]:void 0)||null):o=null,h&&o){var p=this.oa;if(h in p&&delete p[h],ut(this.Ea,o),c&&(o.ya(),o.g&&na(o.g)),c=o,c==null)throw Error("Unable to set parent component");c.Y=null,da.K.Za.call(c,null)}}if(!o)throw Error("Child is not in parent component");return o};function on(o,c){var h=XE(o,"firebaseui-textfield");c?(Ar(o,"firebaseui-input-invalid"),Ir(o,"firebaseui-input"),h&&Ar(h,"firebaseui-textfield-invalid")):(Ar(o,"firebaseui-input"),Ir(o,"firebaseui-input-invalid"),h&&Ir(h,"firebaseui-textfield-invalid"))}function Oc(o,c,h){c=new Su(c),cu(o,pt(lu,c)),Dc(ku(o),c,"input",h)}function Pu(o,c,h){c=new xu(c),cu(o,pt(lu,c)),Dc(ku(o),c,"key",function(p){p.keyCode==13&&(p.stopPropagation(),p.preventDefault(),h(p))})}function TV(o,c,h){c=new Pc(c),cu(o,pt(lu,c)),Dc(ku(o),c,"focusin",h)}function CV(o,c,h){c=new Pc(c),cu(o,pt(lu,c)),Dc(ku(o),c,"focusout",h)}function Ye(o,c,h){c=new kc(c),cu(o,pt(lu,c)),Dc(ku(o),c,"action",function(p){p.stopPropagation(),p.preventDefault(),h(p)})}function Fi(o){Ir(o,"firebaseui-hidden")}function Vn(o,c){c&&u_(o,c),Ar(o,"firebaseui-hidden")}function Nc(o){return!Tu(o,"firebaseui-hidden")&&o.style.display!="none"}function Lc(o){o=o||{};var c=o.email,h=o.disabled,p='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return p=o.wc?p+"Enter new email address":p+"Email",p+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+fi(c??"")+'"'+(h?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ht(p)}function Ei(o){o=o||{},o=o.label;var c='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return c=o?c+kt(o):c+"Next",ht(c+"</button>")}function uv(){var o=""+Ei({label:rn("Sign In")});return ht(o)}function ZA(){var o=""+Ei({label:rn("Save")});return ht(o)}function rr(){var o=""+Ei({label:rn("Continue")});return ht(o)}function tT(o){o=o||{},o=o.label;var c='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return c=o?c+kt(o):c+"Choose password",ht(c+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function eT(){var o={},c='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return c=o.current?c+"Current password":c+"Password",ht(c+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function nT(){return ht('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Vi(o){o=o||{},o=o.label;var c='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return c=o?c+kt(o):c+"Cancel",ht(c+"</button>")}function qn(o){var c="";return o.F&&o.D&&(c+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ht(c)}function Fc(o){var c="";return o.F&&o.D&&(c+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ht(c)}function iT(o){return o='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+kt(o.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ht(o)}iT.a="firebaseui.auth.soy2.element.infoBar";function rT(o){var c=o.content;return o=o.Ab,ht('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(o?" "+fi(o):"")+'">'+kt(c)+"</dialog>")}function sT(o){var c=o.message;return ht(rT({content:tI('<div class="firebaseui-dialog-icon-wrapper"><div class="'+fi(o.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+kt(c)+"</div>")}))}sT.a="firebaseui.auth.soy2.element.progressDialog";function oT(o){var c='<div class="firebaseui-list-box-actions">';o=o.items;for(var h=o.length,p=0;p<h;p++){var y=o[p];c+='<button type="button" data-listboxid="'+fi(y.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(y.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+fi(y.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+kt(y.label)+"</div></button>"}return c=""+rT({Ab:rn("firebaseui-list-box-dialog"),content:tI(c+"</div>")}),ht(c)}oT.a="firebaseui.auth.soy2.element.listBoxDialog";function vp(o){return o=o||{},ht(o.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}vp.a="firebaseui.auth.soy2.element.busyIndicator";function ro(o,c){return o=o||{},o=o.ga,se(o.S?o.S:c.hb[o.providerId]?""+c.hb[o.providerId]:o.providerId&&o.providerId.indexOf("saml.")==0||o.providerId&&o.providerId.indexOf("oidc.")==0?o.providerId.substring(5):""+o.providerId)}function hv(o){aT(o,"upgradeElement")}function dv(o){aT(o,"downgradeElements")}var SV=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function aT(o,c){o&&window.componentHandler&&window.componentHandler[c]&&SV.forEach(function(h){Tu(o,h)&&window.componentHandler[c](o),Ce(c_(h,o),function(p){window.componentHandler[c](p)})})}function cT(o,c,h){if(bp.call(this),document.body.appendChild(o),o.showModal||window.dialogPolyfill.registerDialog(o),o.showModal(),hv(o),c&&Ye(this,o,function(_){var I=o.getBoundingClientRect();(_.clientX<I.left||I.left+I.width<_.clientX||_.clientY<I.top||I.top+I.height<_.clientY)&&bp.call(this)}),!h){var p=this.N().parentElement||this.N().parentNode;if(p){var y=this;this.da=function(){if(o.open){var _=o.getBoundingClientRect().height,I=p.getBoundingClientRect().height,x=p.getBoundingClientRect().top-document.body.getBoundingClientRect().top,F=p.getBoundingClientRect().left-document.body.getBoundingClientRect().left,Y=o.getBoundingClientRect().width,gt=p.getBoundingClientRect().width;o.style.top=(x+(I-_)/2).toString()+"px",_=F+(gt-Y)/2,o.style.left=_.toString()+"px",o.style.right=(document.body.getBoundingClientRect().width-_-Y).toString()+"px"}else window.removeEventListener("resize",y.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function bp(){var o=fv.call(this);o&&(dv(o),o.open&&o.close(),na(o),this.da&&window.removeEventListener("resize",this.da))}function fv(){return l_("firebaseui-id-dialog")}function lT(){na(uT.call(this))}function uT(){return Jt(this,"firebaseui-id-info-bar")}function hT(){return Jt(this,"firebaseui-id-dismiss-info-bar")}var xV={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function pv(o,c,h){as.call(this,o,c);for(var p in h)this[p]=h[p]}tt(pv,as);function $(o,c,h,p,y){da.call(this,h),this.fb=o,this.eb=c,this.Fa=!1,this.Ga=p||null,this.A=this.ca=null,this.Z=xt(xV),re(this.Z,y||{})}tt($,da),e=$.prototype,e.kb=function(){var o=ou(this.fb,this.eb,this.Z,this.s);hv(o),this.g=o},e.v=function(){if($.K.v.call(this),fI(qe(this),new pv("pageEnter",qe(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var o=this.Z.F;Ye(this,this.bb(),function(){o()})}if(this.ab()&&this.Z.D){var c=this.Z.D;Ye(this,this.ab(),function(){c()})}},e.ya=function(){fI(qe(this),new pv("pageExit",qe(this),{pageId:this.Ga})),$.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,dv(this.N()),$.K.o.call(this)};function kV(o){o.Fa=!0;var c=Tu(o.N(),"firebaseui-use-spinner");o.ca=window.setTimeout(function(){o.N()&&o.A===null&&(o.A=ou(vp,{tb:c},null,o.s),o.N().appendChild(o.A),hv(o.A))},500)}e.I=function(o,c,h,p){function y(){if(_.T)return null;_.Fa=!1,window.clearTimeout(_.ca),_.ca=null,_.A&&(dv(_.A),na(_.A),_.A=null)}var _=this;return _.Fa?null:(kV(_),o.apply(null,c).then(h,p).then(y,y))};function qe(o){return o.N().parentElement||o.N().parentNode}function Ru(o,c,h){Pu(o,c,function(){h.focus()})}function Vc(o,c,h){Pu(o,c,function(){h()})}Et($.prototype,{a:function(o){lT.call(this);var c=ou(iT,{message:o},null,this.s);this.N().appendChild(c),Ye(this,hT.call(this),function(){na(c)})},yc:lT,Ac:uT,zc:hT,$:function(o,c){o=ou(sT,{Ma:o,message:c},null,this.s),cT.call(this,o)},h:bp,Cb:fv,Cc:function(){return Jt(this,"firebaseui-tos")},bb:function(){return Jt(this,"firebaseui-tos-link")},ab:function(){return Jt(this,"firebaseui-pp-link")},Dc:function(){return Jt(this,"firebaseui-tos-list")}});function dT(o,c,h){o=o||{},c=o.Va;var p=o.ia;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Lc(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?Vi(null):"")+Ei(null)+'</div></div><div class="firebaseui-card-footer">'+(p?Fc(h):qn(h))+"</div></form></div>",ht(o)}dT.a="firebaseui.auth.soy2.page.signIn";function fT(o,c,h){return o=o||{},c=o.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Lc(o)+eT()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+nT()+'</div><div class="firebaseui-form-actions">'+uv()+'</div></div><div class="firebaseui-card-footer">'+(c?Fc(h):qn(h))+"</div></form></div>",ht(o)}fT.a="firebaseui.auth.soy2.page.passwordSignIn";function pT(o,c,h){o=o||{};var p=o.Tb;c=o.Ta;var y=o.ia,_='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Lc(o);return p?(o=o||{},o=o.name,o='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+fi(o??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',o=ht(o)):o="",h=_+o+tT(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?Vi(null):"")+ZA()+'</div></div><div class="firebaseui-card-footer">'+(y?Fc(h):qn(h))+"</div></form></div>",ht(h)}pT.a="firebaseui.auth.soy2.page.passwordSignUp";function gT(o,c,h){return o=o||{},c=o.Ta,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Lc(o)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?Vi(null):"")+Ei({label:rn("Send")})+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form></div>",ht(o)}gT.a="firebaseui.auth.soy2.page.passwordRecovery";function mT(o,c,h){c=o.G;var p="";return o="Follow the instructions sent to <strong>"+(kt(o.email)+"</strong> to recover your password"),p+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions">',c&&(p+='<div class="firebaseui-form-actions">'+Ei({label:rn("Done")})+"</div>"),p+='</div><div class="firebaseui-card-footer">'+qn(h)+"</div></div>",ht(p)}mT.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function yT(o,c,h){return ht('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+vp(null)+"</div></div>")}yT.a="firebaseui.auth.soy2.page.callback";function _T(o,c,h){return ht('<div class="firebaseui-container firebaseui-id-page-spinner">'+vp({tb:!0})+"</div>")}_T.a="firebaseui.auth.soy2.page.spinner";function vT(){return ht('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}vT.a="firebaseui.auth.soy2.page.blank";function bT(o,c,h){c="",o="A sign-in email with additional instructions was sent to <strong>"+(kt(o.email)+"</strong>. Check your email to complete sign-in.");var p=ht('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+p+'</div><div class="firebaseui-form-actions">'+Vi({label:rn("Back")})+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form></div>",ht(c)}bT.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function wT(o,c,h){return o=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ht('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+Vi({label:rn("Back")})+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form></div>",ht(o)}wT.a="firebaseui.auth.soy2.page.emailNotReceived";function ET(o,c,h){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Lc(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Vi(null)+Ei(null)+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form></div>",ht(o)}ET.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function IT(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Vi({label:rn("Dismiss")})+"</div></div></div>";return ht(o)}IT.a="firebaseui.auth.soy2.page.differentDeviceError";function AT(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Vi({label:rn("Dismiss")})+"</div></div></div>";return ht(o)}AT.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function TT(o,c,h){return c="",o="Youve already used <strong>"+(kt(o.email)+"</strong> to sign in. Enter your password for that account."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+o+"</p>"+eT()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+nT()+'</div><div class="firebaseui-form-actions">'+uv()+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form></div>",ht(c)}TT.a="firebaseui.auth.soy2.page.passwordLinking";function CT(o,c,h){var p=o.email;return c="",o=""+ro(o,h),o=rn(o),p="Youve already used <strong>"+(kt(p)+("</strong>. You can connect your <strong>"+(kt(o)+("</strong> account with <strong>"+(kt(p)+"</strong> by signing in with email link below."))))),o="For this flow to successfully connect your "+(kt(o)+" account with this email, you have to open the link on the same device or browser."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+p+'<p class="firebaseui-text firebaseui-text-justify">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+uv()+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form></div>",ht(c)}CT.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function ST(o,c,h){c="";var p=""+ro(o,h);return p=rn(p),o="You originally intended to connect <strong>"+(kt(p)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),p="If you still want to connect your <strong>"+(kt(p)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+o+'</p><p class="firebaseui-text firebaseui-text-justify">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+rr()+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form></div>",ht(c)}ST.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function xT(o,c,h){var p=o.email;return c="",o=""+ro(o,h),o=rn(o),p="Youve already used <strong>"+(kt(p)+("</strong>. Sign in with "+(kt(o)+" to continue."))),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ei({label:rn("Sign in with "+o)})+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form></div>",ht(c)}xT.a="firebaseui.auth.soy2.page.federatedLinking";function kT(o,c,h){o=o||{};var p=o.kc;c=o.yb,o=o.Eb;var y='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return p?(p="<strong>"+(kt(p)+"</strong> is not authorized to view the requested page."),y+=p):y+="User is not authorized to view the requested page.",y+="</p>",c&&(c="Please contact <strong>"+(kt(c)+"</strong> for authorization."),y+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+c+"</p>"),y+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',o&&(y+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),y+='</div><div class="firebaseui-form-actions">'+Vi({label:rn("Back")})+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form></div>",ht(y)}kT.a="firebaseui.auth.soy2.page.unauthorizedUser";function PT(o,c,h){return c="",o="To continue sign in with <strong>"+(kt(o.email)+"</strong> on this device, you have to recover the password."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Vi(null)+Ei({label:rn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form></div>",ht(c)}PT.a="firebaseui.auth.soy2.page.unsupportedProvider";function RT(o){var c="",h='<p class="firebaseui-text">for <strong>'+(kt(o.email)+"</strong></p>");return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+h+tT(yF(o))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ZA()+"</div></div></form></div>",ht(c)}RT.a="firebaseui.auth.soy2.page.passwordReset";function DT(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+rr()+"</div>":"")+"</div></div>",ht(o)}DT.a="firebaseui.auth.soy2.page.passwordResetSuccess";function MT(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+rr()+"</div>":"")+"</div></div>",ht(o)}MT.a="firebaseui.auth.soy2.page.passwordResetFailure";function OT(o){var c=o.G,h="";return o="Your sign-in email address has been changed back to <strong>"+(kt(o.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+rr()+"</div>":"")+"</div></form></div>",ht(h)}OT.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function NT(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+rr()+"</div>":"")+"</div></div>",ht(o)}NT.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function LT(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+rr()+"</div>":"")+"</div></div>",ht(o)}LT.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function FT(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+rr()+"</div>":"")+"</div></div>",ht(o)}FT.a="firebaseui.auth.soy2.page.emailVerificationFailure";function VT(o){var c=o.G,h="";return o="You can now sign in with your new email <strong>"+(kt(o.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+rr()+"</div>":"")+"</div></div>",ht(h)}VT.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function BT(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+rr()+"</div>":"")+"</div></div>",ht(o)}BT.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function UT(o){var c=o.factorId,h=o.phoneNumber;o=o.G;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(c){case"phone":c="The <strong>"+(kt(c)+(" "+(kt(h)+"</strong> was removed as a second authentication step."))),p+=c;break;default:p+="The device or app was removed as a second authentication step."}return p+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(o?'<div class="firebaseui-form-actions">'+rr()+"</div>":"")+"</div></form></div>",ht(p)}UT.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function $T(o){return o=o||{},o=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(o.G?'<div class="firebaseui-form-actions">'+rr()+"</div>":"")+"</div></div>",ht(o)}$T.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function jT(o){var c=o.zb;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+kt(o.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',c&&(o+=Ei({label:rn("Retry")})),ht(o+"</div></div></div>")}jT.a="firebaseui.auth.soy2.page.recoverableError";function HT(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+kt(o.errorMessage)+"</p></div></div>",ht(o)}HT.a="firebaseui.auth.soy2.page.unrecoverableError";function zT(o,c,h){var p=o.Qb;return c="",o="Continue with "+(kt(o.jc)+"?"),p="You originally wanted to sign in with "+kt(p),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+o+'</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Vi(null)+Ei({label:rn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form></div>",ht(c)}zT.a="firebaseui.auth.soy2.page.emailMismatch";function WT(o,c,h){var p='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';o=o.Sb,c=o.length;for(var y=0;y<c;y++){var _={ga:o[y]},I=h;_=_||{};var x=_.ga,F=_;F=F||{};var Y="";switch(F.ga.providerId){case"google.com":Y+="firebaseui-idp-google";break;case"github.com":Y+="firebaseui-idp-github";break;case"facebook.com":Y+="firebaseui-idp-facebook";break;case"twitter.com":Y+="firebaseui-idp-twitter";break;case"phone":Y+="firebaseui-idp-phone";break;case"anonymous":Y+="firebaseui-idp-anonymous";break;case"password":Y+="firebaseui-idp-password";break;default:Y+="firebaseui-idp-generic"}F='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+fi(se(Y))+' firebaseui-id-idp-button" data-provider-id="'+fi(x.providerId)+'" style="background-color:',Y=(Y=_)||{},Y=Y.ga,F=F+fi(eI(se(Y.ta?Y.ta:I.wa[Y.providerId]?""+I.wa[Y.providerId]:Y.providerId.indexOf("saml.")==0?""+I.wa.saml:Y.providerId.indexOf("oidc.")==0?""+I.wa.oidc:""+I.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var gt=_;Y=I,gt=gt||{},gt=gt.ga,Y=mF(gt.za?ia(gt.za):Y.xa[gt.providerId]?ia(Y.xa[gt.providerId]):gt.providerId.indexOf("saml.")==0?ia(Y.xa.saml):gt.providerId.indexOf("oidc.")==0?ia(Y.xa.oidc):ia(Y.xa.password)),F=F+fi(ia(Y))+'"></span>',x.providerId=="password"?(F+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?F+=kt(x.V):x.S?(_="Sign in with "+kt(ro(_,I)),F+=_):F+="Sign in with email",F+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',F=x.S?F+kt(x.S):F+"Email",F+="</span>"):x.providerId=="phone"?(F+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?F+=kt(x.V):x.S?(_="Sign in with "+kt(ro(_,I)),F+=_):F+="Sign in with phone",F+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',F=x.S?F+kt(x.S):F+"Phone",F+="</span>"):x.providerId=="anonymous"?(F+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?F+=kt(x.V):x.S?(_="Sign in with "+kt(ro(_,I)),F+=_):F+="Continue as guest",F+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',F=x.S?F+kt(x.S):F+"Guest",F+="</span>"):(F+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?F+=kt(x.V):(Y="Sign in with "+kt(ro(_,I)),F+=Y),F+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(x.S?kt(x.S):kt(ro(_,I)))+"</span>"),x=ht(F+"</button>"),p+='<li class="firebaseui-list-item">'+x+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Fc(h)+"</div></div>",ht(p)}WT.a="firebaseui.auth.soy2.page.providerSignIn";function qT(o,c,h){o=o||{};var p=o.Gb,y=o.Va;c=o.ia,o=o||{},o=o.Aa,o='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+fi(o??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ht(o);var _;return p?_=ht('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):_="",_=o+_+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(y?Vi(null):"")+Ei({label:rn("Verify")})+'</div></div><div class="firebaseui-card-footer">',c?(c='<p class="firebaseui-tos firebaseui-phone-tos">',c=h.F&&h.D?c+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':c+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",h=ht(c+"</p>")):h=ht('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+qn(h),ht(_+h+"</div></form></div>")}qT.a="firebaseui.auth.soy2.page.phoneSignInStart";function KT(o,c,h){o=o||{},c=o.phoneNumber;var p="";return o='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(kt(c)+"</a>"),kt(c),c=p,p=ht('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+"</p>"+p+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Vi(null)+Ei({label:rn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+qn(h)+"</div></form>",o=ht('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ht(c+(h+o+"</div>"))}KT.a="firebaseui.auth.soy2.page.phoneSignInFinish";function GT(){return ht('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}GT.a="firebaseui.auth.soy2.page.signOut";function YT(o,c,h){var p='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';o=o.ec,c=o.length;for(var y=0;y<c;y++){var _=o[y],I="",x=kt(_.displayName),F=_.tenantId?_.tenantId:"top-level-project";F=rn(F),I+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+fi(F)+' firebaseui-id-tenant-selection-button"'+(_.tenantId?'data-tenant-id="'+fi(_.tenantId)+'"':"")+'style="background-color:'+fi(eI(_.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+fi(ia(_.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',_.V?I+=kt(_.V):(_="Sign in to "+kt(_.displayName),I+=_),I=ht(I+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+x+"</span></button>")),p+='<li class="firebaseui-list-item">'+I+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Fc(h)+"</div></div>",ht(p)}YT.a="firebaseui.auth.soy2.page.selectTenant";function QT(o,c,h){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Lc(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ei(null)+'</div></div><div class="firebaseui-card-footer">'+Fc(h)+"</div></form></div>",ht(o)}QT.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Rn(){return Jt(this,"firebaseui-id-submit")}function An(){return Jt(this,"firebaseui-id-secondary-link")}function Bn(o,c){Ye(this,Rn.call(this),function(p){o(p)});var h=An.call(this);h&&c&&Ye(this,h,function(p){c(p)})}function wp(){return Jt(this,"firebaseui-id-password")}function Ep(){return Jt(this,"firebaseui-id-password-error")}function XT(){var o=wp.call(this),c=Ep.call(this);Oc(this,o,function(){Nc(c)&&(on(o,!0),Fi(c))})}function JT(){var o=wp.call(this),c=Ep.call(this);return Fn(o)?(on(o,!0),Fi(c),c=!0):(on(o,!1),Vn(c,se("Enter your password").toString()),c=!1),c?Fn(o):null}function Bc(o,c,h,p,y,_){$.call(this,TT,{email:o},_,"passwordLinking",{F:p,D:y}),this.w=c,this.H=h}l(Bc,$),Bc.prototype.v=function(){this.P(),this.M(this.w,this.H),Vc(this,this.i(),this.w),this.i().focus(),$.prototype.v.call(this)},Bc.prototype.o=function(){this.w=null,$.prototype.o.call(this)},Bc.prototype.j=function(){return Fn(Jt(this,"firebaseui-id-email"))},Et(Bc.prototype,{i:wp,B:Ep,P:XT,u:JT,ea:Rn,ba:An,M:Bn});var PV=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function us(){return Jt(this,"firebaseui-id-email")}function so(){return Jt(this,"firebaseui-id-email-error")}function Uc(o){var c=us.call(this),h=so.call(this);Oc(this,c,function(){Nc(h)&&(on(c,!0),Fi(h))}),o&&Pu(this,c,function(){o()})}function $c(){return O(Fn(us.call(this))||"")}function jc(){var o=us.call(this),c=so.call(this),h=Fn(o)||"";return h?PV.test(h)?(on(o,!0),Fi(c),c=!0):(on(o,!1),Vn(c,se("That email address isn't correct").toString()),c=!1):(on(o,!1),Vn(c,se("Enter your email address to continue").toString()),c=!1),c?O(Fn(o)):null}function Du(o,c,h,p,y,_,I){$.call(this,fT,{email:h,ia:!!_},I,"passwordSignIn",{F:p,D:y}),this.w=o,this.H=c}l(Du,$),Du.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Ru(this,this.l(),this.i()),Vc(this,this.i(),this.w),Fn(this.l())?this.i().focus():this.l().focus(),$.prototype.v.call(this)},Du.prototype.o=function(){this.H=this.w=null,$.prototype.o.call(this)},Et(Du.prototype,{l:us,U:so,P:Uc,M:$c,j:jc,i:wp,B:Ep,ea:XT,u:JT,ua:Rn,pa:An,ba:Bn});function ge(o,c,h,p,y,_){$.call(this,o,c,p,y||"notice",_),this.i=h||null}tt(ge,$),ge.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),ge.K.v.call(this)},ge.prototype.o=function(){this.i=null,ge.K.o.call(this)},Et(ge.prototype,{l:Rn,w:An,u:Bn});function Ip(o,c,h,p,y){ge.call(this,mT,{email:o,G:!!c},c,y,"passwordRecoveryEmailSent",{F:h,D:p})}tt(Ip,ge);function ZT(o,c){ge.call(this,LT,{G:!!o},o,c,"emailVerificationSuccess")}tt(ZT,ge);function tC(o,c){ge.call(this,FT,{G:!!o},o,c,"emailVerificationFailure")}tt(tC,ge);function eC(o,c,h){ge.call(this,VT,{email:o,G:!!c},c,h,"verifyAndChangeEmailSuccess")}tt(eC,ge);function nC(o,c){ge.call(this,BT,{G:!!o},o,c,"verifyAndChangeEmailFailure")}tt(nC,ge);function iC(o,c){ge.call(this,$T,{G:!!o},o,c,"revertSecondFactorAdditionFailure")}tt(iC,ge);function rC(o){ge.call(this,GT,void 0,void 0,o,"signOut")}tt(rC,ge);function sC(o,c){ge.call(this,DT,{G:!!o},o,c,"passwordResetSuccess")}tt(sC,ge);function oC(o,c){ge.call(this,MT,{G:!!o},o,c,"passwordResetFailure")}tt(oC,ge);function aC(o,c){ge.call(this,NT,{G:!!o},o,c,"emailChangeRevokeFailure")}tt(aC,ge);function cC(o,c,h){ge.call(this,jT,{errorMessage:o,zb:!!c},c,h,"recoverableError")}tt(cC,ge);function lC(o,c){ge.call(this,HT,{errorMessage:o},void 0,c,"unrecoverableError")}tt(lC,ge);function Mu(o){if(o.code==="auth/invalid-credential"&&o.message&&o.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(o.message&&o.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var c=JSON.parse(o.message.substring(o.message.indexOf("{"),o.message.lastIndexOf("}")+1));return{code:o.code,message:c&&c.error&&c.error.message||o.message}}return o}function hs(o,c,h,p){function y(I){if(!I.name||I.name!="cancel"){t:{var x=I.message;try{var F=((JSON.parse(x).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(F&&F.length){var Y=!0;break t}}catch{}Y=!1}if(Y)I=qe(c),c.m(),xe(o,I,void 0,se("Your sign-in session has expired. Please try again.").toString());else{if(Y=I&&I.message||"",I.code){if(I.code=="auth/email-already-in-use"||I.code=="auth/credential-already-in-use")return;Y=_e(I)}c.a(Y)}}}if(RC(o),p)return uC(o,h),sn();if(!h.credential)throw Error("No credential found!");if(!Kt(o).currentUser&&!h.user)throw Error("User not logged in.");try{var _=c4(o,h)}catch(I){return Ni(I.code||I.message,I),c.a(I.code||I.message),sn()}return h=_.then(function(I){uC(o,I)},y).then(void 0,y),Bt(o,_),sn(h)}function uC(o,c){if(!c.user)throw Error("No user found");var h=DA(z(o));if(tv(z(o))&&h&&io("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),h){h=DA(z(o));var p=hA(Ct(o))||void 0;wi(vu,Ct(o));var y=!1;RI()?((!h||h(c,p))&&(y=!0,fc(window.opener.location,Ap(o,p))),h||window.close()):(!h||h(c,p))&&(y=!0,fc(window.location,Ap(o,p))),y||o.reset()}else{h=c.user,c=c.credential,p=tv(z(o)),y=hA(Ct(o))||void 0,wi(vu,Ct(o));var _=!1;RI()?((!p||p(h,c,y))&&(_=!0,fc(window.opener.location,Ap(o,y))),p||window.close()):(!p||p(h,c,y))&&(_=!0,fc(window.location,Ap(o,y))),_||o.reset()}}function Ap(o,c){if(o=c||z(o).a.get("signInSuccessUrl"),!o)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return o}function _e(o){var c={code:o.code};c=c||{};var h="";switch(c.code){case"auth/email-already-in-use":h+="The email address is already used by another account";break;case"auth/requires-recent-login":h+=oI();break;case"auth/too-many-requests":h+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":h+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":h+="That email address doesn't match an existing account";break;case"auth/user-token-expired":h+=oI();break;case"auth/weak-password":h+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":h+="The email and password you entered don't match";break;case"auth/network-request-failed":h+="A network error has occurred";break;case"auth/invalid-phone-number":h+=p_();break;case"auth/invalid-verification-code":h+=se("Wrong code. Try again.");break;case"auth/code-expired":h+="This code is no longer valid";break;case"auth/expired-action-code":h+="This code has expired.";break;case"auth/invalid-action-code":h+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(c=se(h).toString())return c;try{return JSON.parse(o.message),Ni("Internal error: "+o.message,void 0),iI().toString()}catch{return o.message}}function RV(o,c,h){var p=Tc[c]&&bt.auth[Tc[c]]?new bt.auth[Tc[c]]:c.indexOf("saml.")==0?new bt.auth.SAMLAuthProvider(c):new bt.auth.OAuthProvider(c);if(!p)throw Error("Invalid Firebase Auth provider!");var y=SA(z(o),c);if(p.addScope)for(var _=0;_<y.length;_++)p.addScope(y[_]);return y=xA(z(o),c)||{},h&&(c==bt.auth.GoogleAuthProvider.PROVIDER_ID?o="login_hint":c==bt.auth.GithubAuthProvider.PROVIDER_ID?o="login":o=(o=Eu(z(o),c))&&o.Ob,o&&(y[o]=h)),p.setCustomParameters&&p.setCustomParameters(y),p}function Ou(o,c,h,p){function y(){sV(new YI(o.h.tenantId||null),Ct(o)),Bt(o,c.I(J(o.dc,o),[F],function(){if((window.location&&window.location.protocol)==="file:")return Bt(o,CC(o).then(function(Y){c.m(),wi(la,Ct(o)),ft("callback",o,x,sn(Y))},_))},I))}function _(Y){if(wi(la,Ct(o)),!Y.name||Y.name!="cancel")switch(Y=Mu(Y),Y.code){case"auth/popup-blocked":y();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":c.a(_e(Y));break;case"auth/admin-restricted-operation":c.m(),ha(z(o))?ft("handleUnauthorizedUser",o,x,null,h):ft("callback",o,x,pc(Y));break;default:c.m(),ft("callback",o,x,pc(Y))}}function I(Y){wi(la,Ct(o)),Y.name&&Y.name=="cancel"||(Ni("signInWithRedirect: "+Y.code,void 0),Y=_e(Y),c.Ga=="blank"&&Z_(z(o))?(c.m(),ft("providerSignIn",o,x,Y)):c.a(Y))}var x=qe(c),F=RV(o,h,p);RA(z(o))==pp?y():Bt(o,a4(o,F).then(function(Y){c.m(),ft("callback",o,x,sn(Y))},_))}function DV(o,c){Bt(o,c.I(J(o.$b,o),[],function(h){return c.m(),hs(o,c,h,!0)},function(h){h.name&&h.name=="cancel"||(Ni("ContinueAsGuest: "+h.code,void 0),h=_e(h),c.a(h))}))}function MV(o,c,h){function p(_){var I=!1;return _=c.I(J(o.ac,o),[_],function(x){var F=qe(c);c.m(),ft("callback",o,F,sn(x)),I=!0},function(x){if((!x.name||x.name!="cancel")&&(!x||x.code!="auth/credential-already-in-use"))if(x&&x.code=="auth/email-already-in-use"&&x.email&&x.credential){var F=qe(c);c.m(),ft("callback",o,F,pc(x))}else x&&x.code=="auth/admin-restricted-operation"&&ha(z(o))?(x=qe(c),c.m(),ft("handleUnauthorizedUser",o,x,null,bt.auth.GoogleAuthProvider.PROVIDER_ID)):(x=_e(x),c.a(x))}),Bt(o,_),_.then(function(){return I},function(){return!1})}if(h&&h.credential&&h.clientId===TA(z(o))){if(SA(z(o),bt.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var y=JSON.parse(atob(h.credential.split(".")[1])).email}catch{}return Ou(o,c,bt.auth.GoogleAuthProvider.PROVIDER_ID,y),sn(!0)}return p(bt.auth.GoogleAuthProvider.credential(h.credential))}return h&&c.a(se("The selected credential for the authentication provider is not supported!").toString()),sn(!1)}function OV(o,c){var h=c.j(),p=c.u();if(h)if(p){var y=bt.auth.EmailAuthProvider.credential(h,p);Bt(o,c.I(J(o.bc,o),[h,p],function(_){return hs(o,c,{user:_.user,credential:y,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo})},function(_){if(!_.name||_.name!="cancel")switch(_.code){case"auth/email-already-in-use":break;case"auth/email-exists":on(c.l(),!1),Vn(c.U(),_e(_));break;case"auth/too-many-requests":case"auth/wrong-password":on(c.i(),!1),Vn(c.B(),_e(_));break;default:Ni("verifyPassword: "+_.message,void 0),c.a(_e(_))}}))}else c.i().focus();else c.l().focus()}function Tp(o){return o=Cc(z(o)),o.length==1&&o[0]==bt.auth.EmailAuthProvider.PROVIDER_ID}function hC(o){return o=Cc(z(o)),o.length==1&&o[0]==bt.auth.PhoneAuthProvider.PROVIDER_ID}function xe(o,c,h,p){Tp(o)?p?ft("signIn",o,c,h,p):mv(o,c,h):o&&hC(o)&&!p?ft("phoneSignInStart",o,c):o&&Z_(z(o))&&!p?ft("federatedRedirect",o,c,h):ft("providerSignIn",o,c,p,h)}function dC(o,c,h,p){var y=qe(c);Bt(o,c.I(J(Kt(o).fetchSignInMethodsForEmail,Kt(o)),[h],function(_){c.m(),fC(o,y,_,h,p)},function(_){_=_e(_),c.a(_)}))}function fC(o,c,h,p,y,_){h.length||Sc(z(o))&&!Sc(z(o))?B(h,bt.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ft("passwordSignIn",o,c,p,_):h.length==1&&h[0]===bt.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Sc(z(o))?ft("sendEmailLinkForSignIn",o,c,p,function(){ft("signIn",o,c)}):ft("unsupportedProvider",o,c,p):(h=EA(h,Cc(z(o))))?(dA(new U_(p),Ct(o)),ft("federatedSignIn",o,c,p,h,y)):ft("unsupportedProvider",o,c,p):CA(z(o))?ft("handleUnauthorizedUser",o,c,p,bt.auth.EmailAuthProvider.PROVIDER_ID):Sc(z(o))?ft("sendEmailLinkForSignIn",o,c,p,function(){ft("signIn",o,c)}):ft("passwordSignUp",o,c,p,void 0,void 0,_)}function gv(o,c,h,p,y,_){var I=qe(c);Bt(o,c.I(J(o.Ib,o),[h,_],function(){c.m(),ft("emailLinkSignInSent",o,I,h,p,_)},y))}function mv(o,c,h){h?ft("prefilledEmailSignIn",o,c,h):ft("signIn",o,c)}function Nu(){return Sf(ls(),"oobCode")}function yv(){var o=Sf(ls(),"continueUrl");return o?function(){fc(window.location,o)}:null}function Lu(o,c){$.call(this,AT,void 0,c,"anonymousUserMismatch"),this.i=o}l(Lu,$),Lu.prototype.v=function(){var o=this;Ye(this,this.l(),function(){o.i()}),this.l().focus(),$.prototype.v.call(this)},Lu.prototype.o=function(){this.i=null,$.prototype.o.call(this)},Et(Lu.prototype,{l:An}),le.anonymousUserMismatch=function(o,c){var h=new Lu(function(){h.m(),xe(o,c)});h.render(c),jt(o,h)};function Cp(o){$.call(this,yT,void 0,o,"callback")}l(Cp,$),Cp.prototype.I=function(o,c,h,p){return o.apply(null,c).then(h,p)};function pC(o,c,h){if(h.user){var p={user:h.user,credential:h.credential,operationType:h.operationType,additionalUserInfo:h.additionalUserInfo},y=wr(Ct(o)),_=y&&y.g;if(_&&!LV(h.user,_))NV(o,c,p);else{var I=y&&y.a;I?Bt(o,h.user.linkWithCredential(I).then(function(x){p={user:x.user,credential:I,operationType:x.operationType,additionalUserInfo:x.additionalUserInfo},gC(o,c,p)},function(x){Sp(o,c,x)})):gC(o,c,p)}}else h=qe(c),c.m(),Er(Ct(o)),xe(o,h)}function gC(o,c,h){Er(Ct(o)),hs(o,c,h)}function Sp(o,c,h){var p=qe(c);Er(Ct(o)),h=_e(h),c.m(),xe(o,p,void 0,h)}function mC(o,c,h,p){var y=qe(c);Bt(o,Kt(o).fetchSignInMethodsForEmail(h).then(function(_){c.m(),_.length?B(_,bt.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ft("passwordLinking",o,y,h):_.length==1&&_[0]===bt.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ft("emailLinkSignInLinking",o,y,h):(_=EA(_,Cc(z(o))))?ft("federatedLinking",o,y,h,_,p):(Er(Ct(o)),ft("unsupportedProvider",o,y,h)):(Er(Ct(o)),ft("passwordRecovery",o,y,h,!1,rI().toString()))},function(_){Sp(o,c,_)}))}function NV(o,c,h){var p=qe(c);Bt(o,oo(o).then(function(){c.m(),ft("emailMismatch",o,p,h)},function(y){y.name&&y.name=="cancel"||(y=_e(y.code),c.a(y))}))}function LV(o,c){if(c==o.email)return!0;if(o.providerData){for(var h=0;h<o.providerData.length;h++)if(c==o.providerData[h].email)return!0}return!1}le.callback=function(o,c,h){var p=new Cp;p.render(c),jt(o,p),h=h||CC(o),Bt(o,h.then(function(y){pC(o,p,y)},function(y){if((y=Mu(y))&&(y.code=="auth/account-exists-with-different-credential"||y.code=="auth/email-already-in-use")&&y.email&&y.credential)dA(new U_(y.email,y.credential),Ct(o)),mC(o,p,y.email);else if(y&&y.code=="auth/user-cancelled"){var _=wr(Ct(o)),I=_e(y);_&&_.a?mC(o,p,_.g,I):_?dC(o,p,_.g,I):Sp(o,p,y)}else y&&y.code=="auth/credential-already-in-use"||(y&&y.code=="auth/operation-not-supported-in-this-environment"&&Tp(o)?pC(o,p,{user:null,credential:null}):y&&y.code=="auth/admin-restricted-operation"&&ha(z(o))?(p.m(),Er(Ct(o)),ft("handleUnauthorizedUser",o,c,null,null)):Sp(o,p,y))}))};function Fu(o,c){$.call(this,IT,void 0,c,"differentDeviceError"),this.i=o}l(Fu,$),Fu.prototype.v=function(){var o=this;Ye(this,this.l(),function(){o.i()}),this.l().focus(),$.prototype.v.call(this)},Fu.prototype.o=function(){this.i=null,$.prototype.o.call(this)},Et(Fu.prototype,{l:An}),le.differentDeviceError=function(o,c){var h=new Fu(function(){h.m(),xe(o,c)});h.render(c),jt(o,h)};function Vu(o,c,h,p){$.call(this,OT,{email:o,G:!!h},p,"emailChangeRevoke"),this.l=c,this.i=h||null}l(Vu,$),Vu.prototype.v=function(){var o=this;Ye(this,Jt(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),$.prototype.v.call(this)},Vu.prototype.o=function(){this.l=this.i=null,$.prototype.o.call(this)},Et(Vu.prototype,{u:Rn,B:An,w:Bn});function Bu(){return Jt(this,"firebaseui-id-new-password")}function xp(){return Jt(this,"firebaseui-id-password-toggle")}function FV(){this.Ra=!this.Ra;var o=xp.call(this),c=Bu.call(this);this.Ra?(c.type="text",Ir(o,"firebaseui-input-toggle-off"),Ar(o,"firebaseui-input-toggle-on")):(c.type="password",Ir(o,"firebaseui-input-toggle-on"),Ar(o,"firebaseui-input-toggle-off")),c.focus()}function kp(){return Jt(this,"firebaseui-id-new-password-error")}function yC(){this.Ra=!1;var o=Bu.call(this);o.type="password";var c=kp.call(this);Oc(this,o,function(){Nc(c)&&(on(o,!0),Fi(c))});var h=xp.call(this);Ir(h,"firebaseui-input-toggle-on"),Ar(h,"firebaseui-input-toggle-off"),TV(this,o,function(){Ir(h,"firebaseui-input-toggle-focus"),Ar(h,"firebaseui-input-toggle-blur")}),CV(this,o,function(){Ir(h,"firebaseui-input-toggle-blur"),Ar(h,"firebaseui-input-toggle-focus")}),Ye(this,h,J(FV,this))}function _C(){var o=Bu.call(this),c=kp.call(this);return Fn(o)?(on(o,!0),Fi(c),c=!0):(on(o,!1),Vn(c,se("Enter your password").toString()),c=!1),c?Fn(o):null}function Uu(o,c,h){$.call(this,RT,{email:o},h,"passwordReset"),this.l=c}l(Uu,$),Uu.prototype.v=function(){this.H(),this.B(this.l),Vc(this,this.i(),this.l),this.i().focus(),$.prototype.v.call(this)},Uu.prototype.o=function(){this.l=null,$.prototype.o.call(this)},Et(Uu.prototype,{i:Bu,w:kp,M:xp,H:yC,u:_C,U:Rn,P:An,B:Bn});function $u(o,c,h,p,y){$.call(this,UT,{factorId:o,phoneNumber:h||null,G:!!p},y,"revertSecondFactorAdditionSuccess"),this.l=c,this.i=p||null}l($u,$),$u.prototype.v=function(){var o=this;Ye(this,Jt(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),$.prototype.v.call(this)},$u.prototype.o=function(){this.l=this.i=null,$.prototype.o.call(this)},Et($u.prototype,{u:Rn,B:An,w:Bn});function VV(o,c,h,p,y){var _=h.u();_&&Bt(o,h.I(J(Kt(o).confirmPasswordReset,Kt(o)),[p,_],function(){h.m();var I=new sC(y);I.render(c),jt(o,I)},function(I){vC(o,c,h,I)}))}function vC(o,c,h,p){(p&&p.code)=="auth/weak-password"?(o=_e(p),on(h.i(),!1),Vn(h.w(),o),h.i().focus()):(h&&h.m(),h=new oC,h.render(c),jt(o,h))}function BV(o,c,h){var p=new Vu(h,function(){Bt(o,p.I(J(Kt(o).sendPasswordResetEmail,Kt(o)),[h],function(){p.m(),p=new Ip(h,void 0,mn(z(o)),yn(z(o))),p.render(c),jt(o,p)},function(){p.a(nI().toString())}))});p.render(c),jt(o,p)}function UV(o,c,h,p){var y=new $u(p.factorId,function(){y.I(J(Kt(o).sendPasswordResetEmail,Kt(o)),[h],function(){y.m(),y=new Ip(h,void 0,mn(z(o)),yn(z(o))),y.render(c),jt(o,y)},function(){y.a(nI().toString())})},p.phoneNumber);y.render(c),jt(o,y)}le.passwordReset=function(o,c,h,p){Bt(o,Kt(o).verifyPasswordResetCode(h).then(function(y){var _=new Uu(y,function(){VV(o,c,_,h,p)});_.render(c),jt(o,_)},function(){vC(o,c)}))},le.emailChangeRevocation=function(o,c,h){var p=null;Bt(o,Kt(o).checkActionCode(h).then(function(y){return p=y.data.email,Kt(o).applyActionCode(h)}).then(function(){BV(o,c,p)},function(){var y=new aC;y.render(c),jt(o,y)}))},le.emailVerification=function(o,c,h,p){Bt(o,Kt(o).applyActionCode(h).then(function(){var y=new ZT(p);y.render(c),jt(o,y)},function(){var y=new tC;y.render(c),jt(o,y)}))},le.revertSecondFactorAddition=function(o,c,h){var p=null,y=null;Bt(o,Kt(o).checkActionCode(h).then(function(_){return p=_.data.email,y=_.data.multiFactorInfo,Kt(o).applyActionCode(h)}).then(function(){UV(o,c,p,y)},function(){var _=new iC;_.render(c),jt(o,_)}))},le.verifyAndChangeEmail=function(o,c,h,p){var y=null;Bt(o,Kt(o).checkActionCode(h).then(function(_){return y=_.data.email,Kt(o).applyActionCode(h)}).then(function(){var _=new eC(y,p);_.render(c),jt(o,_)},function(){var _=new nC;_.render(c),jt(o,_)}))};function Pp(o,c){try{var h=typeof o.selectionStart=="number"}catch{h=!1}h?(o.selectionStart=c,o.selectionEnd=c):nn&&!ta("9")&&(o.type=="textarea"&&(c=o.value.substring(0,c).replace(/(\r\n|\r|\n)/g,`
`).length),o=o.createTextRange(),o.collapse(!0),o.move("character",c),o.select())}function ju(o,c,h,p,y,_){$.call(this,ET,{email:h},_,"emailLinkSignInConfirmation",{F:p,D:y}),this.l=o,this.u=c}l(ju,$),ju.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Pp(this.i(),(this.i().value||"").length),$.prototype.v.call(this)},ju.prototype.o=function(){this.u=this.l=null,$.prototype.o.call(this)},Et(ju.prototype,{i:us,M:so,w:Uc,H:$c,j:jc,U:Rn,P:An,B:Bn}),le.emailLinkConfirmation=function(o,c,h,p,y,_){var I=new ju(function(){var x=I.j();x?(I.m(),p(o,c,x,h)):I.i().focus()},function(){I.m(),xe(o,c,y||void 0)},y||void 0,mn(z(o)),yn(z(o)));I.render(c),jt(o,I),_&&I.a(_)};function Hu(o,c,h,p,y){$.call(this,ST,{ga:o},y,"emailLinkSignInLinkingDifferentDevice",{F:h,D:p}),this.i=c}l(Hu,$),Hu.prototype.v=function(){this.u(this.i),this.l().focus(),$.prototype.v.call(this)},Hu.prototype.o=function(){this.i=null,$.prototype.o.call(this)},Et(Hu.prototype,{l:Rn,u:Bn}),le.emailLinkNewDeviceLinking=function(o,c,h,p){var y=new Zo(h);if(h=y.a.a.get(wn.PROVIDER_ID)||null,ME(y,null),h){var _=new Hu(Eu(z(o),h),function(){_.m(),p(o,c,y.toString())},mn(z(o)),yn(z(o)));_.render(c),jt(o,_)}else xe(o,c)};function Rp(o){$.call(this,vT,void 0,o,"blank")}l(Rp,$);function _v(o,c,h,p,y){var _=new Rp,I=new Zo(h),x=I.a.a.get(wn.$a)||"",F=I.a.a.get(wn.Sa)||"",Y=I.a.a.get(wn.Qa)==="1",gt=DE(I),me=I.a.a.get(wn.PROVIDER_ID)||null;I=I.a.a.get(wn.vb)||null,DC(o,I);var ar=!Ic(Ec,Ct(o)),FC=p||oV(F,Ct(o)),nh=(p=aV(F,Ct(o)))&&p.a;me&&nh&&nh.providerId!==me&&(nh=null),_.render(c),jt(o,_),Bt(o,_.I(function(){var Ki=sn(null);Ki=gt&&ar||ar&&Y?pc(Error("anonymous-user-not-found")):r4(o,h).then(function(kv){if(me&&!nh)throw Error("pending-credential-not-found");return kv});var ih=null;return Ki.then(function(kv){return ih=kv,y?null:Kt(o).checkActionCode(x)}).then(function(){return ih})},[],function(Ki){FC?jV(o,_,FC,h,nh,Ki):Y?(_.m(),ft("differentDeviceError",o,c)):(_.m(),ft("emailLinkConfirmation",o,c,h,bC))},function(Ki){var ih=void 0;if(!Ki||!Ki.name||Ki.name!="cancel")switch(_.m(),Ki&&Ki.message){case"anonymous-user-not-found":ft("differentDeviceError",o,c);break;case"anonymous-user-mismatch":ft("anonymousUserMismatch",o,c);break;case"pending-credential-not-found":ft("emailLinkNewDeviceLinking",o,c,h,$V);break;default:Ki&&(ih=_e(Ki)),xe(o,c,void 0,ih)}}))}function bC(o,c,h,p){_v(o,c,p,h,!0)}function $V(o,c,h){_v(o,c,h)}function jV(o,c,h,p,y,_){var I=qe(c);c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",se("Signing in...").toString());var x=null;y=(_?s4(o,_,h,p,y):o4(o,h,p,y)).then(function(F){wi(bu,Ct(o)),wi(Ec,Ct(o)),c.h(),c.$("firebaseui-icon-done",se("Signed in!").toString()),x=setTimeout(function(){c.h(),hs(o,c,F,!0)},1e3),Bt(o,function(){c&&(c.h(),c.m()),clearTimeout(x)})},function(F){if(c.h(),c.m(),!F.name||F.name!="cancel"){F=Mu(F);var Y=_e(F);F.code=="auth/email-already-in-use"||F.code=="auth/credential-already-in-use"?(wi(bu,Ct(o)),wi(Ec,Ct(o))):F.code=="auth/invalid-email"?(Y=se("The email provided does not match the current sign-in session.").toString(),ft("emailLinkConfirmation",o,I,p,bC,null,Y)):xe(o,I,h,Y)}}),Bt(o,y)}le.emailLinkSignInCallback=_v;function zu(o,c,h,p,y,_){$.call(this,CT,{email:o,ga:c},_,"emailLinkSignInLinking",{F:p,D:y}),this.i=h}l(zu,$),zu.prototype.v=function(){this.u(this.i),this.l().focus(),$.prototype.v.call(this)},zu.prototype.o=function(){this.i=null,$.prototype.o.call(this)},Et(zu.prototype,{l:Rn,u:Bn});function HV(o,c,h,p){var y=qe(c);gv(o,c,h,function(){xe(o,y,h)},function(_){if(!_.name||_.name!="cancel"){var I=_e(_);_&&_.code=="auth/network-request-failed"?c.a(I):(c.m(),xe(o,y,h,I))}},p)}le.emailLinkSignInLinking=function(o,c,h){var p=wr(Ct(o));if(Er(Ct(o)),p){var y=p.a.providerId,_=new zu(h,Eu(z(o),y),function(){HV(o,_,h,p)},mn(z(o)),yn(z(o)));_.render(c),jt(o,_)}else xe(o,c)};function Wu(o,c,h,p,y,_){$.call(this,bT,{email:o},_,"emailLinkSignInSent",{F:p,D:y}),this.u=c,this.i=h}l(Wu,$),Wu.prototype.v=function(){var o=this;Ye(this,this.l(),function(){o.i()}),Ye(this,Jt(this,"firebaseui-id-trouble-getting-email-link"),function(){o.u()}),this.l().focus(),$.prototype.v.call(this)},Wu.prototype.o=function(){this.i=this.u=null,$.prototype.o.call(this)},Et(Wu.prototype,{l:An}),le.emailLinkSignInSent=function(o,c,h,p,y){var _=new Wu(h,function(){_.m(),ft("emailNotReceived",o,c,h,p,y)},function(){_.m(),p()},mn(z(o)),yn(z(o)));_.render(c),jt(o,_)};function qu(o,c,h,p,y,_,I){$.call(this,zT,{jc:o,Qb:c},I,"emailMismatch",{F:y,D:_}),this.l=h,this.i=p}l(qu,$),qu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),$.prototype.v.call(this)},qu.prototype.o=function(){this.i=null,$.prototype.o.call(this)},Et(qu.prototype,{u:Rn,B:An,w:Bn}),le.emailMismatch=function(o,c,h){var p=wr(Ct(o));if(p){var y=new qu(h.user.email,p.g,function(){var _=y;Er(Ct(o)),hs(o,_,h)},function(){var _=h.credential.providerId,I=qe(y);y.m(),p.a?ft("federatedLinking",o,I,p.g,_):ft("federatedSignIn",o,I,p.g,_)},mn(z(o)),yn(z(o)));y.render(c),jt(o,y)}else xe(o,c)};function Hc(o,c,h,p,y){$.call(this,wT,void 0,y,"emailNotReceived",{F:h,D:p}),this.l=o,this.i=c}l(Hc,$),Hc.prototype.v=function(){var o=this;Ye(this,this.u(),function(){o.i()}),Ye(this,this.Da(),function(){o.l()}),this.u().focus(),$.prototype.v.call(this)},Hc.prototype.Da=function(){return Jt(this,"firebaseui-id-resend-email-link")},Hc.prototype.o=function(){this.i=this.l=null,$.prototype.o.call(this)},Et(Hc.prototype,{u:An}),le.emailNotReceived=function(o,c,h,p,y){var _=new Hc(function(){gv(o,_,h,p,function(I){I=_e(I),_.a(I)},y)},function(){_.m(),xe(o,c,h)},mn(z(o)),yn(z(o)));_.render(c),jt(o,_)};function zc(o,c,h,p,y,_){$.call(this,xT,{email:o,ga:c},_,"federatedLinking",{F:p,D:y}),this.i=h}l(zc,$),zc.prototype.v=function(){this.u(this.i),this.l().focus(),$.prototype.v.call(this)},zc.prototype.o=function(){this.i=null,$.prototype.o.call(this)},Et(zc.prototype,{l:Rn,u:Bn}),le.federatedLinking=function(o,c,h,p,y){var _=wr(Ct(o));if(_&&_.a){var I=new zc(h,Eu(z(o),p),function(){Ou(o,I,p,h)},mn(z(o)),yn(z(o)));I.render(c),jt(o,I),y&&I.a(y)}else xe(o,c)},le.federatedRedirect=function(o,c,h){var p=new Rp;p.render(c),jt(o,p),c=Cc(z(o))[0],Ou(o,p,c,h)},le.federatedSignIn=function(o,c,h,p,y){var _=new zc(h,Eu(z(o),p),function(){Ou(o,_,p,h)},mn(z(o)),yn(z(o)));_.render(c),jt(o,_),y&&_.a(y)};function zV(o,c,h,p){var y=c.u();y?Bt(o,c.I(J(o.Xb,o),[h,y],function(_){return _=_.user.linkWithCredential(p).then(function(I){return hs(o,c,{user:I.user,credential:p,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo})}),Bt(o,_),_},function(_){if(!_.name||_.name!="cancel")switch(_.code){case"auth/wrong-password":on(c.i(),!1),Vn(c.B(),_e(_));break;case"auth/too-many-requests":c.a(_e(_));break;default:Ni("signInWithEmailAndPassword: "+_.message,void 0),c.a(_e(_))}})):c.i().focus()}le.passwordLinking=function(o,c,h){var p=wr(Ct(o));Er(Ct(o));var y=p&&p.a;if(y){var _=new Bc(h,function(){zV(o,_,h,y)},function(){_.m(),ft("passwordRecovery",o,c,h)},mn(z(o)),yn(z(o)));_.render(c),jt(o,_)}else xe(o,c)};function Ku(o,c,h,p,y,_){$.call(this,gT,{email:h,Ta:!!c},_,"passwordRecovery",{F:p,D:y}),this.l=o,this.u=c}l(Ku,$),Ku.prototype.v=function(){this.B(),this.H(this.l,this.u),Fn(this.i())||this.i().focus(),Vc(this,this.i(),this.l),$.prototype.v.call(this)},Ku.prototype.o=function(){this.u=this.l=null,$.prototype.o.call(this)},Et(Ku.prototype,{i:us,w:so,B:Uc,M:$c,j:jc,U:Rn,P:An,H:Bn});function WV(o,c){var h=c.j();if(h){var p=qe(c);Bt(o,c.I(J(Kt(o).sendPasswordResetEmail,Kt(o)),[h],function(){c.m();var y=new Ip(h,function(){y.m(),xe(o,p)},mn(z(o)),yn(z(o)));y.render(p),jt(o,y)},function(y){on(c.i(),!1),Vn(c.w(),_e(y))}))}else c.i().focus()}le.passwordRecovery=function(o,c,h,p,y){var _=new Ku(function(){WV(o,_)},p?void 0:function(){_.m(),xe(o,c)},h,mn(z(o)),yn(z(o)));_.render(c),jt(o,_),y&&_.a(y)},le.passwordSignIn=function(o,c,h,p){var y=new Du(function(){OV(o,y)},function(){var _=y.M();y.m(),ft("passwordRecovery",o,c,_)},h,mn(z(o)),yn(z(o)),p);y.render(c),jt(o,y)};function vv(){return Jt(this,"firebaseui-id-name")}function bv(){return Jt(this,"firebaseui-id-name-error")}function Gu(o,c,h,p,y,_,I,x,F){$.call(this,pT,{email:p,Tb:o,name:y,Ta:!!h,ia:!!x},F,"passwordSignUp",{F:_,D:I}),this.w=c,this.H=h,this.B=o}l(Gu,$),Gu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Ru(this,this.i(),this.u()),Ru(this,this.u(),this.l())):Ru(this,this.i(),this.l()),this.w&&Vc(this,this.l(),this.w),Fn(this.i())?this.B&&!Fn(this.u())?this.u().focus():this.l().focus():this.i().focus(),$.prototype.v.call(this)},Gu.prototype.o=function(){this.H=this.w=null,$.prototype.o.call(this)},Et(Gu.prototype,{i:us,U:so,ea:Uc,jb:$c,j:jc,u:vv,Bc:bv,Ja:function(){var o=vv.call(this),c=bv.call(this);Oc(this,o,function(){Nc(c)&&(on(o,!0),Fi(c))})},M:function(){var o=vv.call(this),c=bv.call(this),h=Fn(o);return h=!/^[\s\xa0]*$/.test(h==null?"":String(h)),on(o,h),h?(Fi(c),c=!0):(Vn(c,se("Enter your account name").toString()),c=!1),c?O(Fn(o)):null},l:Bu,ba:kp,lb:xp,ua:yC,P:_C,Nb:Rn,Mb:An,pa:Bn});function qV(o,c){var h=PA(z(o)),p=c.j(),y=null;h&&(y=c.M());var _=c.P();if(p){if(h)if(y)y=wt(y);else{c.u().focus();return}if(_){var I=bt.auth.EmailAuthProvider.credential(p,_);Bt(o,c.I(J(o.Yb,o),[p,_],function(x){var F={user:x.user,credential:I,operationType:x.operationType,additionalUserInfo:x.additionalUserInfo};return h?(x=x.user.updateProfile({displayName:y}).then(function(){return hs(o,c,F)}),Bt(o,x),x):hs(o,c,F)},function(x){if(!x.name||x.name!="cancel"){var F=Mu(x);switch(x=_e(F),F.code){case"auth/email-already-in-use":return KV(o,c,p,F);case"auth/too-many-requests":x=se("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":on(c.l(),!1),Vn(c.ba(),x);break;case"auth/admin-restricted-operation":ha(z(o))?(x=qe(c),c.m(),ft("handleUnauthorizedUser",o,x,p,bt.auth.EmailAuthProvider.PROVIDER_ID)):c.a(x);break;default:F="setAccountInfo: "+oA(F),Ni(F,void 0),c.a(x)}}}))}else c.l().focus()}else c.i().focus()}function KV(o,c,h,p){function y(){var I=_e(p);on(c.i(),!1),Vn(c.U(),I),c.i().focus()}var _=Kt(o).fetchSignInMethodsForEmail(h).then(function(I){I.length?y():(I=qe(c),c.m(),ft("passwordRecovery",o,I,h,!1,rI().toString()))},function(){y()});return Bt(o,_),_}le.passwordSignUp=function(o,c,h,p,y,_){function I(){x.m(),xe(o,c)}var x=new Gu(PA(z(o)),function(){qV(o,x)},y?void 0:I,h,p,mn(z(o)),yn(z(o)),_);x.render(c),jt(o,x)};function wv(){return Jt(this,"firebaseui-id-phone-confirmation-code")}function wC(){return Jt(this,"firebaseui-id-phone-confirmation-code-error")}function EC(){return Jt(this,"firebaseui-id-resend-countdown")}function Wc(o,c,h,p,y,_,I,x,F){$.call(this,KT,{phoneNumber:y},F,"phoneSignInFinish",{F:I,D:x}),this.jb=_,this.i=new gp(1e3),this.B=_,this.P=o,this.l=c,this.H=h,this.M=p}l(Wc,$),Wc.prototype.v=function(){var o=this;this.U(this.jb),ir(this.i,"tick",this.w,!1,this),this.i.start(),Ye(this,Jt(this,"firebaseui-id-change-phone-number-link"),function(){o.P()}),Ye(this,this.Da(),function(){o.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),$.prototype.v.call(this)},Wc.prototype.o=function(){this.M=this.H=this.l=this.P=null,mp(this.i),sa(this.i,"tick",this.w),this.i=null,$.prototype.o.call(this)},Wc.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(mp(this.i),sa(this.i,"tick",this.w),this.ua(),this.lb())},Et(Wc.prototype,{u:wv,pa:wC,Ja:function(o){var c=wv.call(this),h=wC.call(this);Oc(this,c,function(){Nc(h)&&(on(c,!0),Fi(h))}),o&&Pu(this,c,function(){o()})},ba:function(){var o=O(Fn(wv.call(this))||"");return/^\d{6}$/.test(o)?o:null},Fb:EC,U:function(o){u_(EC.call(this),se("Resend code in "+((9<o?"0:":"0:0")+o)).toString())},ua:function(){Fi(this.Fb())},Da:function(){return Jt(this,"firebaseui-id-resend-link")},lb:function(){Vn(this.Da())},Nb:Rn,Mb:An,ea:Bn});function GV(o,c,h,p){function y(I){c.u().focus(),on(c.u(),!1),Vn(c.pa(),I)}var _=c.ba();_?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",se("Verifying...").toString()),Bt(o,c.I(J(p.confirm,p),[_],function(I){c.h(),c.$("firebaseui-icon-done",se("Verified!").toString());var x=setTimeout(function(){c.h(),c.m();var F={user:sr(o).currentUser,credential:null,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo};hs(o,c,F,!0)},1e3);Bt(o,function(){c&&c.h(),clearTimeout(x)})},function(I){if(I.name&&I.name=="cancel")c.h();else{var x=Mu(I);switch(I=_e(x),x.code){case"auth/credential-already-in-use":c.h();break;case"auth/code-expired":x=qe(c),c.h(),c.m(),ft("phoneSignInStart",o,x,h,I);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":c.h(),y(I);break;default:c.h(),c.a(I)}}}))):y(se("Wrong code. Try again.").toString())}le.phoneSignInFinish=function(o,c,h,p,y,_){var I=new Wc(function(){I.m(),ft("phoneSignInStart",o,c,h)},function(){GV(o,I,h,y)},function(){I.m(),xe(o,c)},function(){I.m(),ft("phoneSignInStart",o,c,h)},X_(h),p,mn(z(o)),yn(z(o)));I.render(c),jt(o,I),_&&I.a(_)};var YV=!nn&&!(qt("Safari")&&!(LE()||qt("Coast")||qt("Opera")||qt("Edge")||qt("Firefox")||qt("FxiOS")||qt("Silk")||qt("Android")));function Dp(o,c){return/-[a-z]/.test(c)?null:YV&&o.dataset?!qt("Android")||LE()||qt("Firefox")||qt("FxiOS")||qt("Opera")||qt("Silk")||c in o.dataset?(o=o.dataset[c],o===void 0?null:o):null:o.getAttribute("data-"+String(c).replace(/([A-Z])/g,"-$1").toLowerCase())}function QV(o,c,h){var p=this;o=ou(oT,{items:o},null,this.s),cT.call(this,o,!0,!0),h&&(h=XV(o,h))&&(h.focus(),AV(h,o)),Ye(this,o,function(y){(y=(y=XE(y.target,"firebaseui-id-list-box-dialog-button"))&&Dp(y,"listboxid"))&&(bp.call(p),c(y))})}function XV(o,c){o=(o||document).getElementsByTagName("BUTTON");for(var h=0;h<o.length;h++)if(Dp(o[h],"listboxid")===c)return o[h];return null}function fa(){return Jt(this,"firebaseui-id-phone-number")}function IC(){return Jt(this,"firebaseui-id-country-selector")}function Ev(){return Jt(this,"firebaseui-id-phone-number-error")}function JV(o,c){var h=o.a,p=Iv("1-US-0",h),y=null;if(c&&Iv(c,h)?y=c:p?y="1-US-0":y=0<h.length?h[0].c:null,!y)throw Error("No available default country");Mp.call(this,y,o)}function Iv(o,c){return o=ua(o),!(!o||!B(c,o))}function ZV(o){return o.map(function(c){return{id:c.c,Ma:"firebaseui-flag "+Av(c),label:c.name+" "+("+"+c.b)}})}function Av(o){return"firebaseui-flag-"+o.f}function t4(o){var c=this;QV.call(this,ZV(o.a),function(h){Mp.call(c,h,o,!0),c.O().focus()},this.Ba)}function Mp(o,c,h){var p=ua(o);p&&(h&&(h=O(Fn(fa.call(this))||""),c=up(c,h),c.length&&c[0].b!=p.b&&(h="+"+p.b+h.substr(c[0].b.length+1),LA(fa.call(this),h))),c=ua(this.Ba),this.Ba=o,o=Jt(this,"firebaseui-id-country-selector-flag"),c&&Ar(o,Av(c)),Ir(o,Av(p)),u_(Jt(this,"firebaseui-id-country-selector-code"),"+"+p.b))}function Yu(o,c,h,p,y,_,I,x,F,Y){$.call(this,qT,{Gb:c,Aa:F||null,Va:!!h,ia:!!_},Y,"phoneSignInStart",{F:p,D:y}),this.H=x||null,this.M=c,this.l=o,this.w=h||null,this.pa=I||null}l(Yu,$),Yu.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Ru(this,this.O(),this.i()),Vc(this,this.i(),this.l),this.O().focus(),Pp(this.O(),(this.O().value||"").length),$.prototype.v.call(this)},Yu.prototype.o=function(){this.w=this.l=null,$.prototype.o.call(this)},Et(Yu.prototype,{Cb:fv,O:fa,B:Ev,ea:function(o,c,h){var p=this,y=fa.call(this),_=IC.call(this),I=Ev.call(this),x=o||wu,F=x.a;if(F.length==0)throw Error("No available countries provided.");JV.call(p,x,c),Ye(this,_,function(){t4.call(p,x)}),Oc(this,y,function(){Nc(I)&&(on(y,!0),Fi(I));var Y=O(Fn(y)||""),gt=ua(this.Ba),me=up(x,Y);Y=Iv("1-US-0",F),me.length&&me[0].b!=gt.b&&(gt=me[0],Mp.call(p,gt.b=="1"&&Y?"1-US-0":gt.c,x))}),h&&Pu(this,y,function(){h()})},U:function(o){var c=O(Fn(fa.call(this))||"");o=o||wu;var h=o.a,p=up(wu,c);if(p.length&&!B(h,p[0]))throw LA(fa.call(this)),fa.call(this).focus(),Vn(Ev.call(this),se("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return h=ua(this.Ba),p.length&&p[0].b!=h.b&&Mp.call(this,p[0].c,o),p.length&&(c=c.substr(p[0].b.length+1)),c?new bA(this.Ba,c):null},Ja:IC,ba:function(){return Jt(this,"firebaseui-recaptcha-container")},u:function(){return Jt(this,"firebaseui-id-recaptcha-error")},i:Rn,ua:An,P:Bn});function AC(o,c,h,p){try{var y=c.U(sv)}catch{return}y?Au?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",se("Verifying...").toString()),Bt(o,c.I(J(o.cc,o),[X_(y),h],function(_){var I=qe(c);c.$("firebaseui-icon-done",se("Code sent!").toString());var x=setTimeout(function(){c.h(),c.m(),ft("phoneSignInFinish",o,I,y,15,_)},1e3);Bt(o,function(){c&&c.h(),clearTimeout(x)})},function(_){if(c.h(),!_.name||_.name!="cancel"){grecaptcha.reset(OA),Au=null;var I=_&&_.message||"";if(_.code)switch(_.code){case"auth/too-many-requests":I=se("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":c.O().focus(),Vn(c.B(),p_().toString());return;case"auth/admin-restricted-operation":if(ha(z(o))){_=qe(c),c.m(),ft("handleUnauthorizedUser",o,_,X_(y),bt.auth.PhoneAuthProvider.PROVIDER_ID);return}I=_e(_);break;default:I=_e(_)}c.a(I)}}))):xc?Vn(c.u(),se("Solve the reCAPTCHA").toString()):!xc&&p&&c.i().click():(c.O().focus(),Vn(c.B(),p_().toString()))}le.phoneSignInStart=function(o,c,h,p){var y=uV(z(o))||{};Au=null,xc=!(y&&y.size==="invisible");var _=hC(o),I=mV(z(o)),x=_?gV(z(o)):null;I=h&&h.a||I&&I.c||null,h=h&&h.Aa||x,(x=J_(z(o)))&&vA(x),sv=x?new mA(J_(z(o))):wu;var F=new Yu(function(gt){AC(o,F,Y,!(!gt||!gt.keyCode))},xc,_?null:function(){Y.clear(),F.m(),xe(o,c)},mn(z(o)),yn(z(o)),_,sv,I,h);F.render(c),jt(o,F),p&&F.a(p),y.callback=function(gt){F.u()&&Fi(F.u()),Au=gt,xc||AC(o,F,Y)},y["expired-callback"]=function(){Au=null};var Y=new bt.auth.RecaptchaVerifier(xc?F.ba():F.i(),y,sr(o).app);Bt(o,F.I(J(Y.render,Y),[],function(gt){OA=gt},function(gt){gt.name&&gt.name=="cancel"||(gt=_e(gt),F.m(),xe(o,c,void 0,gt))}))},le.prefilledEmailSignIn=function(o,c,h){var p=new Rp;p.render(c),jt(o,p),Bt(o,p.I(J(Kt(o).fetchSignInMethodsForEmail,Kt(o)),[h],function(y){p.m();var _=!(!Tp(o)||!SC(o));fC(o,c,y,h,void 0,_)},function(y){y=_e(y),p.m(),ft("signIn",o,c,h,y)}))};function Qu(o,c,h,p,y){$.call(this,WT,{Sb:c},y,"providerSignIn",{F:h,D:p}),this.i=o}l(Qu,$),Qu.prototype.v=function(){this.l(this.i),$.prototype.v.call(this)},Qu.prototype.o=function(){this.i=null,$.prototype.o.call(this)},Et(Qu.prototype,{l:function(o){function c(I){o(I)}for(var h=this.g?c_("firebaseui-id-idp-button",this.g||this.s.a):[],p=0;p<h.length;p++){var y=h[p],_=Dp(y,"providerId");Ye(this,y,pt(c,_))}}}),le.providerSignIn=function(o,c,h,p){var y=new Qu(function(_){_==bt.auth.EmailAuthProvider.PROVIDER_ID?(y.m(),mv(o,c,p)):_==bt.auth.PhoneAuthProvider.PROVIDER_ID?(y.m(),ft("phoneSignInStart",o,c)):_=="anonymous"?DV(o,y):Ou(o,y,_,p),Zt(o),o.l.cancel()},AA(z(o)),mn(z(o)),yn(z(o)));y.render(c),jt(o,y),h&&y.a(h),i4(o)},le.sendEmailLinkForSignIn=function(o,c,h,p){var y=new Cp;y.render(c),jt(o,y),gv(o,y,h,p,function(_){y.m(),_&&_.code=="auth/admin-restricted-operation"&&ha(z(o))?ft("handleUnauthorizedUser",o,c,h,bt.auth.EmailAuthProvider.PROVIDER_ID):(_=_e(_),ft("signIn",o,c,h,_))})};function Xu(o,c,h,p,y,_,I){$.call(this,dT,{email:h,Va:!!c,ia:!!_},I,"signIn",{F:p,D:y}),this.i=o,this.u=c}l(Xu,$),Xu.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Pp(this.l(),(this.l().value||"").length),$.prototype.v.call(this)},Xu.prototype.o=function(){this.u=this.i=null,$.prototype.o.call(this)},Et(Xu.prototype,{l:us,M:so,w:Uc,H:$c,j:jc,U:Rn,P:An,B:Bn}),le.signIn=function(o,c,h,p){var y=Tp(o),_=new Xu(function(){var I=_,x=I.j()||"";x&&dC(o,I,x)},y?null:function(){_.m(),xe(o,c,h)},h,mn(z(o)),yn(z(o)),y);_.render(c),jt(o,_),p&&_.a(p)};function Ju(o,c,h,p,y,_,I){$.call(this,kT,{kc:o,yb:h,Eb:!!p},I,"unauthorizedUser",{F:y,D:_}),this.l=c,this.i=p}l(Ju,$),Ju.prototype.v=function(){var o=this,c=Jt(this,"firebaseui-id-unauthorized-user-help-link");this.i&&c&&Ye(this,c,function(){o.i()}),Ye(this,this.u(),function(){o.l()}),this.u().focus(),$.prototype.v.call(this)},Ju.prototype.o=function(){this.i=this.l=null,$.prototype.o.call(this)},Et(Ju.prototype,{u:An}),le.handleUnauthorizedUser=function(o,c,h,p){function y(){xe(o,c)}p===bt.auth.EmailAuthProvider.PROVIDER_ID?y=function(){mv(o,c)}:p===bt.auth.PhoneAuthProvider.PROVIDER_ID&&(y=function(){ft("phoneSignInStart",o,c)});var _=null,I=null;p===bt.auth.EmailAuthProvider.PROVIDER_ID&&CA(z(o))?(_=fV(z(o)),I=pV(z(o))):ha(z(o))&&(_=hV(z(o)),I=dV(z(o)));var x=new Ju(h,function(){x.m(),y()},_,I,mn(z(o)),yn(z(o)));x.render(c),jt(o,x)};function Zu(o,c,h,p,y,_){$.call(this,PT,{email:o},_,"unsupportedProvider",{F:p,D:y}),this.l=c,this.i=h}l(Zu,$),Zu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),$.prototype.v.call(this)},Zu.prototype.o=function(){this.i=this.l=null,$.prototype.o.call(this)},Et(Zu.prototype,{u:Rn,B:An,w:Bn}),le.unsupportedProvider=function(o,c,h){var p=new Zu(h,function(){p.m(),ft("passwordRecovery",o,c,h)},function(){p.m(),xe(o,c,h)},mn(z(o)),yn(z(o)));p.render(c),jt(o,p)};function Tr(o,c){this.$=!1;var h=Tv(c);if(th[h])throw Error('An AuthUI instance already exists for the key "'+h+'"');th[h]=this,this.a=o,this.u=null,this.Y=!1,TC(this.a),this.h=bt.initializeApp({apiKey:o.app.options.apiKey,authDomain:o.app.options.authDomain},o.app.name+"-firebaseui-temp").auth(),(o=o.emulatorConfig)&&(h=o.port,this.h.useEmulator(o.protocol+"://"+o.host+(h===null?"":":"+h),o.options)),TC(this.h),this.h.setPersistence&&this.h.setPersistence(bt.auth.Auth.Persistence.SESSION),this.oa=c,this.ca=new lV,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=P_.Xa(),this.j=this.C=null,this.da=this.A=!1}function TC(o){o&&o.INTERNAL&&o.INTERNAL.logFramework&&o.INTERNAL.logFramework("FirebaseUI-web")}var th={};function Tv(o){return o||"[DEFAULT]"}function CC(o){return Zt(o),o.i||(o.i=ds(o,function(c){return c&&!wr(Ct(o))?sn(sr(o).getRedirectResult().then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return ao(o,h)})):sn(Kt(o).getRedirectResult().then(function(h){return hp(z(o))&&!h.user&&o.j&&!o.j.isAnonymous?sr(o).getRedirectResult():h}))})),o.i}function jt(o,c){Zt(o),o.g=c}var qc=null;function Kt(o){return Zt(o),o.h}function sr(o){return Zt(o),o.a}function Ct(o){return Zt(o),o.oa}function SC(o){return Zt(o),o.O?o.O.emailHint:void 0}e=Tr.prototype,e.nb=function(){return Zt(this),!!q_(Ct(this))||xC(ls())};function xC(o){return o=new Zo(o),(o.a.a.get(wn.ub)||null)==="signIn"&&!!o.a.a.get(wn.$a)}e.start=function(o,c){kC(this,o,c)};function kC(o,c,h,p){Zt(o),typeof o.a.languageCode<"u"&&(o.u=o.a.languageCode);var y="en".replace(/_/g,"-");o.a.languageCode=y,o.h.languageCode=y,o.Y=!0,typeof o.a.tenantId<"u"&&(o.h.tenantId=o.a.tenantId),o.ib(h),o.O=p||null;var _=g.document;o.C?o.C.then(function(){_.readyState=="complete"?Op(o,c):hu(window,"load",function(){Op(o,c)})}):_.readyState=="complete"?Op(o,c):hu(window,"load",function(){Op(o,c)})}function Op(o,c){var h=Hf(c,"Could not find the FirebaseUI widget element on the page.");if(h.setAttribute("lang","en".replace(/_/g,"-")),qc){var p=qc;Zt(p),wr(Ct(p))&&io("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),qc.reset()}if(qc=o,o.T=h,n4(o,h),lp(new j_)&&lp(new H_)){c=Hf(c,"Could not find the FirebaseUI widget element on the page."),h=ls(),p=Y_(z(o).a,"queryParameterForSignInSuccessUrl"),h=(h=Sf(h,p))?Qs(kf(h)).toString():null;t:{p=ls();var y=kA(z(o));p=Sf(p,y)||"";for(_ in rv)if(rv[_].toLowerCase()==p.toLowerCase()){var _=rv[_];break t}_="callback"}switch(_){case"callback":h&&(_=Ct(o),Ac(vu,h,_)),o.nb()?ft("callback",o,c):xe(o,c,SC(o));break;case"resetPassword":ft("passwordReset",o,c,Nu(),yv());break;case"recoverEmail":ft("emailChangeRevocation",o,c,Nu());break;case"revertSecondFactorAddition":ft("revertSecondFactorAddition",o,c,Nu());break;case"verifyEmail":ft("emailVerification",o,c,Nu(),yv());break;case"verifyAndChangeEmail":ft("verifyAndChangeEmail",o,c,Nu(),yv());break;case"signIn":ft("emailLinkSignInCallback",o,c,ls()),MC();break;case"select":h&&(_=Ct(o),Ac(vu,h,_)),xe(o,c);break;default:throw Error("Unhandled widget operation.")}c=z(o),(c=Iu(c).uiShown||null)&&c()}else c=Hf(c,"Could not find the FirebaseUI widget element on the page."),_=new lC(se("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),_.render(c),jt(o,_);c=o.g&&o.g.Ga=="blank"&&Z_(z(o)),q_(Ct(o))&&!c&&(c=q_(Ct(o)),DC(o,c.a),wi(la,Ct(o)))}function ds(o,c){if(o.A)return c(PC(o));if(Bt(o,function(){o.A=!1}),hp(z(o))){var h=new In(function(p){Bt(o,o.a.onAuthStateChanged(function(y){o.j=y,o.A||(o.A=!0,p(c(PC(o))))}))});return Bt(o,h),h}return o.A=!0,c(null)}function PC(o){return Zt(o),hp(z(o))&&o.j&&o.j.isAnonymous?o.j:null}function Bt(o,c){if(Zt(o),c){o.s.push(c);var h=function(){ae(o.s,function(p){return p==c})};typeof c!="function"&&c.then(h,h)}}e.Db=function(){Zt(this),this.Z=!0};function e4(o){Zt(o);var c;return(c=o.Z)||(o=z(o),o=xA(o,bt.auth.GoogleAuthProvider.PROVIDER_ID),c=!(!o||o.prompt!=="select_account")),c}function RC(o){typeof o.a.languageCode<"u"&&o.Y&&(o.Y=!1,o.a.languageCode=o.u)}function DC(o,c){o.a.tenantId=c,o.h.tenantId=c}e.reset=function(){Zt(this);var o=this;this.T&&this.T.removeAttribute("lang"),this.J&&LF(this.J),RC(this),this.O=null,MC(),wi(la,Ct(this)),Zt(this),this.l.cancel(),this.i=sn({user:null,credential:null}),qc==this&&(qc=null),this.T=null;for(var c=0;c<this.s.length;c++)typeof this.s[c]=="function"?this.s[c]():this.s[c].cancel&&this.s[c].cancel();this.s=[],Er(Ct(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=oo(this).then(function(){o.C=null},function(){o.C=null}))};function n4(o,c){o.L=null,o.J=new $f(c),o.J.register(),ir(o.J,"pageEnter",function(h){if(h=h&&h.pageId,o.L!=h){var p=z(o);(p=Iu(p).uiChanged||null)&&p(o.L,h),o.L=h}})}e.ib=function(o){Zt(this);var c=this.ca,h;for(h in o)try{G_(c.a,h,o[h])}catch{Ni('Invalid config: "'+h+'"',void 0)}iF&&G_(c.a,"popupMode",!1),J_(c),!this.da&&tv(z(this))&&(io("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function z(o){return Zt(o),o.ca}e.Wb=function(){Zt(this);var o=z(this),c=Y_(o.a,"widgetUrl");o=kA(o);for(var h=c.search(xE),p=0,y,_=[];0<=(y=SE(c,p,o,h));)_.push(c.substring(p,y)),p=Math.min(c.indexOf("&",y)+1||h,h);_.push(c.substr(p)),c=_.join("").replace(qL,"$1"),h="="+encodeURIComponent("select"),(o+=h)?(h=c.indexOf("#"),0>h&&(h=c.length),p=c.indexOf("?"),0>p||p>h?(p=h,y=""):y=c.substring(p+1,h),c=[c.substr(0,p),y,c.substr(h)],h=c[1],c[1]=o?h?h+"&"+o:o:h,h=c[0]+(c[1]?"?"+c[1]:"")+c[2]):h=c,z(this).a.get("popupMode")?(o=(window.screen.availHeight-600)/2,c=(window.screen.availWidth-500)/2,h=h||"about:blank",o={width:500,height:600,top:0<o?o:0,left:0<c?c:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},o.target=o.target||h.target||"google_popup",o.width=o.width||690,o.height=o.height||500,(o=PI(h,o))&&o.focus()):fc(window.location,h)};function Zt(o){if(o.$)throw Error("AuthUI instance is deleted!")}e.Wa=function(){var o=this;return Zt(this),this.h.app.delete().then(function(){var c=Tv(Ct(o));delete th[c],o.reset(),o.$=!0})};function i4(o){Zt(o);try{LI(o.l,TA(z(o)),e4(o)).then(function(c){return o.g?MV(o,o.g,c):!1})}catch{}}e.Ib=function(o,c){Zt(this);var h=this,p=HF();if(!Sc(z(this)))return pc(Error("Email link sign-in should be enabled to trigger email sending."));var y=_V(z(this)),_=new Zo(y.url);return ZL(_,p),c&&c.a&&(cV(p,c,Ct(this)),ME(_,c.a.providerId)),tF(_,yV(z(this))),ds(this,function(I){return I&&((I=I.uid)?_.a.a.set(wn.Pa,I):Jo(_.a.a,wn.Pa)),y.url=_.toString(),Kt(h).sendSignInLinkToEmail(o,y)}).then(function(){var I=Ct(h),x={};x.email=o,Ac(Ec,iA(p,JSON.stringify(x)),I)},function(I){throw wi(bu,Ct(h)),wi(Ec,Ct(h)),I})};function r4(o,c){var h=DE(new Zo(c));return h?(c=new In(function(p,y){var _=sr(o).onAuthStateChanged(function(I){_(),I&&I.isAnonymous&&I.uid===h?p(I):I&&I.isAnonymous&&I.uid!==h?y(Error("anonymous-user-mismatch")):y(Error("anonymous-user-not-found"))});Bt(o,_)}),Bt(o,c),c):sn(null)}function s4(o,c,h,p,y){Zt(o);var _=y||null,I=bt.auth.EmailAuthProvider.credentialWithLink(h,p);return h=_?Kt(o).signInWithEmailLink(h,p).then(function(x){return x.user.linkWithCredential(_)}).then(function(){return oo(o)}).then(function(){return ao(o,{code:"auth/email-already-in-use"},_)}):Kt(o).fetchSignInMethodsForEmail(h).then(function(x){return x.length?ao(o,{code:"auth/email-already-in-use"},I):c.linkWithCredential(I)}),Bt(o,h),h}function o4(o,c,h,p){Zt(o);var y=p||null,_;return c=Kt(o).signInWithEmailLink(c,h).then(function(I){if(_={user:I.user,credential:null,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo},y)return I.user.linkWithCredential(y).then(function(x){_={user:x.user,credential:y,operationType:_.operationType,additionalUserInfo:x.additionalUserInfo}})}).then(function(){oo(o)}).then(function(){return sr(o).updateCurrentUser(_.user)}).then(function(){return _.user=sr(o).currentUser,_}),Bt(o,c),c}function MC(){var o=ls();if(xC(o)){o=new Zo(o);for(var c in wn)wn.hasOwnProperty(c)&&Jo(o.a.a,wn[c]);c={state:"signIn",mode:"emailLink",operation:"clear"};var h=g.document.title;g.history&&g.history.replaceState&&g.history.replaceState(c,h,o.toString())}}e.bc=function(o,c){Zt(this);var h=this;return Kt(this).signInWithEmailAndPassword(o,c).then(function(p){return ds(h,function(y){return y?oo(h).then(function(){return ao(h,{code:"auth/email-already-in-use"},bt.auth.EmailAuthProvider.credential(o,c))}):p})})},e.Yb=function(o,c){Zt(this);var h=this;return ds(this,function(p){if(p){var y=bt.auth.EmailAuthProvider.credential(o,c);return p.linkWithCredential(y)}return Kt(h).createUserWithEmailAndPassword(o,c)})},e.ac=function(o){Zt(this);var c=this;return ds(this,function(h){return h?h.linkWithCredential(o).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return ao(c,p,o)}):Kt(c).signInWithCredential(o)})};function a4(o,c){return Zt(o),ds(o,function(h){return h&&!wr(Ct(o))?h.linkWithPopup(c).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return ao(o,p)}):Kt(o).signInWithPopup(c)})}e.dc=function(o){Zt(this);var c=this,h=this.i;return this.i=null,ds(this,function(p){return p&&!wr(Ct(c))?p.linkWithRedirect(o):Kt(c).signInWithRedirect(o)}).then(function(){},function(p){throw c.i=h,p})},e.cc=function(o,c){Zt(this);var h=this;return ds(this,function(p){return p?p.linkWithPhoneNumber(o,c).then(function(y){return new D_(y,function(_){if(_.code=="auth/credential-already-in-use")return ao(h,_);throw _})}):sr(h).signInWithPhoneNumber(o,c).then(function(y){return new D_(y)})})},e.$b=function(){return Zt(this),sr(this).signInAnonymously()};function c4(o,c){return Zt(o),ds(o,function(h){if(o.j&&!o.j.isAnonymous&&hp(z(o))&&!Kt(o).currentUser)return oo(o).then(function(){return c.credential.providerId=="password"&&(c.credential=null),c});if(h)return oo(o).then(function(){return h.linkWithCredential(c.credential)}).then(function(p){return c.user=p.user,c.credential=p.credential,c.operationType=p.operationType,c.additionalUserInfo=p.additionalUserInfo,c},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return ao(o,p,c.credential)});if(!c.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return oo(o).then(function(){return sr(o).updateCurrentUser(c.user)}).then(function(){return c.user=sr(o).currentUser,c.operationType="signIn",c.credential&&c.credential.providerId&&c.credential.providerId=="password"&&(c.credential=null),c})})}e.Xb=function(o,c){return Zt(this),Kt(this).signInWithEmailAndPassword(o,c)};function oo(o){return Zt(o),Kt(o).signOut()}function ao(o,c,h){if(Zt(o),c&&c.code&&(c.code=="auth/email-already-in-use"||c.code=="auth/credential-already-in-use")){var p=MA(z(o));return sn().then(function(){return p(new au("anonymous-upgrade-merge-conflict",null,h||c.credential))}).then(function(){throw o.g&&(o.g.m(),o.g=null),c})}return pc(c)}function eh(o,c,h,p){$.call(this,QT,void 0,p,"providerMatchByEmail",{F:c,D:h}),this.i=o}l(eh,$),eh.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Pp(this.l(),(this.l().value||"").length),$.prototype.v.call(this)},eh.prototype.o=function(){this.i=null,$.prototype.o.call(this)},Et(eh.prototype,{l:us,H:so,u:Uc,B:$c,j:jc,M:Rn,w:Bn});function Np(o,c,h,p,y){$.call(this,YT,{ec:c},y,"selectTenant",{F:h,D:p}),this.i=o}l(Np,$),Np.prototype.v=function(){l4(this,this.i),$.prototype.v.call(this)},Np.prototype.o=function(){this.i=null,$.prototype.o.call(this)};function l4(o,c){function h(x){c(x)}for(var p=o.g?c_("firebaseui-id-tenant-selection-button",o.g||o.s.a):[],y=0;y<p.length;y++){var _=p[y],I=Dp(_,"tenantId");Ye(o,_,pt(h,I))}}function Cv(o){$.call(this,_T,void 0,o,"spinner")}l(Cv,$);function u4(o){this.a=new K_,gn(this.a,"authDomain"),gn(this.a,"displayMode",Fp),gn(this.a,"tenants"),gn(this.a,"callbacks"),gn(this.a,"tosUrl"),gn(this.a,"privacyPolicyUrl");for(var c in o)if(o.hasOwnProperty(c))try{G_(this.a,c,o[c])}catch{Ni('Invalid config: "'+c+'"',void 0)}}function h4(o){o=o.a.get("displayMode");for(var c in xv)if(xv[c]===o)return xv[c];return Fp}function Lp(o){return o.a.get("callbacks")||{}}function OC(o){var c=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,c&&!o&&io("Privacy Policy URL is missing, the link will not be displayed."),c&&o){if(typeof c=="function")return c;if(typeof c=="string")return function(){mc(c)}}return null}function NC(o){var c=o.a.get("tosUrl")||null,h=o.a.get("privacyPolicyUrl")||null;if(h&&!c&&io("Terms of Service URL is missing, the link will not be displayed."),c&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){mc(h)}}return null}function Sv(o,c){if(o=o.a.get("tenants"),!o||!o.hasOwnProperty(c)&&!o.hasOwnProperty(Vp))throw Error("Invalid tenant configuration!")}function LC(o,c,h){if(o=o.a.get("tenants"),!o)throw Error("Invalid tenant configuration!");var p=[];if(o=o[c]||o[Vp],!o)return Ni("Invalid tenant configuration: "+(c+" is not configured!"),void 0),p;if(c=o.signInOptions,!c)throw Error("Invalid tenant configuration: signInOptions are invalid!");return c.forEach(function(y){if(typeof y=="string")p.push(y);else if(typeof y.provider=="string"){var _=y.hd;_&&h?(_ instanceof RegExp?_:new RegExp("@"+_.replace(".","\\.")+"$")).test(h)&&p.push(y.provider):p.push(y.provider)}else y="Invalid tenant configuration: signInOption "+(JSON.stringify(y)+" is invalid!"),Ni(y,void 0)}),p}function d4(o,c,h){return o=f4(o,c),(c=o.signInOptions)&&h&&(c=c.filter(function(p){return typeof p=="string"?h.includes(p):h.includes(p.provider)}),o.signInOptions=c),o}function f4(o,c){var h=p4,p=p===void 0?{}:p;return Sv(o,c),o=o.a.get("tenants"),zF(o[c]||o[Vp],h,p)}var p4=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Fp="optionFirst",xv={pc:Fp,oc:"identifierFirst"},Vp="*";function or(o,c){var h=this;this.s=Hf(o),this.a={},Object.keys(c).forEach(function(p){h.a[p]=new u4(c[p])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(p){this.ob=p||null},enumerable:!1})}e=or.prototype,e.Ub=function(o,c){var h=this;co(this);var p=o.apiKey;return new In(function(y,_){if(h.a.hasOwnProperty(p)){var I=Lp(h.a[p]).selectTenantUiHidden||null;if(h4(h.a[p])===Fp){var x=[];c.forEach(function(gt){gt=gt||"_";var me=h.a[p].a.get("tenants");if(!me)throw Error("Invalid tenant configuration!");(me=me[gt]||me[Vp])?gt={tenantId:gt!=="_"?gt:null,V:me.fullLabel||null,displayName:me.displayName,za:me.iconUrl,ta:me.buttonColor}:(Ni("Invalid tenant configuration: "+(gt+" is not configured!"),void 0),gt=null),gt&&x.push(gt)});var F=function(gt){gt={tenantId:gt,providerIds:LC(h.a[p],gt||"_")},y(gt)};if(x.length===1){F(x[0].tenantId);return}h.g=new Np(function(gt){co(h),I&&I(),F(gt)},x,OC(h.a[p]),NC(h.a[p]))}else h.g=new eh(function(){var gt=h.g.j();if(gt){for(var me=0;me<c.length;me++){var ar=LC(h.a[p],c[me]||"_",gt);if(ar.length!==0){gt={tenantId:c[me],providerIds:ar,email:gt},co(h),I&&I(),y(gt);return}}h.g.a(sI({code:"no-matching-tenant-for-email"}).toString())}},OC(h.a[p]),NC(h.a[p]));h.g.render(h.s),(_=Lp(h.a[p]).selectTenantUiShown||null)&&_()}else{var Y=Error("Invalid project configuration: API key is invalid!");Y.code="invalid-configuration",h.pb(Y),_(Y)}})},e.Pb=function(o,c){if(!this.a.hasOwnProperty(o))throw Error("Invalid project configuration: API key is invalid!");var h=c||void 0;Sv(this.a[o],c||"_");try{this.i=bt.app(h).auth()}catch{var p=this.a[o].a.get("authDomain");if(!p)throw Error("Invalid project configuration: authDomain is required!");o=bt.initializeApp({apiKey:o,authDomain:p},h),o.auth().tenantId=c,this.i=o.auth()}return this.i},e.Zb=function(o,c){var h=this;return new In(function(p,y){function _(me,ar){h.j=new Tr(o),kC(h.j,h.s,me,ar)}var I=o.app.options.apiKey;h.a.hasOwnProperty(I)||y(Error("Invalid project configuration: API key is invalid!"));var x=d4(h.a[I],o.tenantId||"_",c&&c.providerIds);co(h),y={signInSuccessWithAuthResult:function(me){return p(me),!1}};var F=Lp(h.a[I]).signInUiShown||null,Y=!1;y.uiChanged=function(me,ar){me===null&&ar==="callback"?((me=l_("firebaseui-id-page-callback",h.s))&&Fi(me),h.h=new Cv,h.h.render(h.s)):Y||me===null&&ar==="spinner"||ar==="blank"||(h.h&&(h.h.m(),h.h=null),Y=!0,F&&F(o.tenantId))},x.callbacks=y,x.credentialHelper="none";var gt;c&&c.email&&(gt={emailHint:c.email}),h.j?h.j.Wa().then(function(){_(x,gt)}):_(x,gt)})},e.reset=function(){var o=this;return sn().then(function(){o.j&&o.j.Wa()}).then(function(){o.j=null,co(o)})},e.Vb=function(){var o=this;this.h||this.A||(this.A=window.setTimeout(function(){co(o),o.h=new Cv,o.g=o.h,o.h.render(o.s),o.A=null},500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return co(this),this.g=new rC,this.g.render(this.s),sn()};function co(o){o.j&&o.j.reset(),o.mb(),o.g&&o.g.m()}e.pb=function(o){var c=this,h=sI({code:o.code}).toString()||o.message;co(this);var p;o.retry&&typeof o.retry=="function"&&(p=function(){c.reset(),o.retry()}),this.g=new cC(h,p),this.g.render(this.s)},e.Rb=function(o){var c=this;return sn().then(function(){var h=c.i&&c.i.app.options.apiKey;if(!c.a.hasOwnProperty(h))throw Error("Invalid project configuration: API key is invalid!");if(Sv(c.a[h],o.tenantId||"_"),!c.i.currentUser||c.i.currentUser.uid!==o.uid)throw Error("The user being processed does not match the signed in user!");return(h=Lp(c.a[h]).beforeSignInSuccess||null)?h(o):o}).then(function(h){if(h.uid!==o.uid)throw Error("User with mismatching UID returned.");return h})},yt("firebaseui.auth.FirebaseUiHandler",or),yt("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",or.prototype.Ub),yt("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",or.prototype.Pb),yt("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",or.prototype.Zb),yt("firebaseui.auth.FirebaseUiHandler.prototype.reset",or.prototype.reset),yt("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",or.prototype.Vb),yt("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",or.prototype.mb),yt("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",or.prototype.Bb),yt("firebaseui.auth.FirebaseUiHandler.prototype.handleError",or.prototype.pb),yt("firebaseui.auth.FirebaseUiHandler.prototype.processUser",or.prototype.Rb),yt("firebaseui.auth.AuthUI",Tr),yt("firebaseui.auth.AuthUI.getInstance",function(o){return o=Tv(o),th[o]?th[o]:null}),yt("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Tr.prototype.Db),yt("firebaseui.auth.AuthUI.prototype.start",Tr.prototype.start),yt("firebaseui.auth.AuthUI.prototype.setConfig",Tr.prototype.ib),yt("firebaseui.auth.AuthUI.prototype.signIn",Tr.prototype.Wb),yt("firebaseui.auth.AuthUI.prototype.reset",Tr.prototype.reset),yt("firebaseui.auth.AuthUI.prototype.delete",Tr.prototype.Wa),yt("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Tr.prototype.nb),yt("firebaseui.auth.AuthUIError",au),yt("firebaseui.auth.AuthUIError.prototype.toJSON",au.prototype.toJSON),yt("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",ev),yt("firebaseui.auth.CredentialHelper.NONE",fp),yt("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),In.prototype.catch=In.prototype.Ca,In.prototype.finally=In.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=IK);var lk=firebaseui.auth;const Ps="/assets/SmarTrack-D0rcOicC.png",AK={name:"Login",data(){return{email:""}},mounted(){Wt();var e=lk.AuthUI.getInstance();e||(e=new lk.AuthUI(bt.auth()));var t={signInSuccessUrl:"/home",signInOptions:[bt.auth.GoogleAuthProvider.PROVIDER_ID]};e.start("#firebaseui-auth-container",t)},methods:{async signUp(){const e=Wt(),t={url:window.location.origin,handleCodeInApp:!0};console.log(t),await AO(e,this.email,t),window.alert("Check your email for sign in link."),this.email="",TO(e,window.location.href)&&await CO(e,this.email,window.location.href)}}},pf=e=>(ze("data-v-349099fe"),e=e(),We(),e),TK={class:"login-container"},CK=pf(()=>T("img",{id:"bg",src:Ps,alt:"",class:"center"},null,-1)),SK=pf(()=>T("div",{id:"pagecontent"},[te(" Make the best of your financial tools "),T("br"),te(" Sign in to get started! ")],-1)),xK=pf(()=>T("div",{id:"firebaseui-auth-container"},null,-1)),kK=pf(()=>T("h2",null," Sign in via your email address ",-1)),PK=pf(()=>T("button",{class:"button-6",type:"submit"},"Sign In",-1));function RK(e,t,n,i,r,s){return H(),G("div",TK,[CK,SK,xK,kK,T("form",{onSubmit:t[1]||(t[1]=dw((...a)=>s.signUp&&s.signUp(...a),["prevent"]))},[Qe(T("input",{class:"input-1",type:"email","onUpdate:modelValue":t[0]||(t[0]=a=>r.email=a),placeholder:"Enter your email"},null,512),[[Ds,r.email]]),PK],32)])}const DK=Vt(AK,[["render",RK],["__scopeId","data-v-349099fe"]]),MK={name:"NotFound",components:{Logout:V1},data(){return{user:!1}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})}},OK={key:0,style:{"text-align":"center"}},NK=T("h3",null,"Page Not Found !!",-1),LK=T("h4",null,"Please click logout",-1),FK=T("br",null,null,-1);function VK(e,t,n,i,r,s){const a=mt("Logout");return r.user?(H(),G("div",OK,[NK,LK,lt(a),FK])):Ee("",!0)}const BK=Vt(MK,[["render",VK]]),UK={data(){return{user:!1,searchTerm:""}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})},methods:{emitSearch(){this.$emit("search",this.searchTerm)}}},$K={key:0,class:"search-container"};function jK(e,t,n,i,r,s){return r.user?(H(),G("div",$K,[Qe(T("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>r.searchTerm=a),placeholder:"Search for a card",class:"search-input",onKeyup:t[1]||(t[1]=N3((...a)=>s.emitSearch&&s.emitSearch(...a),["enter"]))},null,544),[[Ds,r.searchTerm]]),T("button",{class:"search-button",onClick:t[2]||(t[2]=(...a)=>s.emitSearch&&s.emitSearch(...a))})])):Ee("",!0)}const $1=Vt(UK,[["render",jK],["__scopeId","data-v-c6460430"]]),HK={mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})},data(){return{user:!1,minCashback:0,maxAnnualFee:1e3}},computed:{formattedMinCashback(){return`${this.minCashback}%`},formattedMaxAnnualFee(){return`$${this.maxAnnualFee}`}},methods:{clearFilters(){this.minCashback=0,this.maxAnnualFee=1e3,this.emitFilter()},emitFilter(){this.$emit("update-filter",{minCashback:this.minCashback,maxAnnualFee:this.maxAnnualFee})}}},gf=e=>(ze("data-v-22d51f76"),e=e(),We(),e),zK={key:0,class:"filter-section"},WK={class:"filter-header"},qK=gf(()=>T("h2",null,"Filter",-1)),KK={class:"filter-group"},GK=gf(()=>T("label",{for:"min-cashback"},"Minimum Cashback",-1)),YK={class:"slider-value"},QK=gf(()=>T("div",{class:"range-labels"},[T("span",null,"0%"),T("span",null,"5%"),T("span",null,"10%")],-1)),XK={class:"filter-group"},JK=gf(()=>T("label",{for:"max-annual-fee"},"Max Annual Fee",-1)),ZK={class:"slider-value"},tG=gf(()=>T("div",{class:"range-labels"},[T("span",null,"$0"),T("span",null,"$500"),T("span",null,"$1000")],-1));function eG(e,t,n,i,r,s){return r.user?(H(),G("div",zK,[T("div",WK,[qK,T("button",{class:"clear-btn",onClick:t[0]||(t[0]=(...a)=>s.clearFilters&&s.clearFilters(...a))},"Clear All")]),T("div",KK,[GK,T("div",YK,Ht(s.formattedMinCashback),1),Qe(T("input",{type:"range",id:"min-cashback","onUpdate:modelValue":t[1]||(t[1]=a=>r.minCashback=a),min:"0",max:"10",step:"0.1",onInput:t[2]||(t[2]=(...a)=>s.emitFilter&&s.emitFilter(...a))},null,544),[[Ds,r.minCashback,void 0,{number:!0}]]),QK]),T("div",XK,[JK,T("div",ZK,Ht(s.formattedMaxAnnualFee),1),Qe(T("input",{type:"range",id:"max-annual-fee","onUpdate:modelValue":t[3]||(t[3]=a=>r.maxAnnualFee=a),min:"0",max:"1000",step:"50",onInput:t[4]||(t[4]=(...a)=>s.emitFilter&&s.emitFilter(...a))},null,544),[[Ds,r.maxAnnualFee,void 0,{number:!0}]]),tG])])):Ee("",!0)}const j1=Vt(HK,[["render",eG],["__scopeId","data-v-22d51f76"]]),nG=ye(Ae),iG={data(){return{user:null,cardName1:"",selected:""}},props:{isVisible:Boolean,userEmail:String},emits:["confirmed"],mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})},methods:{async confirm(){if(!this.selected){alert("Please select a card name.");return}try{const e=Gt(nG,"Users",this.user.email);console.log(e),(await he(e)).exists()&&(await Qn(e,{Inventory:Ka(this.selected)}),alert("Confirming your data for card: "+this.selected),this.$emit("confirmed",this.selected),console.log("Added",this.selected))}catch(e){console.error("Error adding card: ",e)}}}},vr=e=>(ze("data-v-21dd6c30"),e=e(),We(),e),rG={class:"backdrop"},sG={class:"container"},oG={class:"myform"},aG=vr(()=>T("button",{id:"delete-button"},"x",-1)),cG=vr(()=>T("h2",null,"Add Card",-1)),lG=vr(()=>T("div",{class:"label"},"Card Name",-1)),uG=vr(()=>T("option",{id:"option",value:"",disabled:"",selected:""},"Select Card Name",-1)),hG=vr(()=>T("option",null,"Citi Cash Back+ Mastercard",-1)),dG=vr(()=>T("option",null,"DBS Visa Debit Card",-1)),fG=vr(()=>T("option",null,"OCBC Debit Card",-1)),pG=vr(()=>T("option",null,"Standard Chartered Simply Cash Credit Card",-1)),gG=vr(()=>T("option",null,"UOB One Card",-1)),mG=[uG,hG,dG,fG,pG,gG],yG=vr(()=>T("br",null,null,-1)),_G=vr(()=>T("br",null,null,-1)),vG={class:"confirm"};function bG(e,t,n,i,r,s){return H(),G(Lt,null,[Qe(T("div",rG,null,512),[[lS,n.isVisible]]),Qe(T("div",sG,[T("form",oG,[aG,cG,lG,Qe(T("select",{id:"cardName1","onUpdate:modelValue":t[0]||(t[0]=a=>r.selected=a)},mG,512),[[Xi,r.selected]]),yG,_G,T("div",vG,[T("button",{id:"confirm-button",type:"button",onClick:t[1]||(t[1]=(...a)=>s.confirm&&s.confirm(...a))}," Confirm ")])])],512),[[lS,n.isVisible]])],64)}const tN=Vt(iG,[["render",bG],["__scopeId","data-v-21dd6c30"]]),wG="modulepreload",EG=function(e){return"/"+e},uk={},Fe=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.all(n.map(u=>{if(u=EG(u),u in uk)return;uk[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!i)for(let v=s.length-1;v>=0;v--){const E=s[v];if(E.href===u&&(!d||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":wG,d||(m.as="script",m.crossOrigin=""),m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((v,E)=>{m.addEventListener("load",v),m.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})}))}return r.then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},Md=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((i,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})},IG="/assets/delete_button-BxR7dag6.png",AG={props:{card:{type:String,required:!0}},data(){return{imageUrl:Ps}},created(){this.setImageUrl(this.card)},methods:{async deleteCard(){confirm(`Are you sure you want to delete the card "${this.card}"?`)&&this.$emit("delete-card",this.card,this.index)},learnMore(e){this.$router.push({name:"Indv Card",params:{cardId:e}})},async setImageUrl(e){try{const t=await Md(Object.assign({"../assets/Citi Cash Back+ Mastercard.webp":()=>Fe(()=>import("./Citi Cash Back_ Mastercard-M25hGKdj.js"),[]),"../assets/DBS Visa Debit Card.webp":()=>Fe(()=>import("./DBS Visa Debit Card-BzsTYlc6.js"),[]),"../assets/OCBC Debit Card.webp":()=>Fe(()=>import("./OCBC Debit Card-OTqox-FN.js"),[]),"../assets/Standard Chartered Simply Cash Credit Card.webp":()=>Fe(()=>import("./Standard Chartered Simply Cash Credit Card-qm3bSx5Q.js"),[]),"../assets/UOB One Card.webp":()=>Fe(()=>import("./UOB One Card-BKtS8AY0.js"),[])}),`../assets/${e}.webp`);this.imageUrl=t.default}catch(t){console.error(t),this.imageUrl=Ps}}}},TG=e=>(ze("data-v-2849405d"),e=e(),We(),e),CG={class:"container"},SG={class:"card-display"},xG={class:"card-image-container"},kG=["src","alt"],PG={class:"card-details"},RG=TG(()=>T("img",{class:"delete-icon",src:IG},null,-1)),DG=[RG];function MG(e,t,n,i,r,s){return H(),G("div",CG,[T("div",SG,[T("div",xG,[T("img",{src:r.imageUrl,alt:n.card.id,class:"card-image"},null,8,kG)]),T("button",PG,[T("h2",{class:"card-title",onClick:t[0]||(t[0]=a=>s.learnMore(n.card))},Ht(n.card),1)]),T("button",{class:"delete-btn",onClick:t[1]||(t[1]=(...a)=>s.deleteCard&&s.deleteCard(...a)),style:{"font-size":"14px"}},DG)])])}const eN=Vt(AG,[["render",MG],["__scopeId","data-v-2849405d"]]),hk=ye(Ae),OG={components:{CardDisplay:eN},data(){return{cards:[],filteredCards:[],searchTerm:"",minCashback:0,maxAnnualFee:1e3,noResultsFound:!1}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t,this.fetchCards())})},methods:{async fetchCards(){try{const e=this.user.email;console.log(e);const t=Gt(hk,"Users",e);console.log(t);const n=await he(t);if(n.exists()&&n.data().Inventory){const i=n.data();this.cards=i.Inventory,console.log(this.cards)}else console.log("No inventory found or no such document!")}catch(e){console.error("Error fetching user cards:",e)}},async deleteCard(e,t){try{const n=Gt(hk,"Users",this.user.email),i=await he(n);if(i.exists()&&i.data().Inventory){const r=i.data().Inventory.filter(s=>s!==e);await Qn(n,{Inventory:r}),this.cards.splice(t,1),console.log("Deleted",{cardName:e}),this.fetchCards()}}catch(n){console.error("Error deleting card:",n)}},filterCards(){this.noResultsFound=!1,this.filteredCards=this.cards.filter(e=>{const t=e.id.toLowerCase().includes(this.searchTerm.toLowerCase()),n=e.Data.CBPercent>=this.minCashback,i=e.Data.annualFee<=this.maxAnnualFee;return t&&n&&i}),this.filteredCards.length==0&&(this.noResultsFound=!0)},updateSearch(e){this.searchTerm=e,this.filterCards()},updateFilter({minCashback:e,maxAnnualFee:t}){this.minCashback=e,this.maxAnnualFee=t,this.filterCards()}}},NG={class:"cards-grid"},LG={key:0,class:"no-results"};function FG(e,t,n,i,r,s){const a=mt("CardDisplay");return H(),G("div",NG,[(H(!0),G(Lt,null,kn(r.cards,l=>(H(),tr(a,{key:l.id,card:l,onDeleteCard:s.deleteCard},null,8,["card","onDeleteCard"]))),128)),r.cards.length?Ee("",!0):(H(),G("div",LG,"No cards found."))])}const VG=Vt(OG,[["render",FG],["__scopeId","data-v-87fab765"]]),BG="/assets/add_card_button-B9EF0QAr.png",UG="/assets/liked_button-BAPO7TVM.png",dk=ye(Ae),$G={components:{Sidebar:js,FilterCard:j1,SearchBar:$1,AddCardForm:tN,HomeButton:is,CardInventory:VG},data(){return{user:null,sidebarActive:!1,showAddCardForm:!1,cards:[],filteredCards:[],componentKey:null}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t,this.fetchCards(t))})},methods:{handleSidebarToggle(e){this.sidebarActive=e},async fetchCards(e){try{const t=String(this.user.email);console.log(t);const n=Gt(dk,"Users",t);console.log(n);const i=await he(n);if(i.exists()&&i.data().Inventory){const r=i.data();this.cards=r.Inventory,console.log(this.cards)}else console.log("No inventory found or no such document!");this.showAddCardForm=!1}catch(t){console.error("Error fetching user cards:",t)}},async addCard(e){try{const t=Gt(dk,"Users",this.user.email);await Qn(t,{Inventory:Ka(e)}),this.cards.push(e),this.fetchCards(),console.log(this.cards),this.showAddCardForm=!1}catch(t){console.error("Error updating profile:",t)}this.fetchCards(),this.componentKey=new Date().getTime()},async route(){this.$router.push("/liked")},handleSearch(e){this.$refs.cardGrid.updateSearch(e)},handleFilterUpdate({minCashback:e,maxAnnualFee:t}){console.log("handling filter update"),this.$refs.cardGrid.updateFilter({minCashback:e,maxAnnualFee:t})}}},nN=e=>(ze("data-v-11cf13b1"),e=e(),We(),e),jG={id:"container"},HG={key:0,class:"cards-page"},zG={class:"top-nav"},WG=nN(()=>T("img",{id:"add-card-icon",src:BG},null,-1)),qG=nN(()=>T("img",{id:"liked-card-icon",src:UG},null,-1)),KG={class:"cards-grid"};function GG(e,t,n,i,r,s){const a=mt("sidebar"),l=mt("FilterCard"),u=mt("SearchBar"),d=mt("AddCardForm"),f=mt("HomeButton"),g=mt("CardInventory");return H(),G(Lt,null,[lt(a,{onToggle:s.handleSidebarToggle},null,8,["onToggle"]),T("div",jG,[lt(l,{id:"filter",onUpdateFilter:s.handleFilterUpdate},null,8,["onUpdateFilter"]),r.user?(H(),G("div",HG,[T("div",zG,[lt(u,{onSearch:s.handleSearch},null,8,["onSearch"]),T("button",{id:"add-card-btn",type:"button",onClick:t[0]||(t[0]=m=>r.showAddCardForm=!0)},[te(" Add Card "),WG]),lt(d,{isVisible:r.showAddCardForm,userEmail:r.user.email,onConfirmed:s.fetchCards},null,8,["isVisible","userEmail","onConfirmed"]),T("button",{id:"liked-card-btn",type:"button",onClick:t[1]||(t[1]=(...m)=>s.route&&s.route(...m))},[te(" Liked Cards "),qG]),lt(f)]),T("div",KG,[(H(),tr(g,{key:r.componentKey,cards:r.filteredCards,userEmail:r.user.email,onDeleteCard:s.fetchCards},null,8,["cards","userEmail","onDeleteCard"]))])])):Ee("",!0)])],64)}const YG=Vt($G,[["render",GG],["__scopeId","data-v-11cf13b1"]]);ye(Ae);const QG={name:"App",components:{Cards:YG},data(){return{refreshComp:0}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})}};function XG(e,t,n,i,r,s){const a=mt("Cards");return H(),tr(a)}const JG=Vt(QG,[["render",XG],["__scopeId","data-v-2fa2dae9"]]),fk=ye(Ae),ZG={components:{CardDisplay:eN},data(){return{cards:[],filteredCards:[],searchTerm:"",minCashback:0,maxAnnualFee:1e3,noResultsFound:!1}},created(){this.fetchCards().then(()=>{this.filterCards()})},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t,this.fetchCards())})},methods:{async fetchCards(){try{const e=this.user.email;console.log(e);const t=Gt(fk,"Users",e);console.log(t);const n=await he(t);if(n.exists()&&n.data().Liked){const i=n.data();this.cards=i.Liked,console.log(this.cards)}else console.log("No inventory found or no such document!")}catch(e){console.error("Error fetching user cards:",e)}},async deleteCard(e,t){try{const n=Gt(fk,"Users",this.user.email),i=await he(n);if(i.exists()&&i.data().Liked){const r=i.data().Liked.filter(s=>s!==e);await Qn(n,{Liked:r}),this.cards.splice(t,1),console.log("Deleted",{cardName:e}),this.$router.push("/liked")}}catch(n){console.error("Error deleting card:",n)}},filterCards(){this.noResultsFound=!1,this.filteredCards=this.cards.filter(e=>{const t=e.id.toLowerCase().includes(this.searchTerm.toLowerCase()),n=e.Data.CBPercent>=this.minCashback,i=e.Data.annualFee<=this.maxAnnualFee;return t&&n&&i}),this.filteredCards.length==0&&(this.noResultsFound=!0)},updateSearch(e){this.searchTerm=e,this.filterCards()},updateFilter({minCashback:e,maxAnnualFee:t}){this.minCashback=e,this.maxAnnualFee=t,this.filterCards()}}},tY={class:"cards-grid"},eY={key:0,class:"no-results"};function nY(e,t,n,i,r,s){const a=mt("CardDisplay");return H(),G("div",tY,[(H(!0),G(Lt,null,kn(r.cards,l=>(H(),tr(a,{key:l.id,card:l,onDeleteCard:s.deleteCard},null,8,["card","onDeleteCard"]))),128)),r.cards.length?Ee("",!0):(H(),G("div",eY," No cards found. "))])}const iY=Vt(ZG,[["render",nY],["__scopeId","data-v-93c30070"]]),rY="/assets/cards_button-CVq40b0a.png",l0=ye(Ae),sY={components:{Sidebar:js,FilterCard:j1,SearchBar:$1,AddCardForm:tN,HomeButton:is,LikedInventory:iY},data(){return{user:null,sidebarActive:!1,showAddCardForm:!1,cards:[],filteredCards:[]}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t,this.fetchCards(t))})},methods:{handleSidebarToggle(e){this.sidebarActive=e},async fetchCards(e){try{const t=String(e.email);console.log(t);const n=Gt(l0,"Users",t);console.log(n);const i=await he(n);if(i.exists()&&i.data().Liked){const r=i.data();this.cards=r.Liked,console.log(this.cards)}else console.log("No inventory found or no such document!")}catch(t){console.error("Error fetching user cards:",t)}},async addCard(e){try{const t=Gt(l0,"Users",this.user.email);await Qn(t,{Inventory:Ka(e)}),this.cards.push(e),console.log(this.cards),this.$router.push("/likedcards")}catch(t){console.error("Error updating profile:",t)}},async route(){this.$router.push("/cards")},async deleteCard(e,t){try{if(!confirm(`Are you sure you want to delete the card "${e}" from your liked cards?`))return;const n=Gt(l0,"Users",this.user.email),i=await he(n);if(i.exists()&&i.data().Liked){const r=i.data().Liked.filter(s=>s!==e);await Qn(n,{Liked:r}),this.cards.splice(t,1),console.log("Deleted",{cardName:e},"from liked cards"),this.$router.push("/liked")}}catch(n){console.error("Error deleting card:",n)}},handleSearch(e){this.$refs.cardGrid.updateSearch(e)},handleFilterUpdate({minCashback:e,maxAnnualFee:t}){console.log("handling filter update"),this.$refs.cardGrid.updateFilter({minCashback:e,maxAnnualFee:t})}}},oY=e=>(ze("data-v-15634463"),e=e(),We(),e),aY={id:"container"},cY={key:0,class:"cards-page"},lY={class:"top-nav"},uY=oY(()=>T("img",{id:"card-icon",src:rY},null,-1)),hY={class:"cards-grid"};function dY(e,t,n,i,r,s){const a=mt("sidebar"),l=mt("FilterCard"),u=mt("SearchBar"),d=mt("HomeButton"),f=mt("LikedInventory");return H(),G(Lt,null,[lt(a,{onToggle:s.handleSidebarToggle},null,8,["onToggle"]),T("div",aY,[lt(l,{id:"filter",onUpdateFilter:s.handleFilterUpdate},null,8,["onUpdateFilter"]),r.user?(H(),G("div",cY,[T("div",lY,[lt(u,{id:"search-bar",onSearch:s.handleSearch},null,8,["onSearch"]),T("button",{id:"card-btn",type:"button",onClick:t[0]||(t[0]=(...g)=>s.route&&s.route(...g))},[te(" Cards "),uY]),lt(d)]),T("div",hY,[lt(f,{cards:r.filteredCards,userEmail:r.user.email,onDeleteCard:s.deleteCard},null,8,["cards","userEmail","onDeleteCard"])])])):Ee("",!0)])],64)}const fY=Vt(sY,[["render",dY],["__scopeId","data-v-15634463"]]);ye(Ae);const pY={name:"App",components:{LikedCards:fY},data(){return{refreshComp:0}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})}};function gY(e,t,n,i,r,s){const a=mt("LikedCards");return H(),tr(a)}const mY=Vt(pY,[["render",gY],["__scopeId","data-v-2c1aa684"]]),yY="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw0QDQ0SEg0NEhISDQ0NEhINDQ8NDxUNFREYFxUdExUkHSgsGBslHhkVITEhMS0wLi4uGCAzODMuNzQ5MjcBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAaAAEBAQEBAQEAAAAAAAAAAAAABwgCAQUG/8QAOBABAAECBQICCAQDCQAAAAAAAAECAwQHETFBEyEyURIiI0JSYXGBBTNTkRShoiRDYmNyc5Kzwf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwC4AAAAAAAAAAAAAAAAAAAAAAAAAAAAd/kHcAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1+QagAAAAAAAAAAAAAAAAAAAAAAAAAAAAGsBrAAAAAAAAAAAAAAAACEZxZpdTq4DA3fU728TiLc+PiaLU/DxNXO0dtwZt5r11V1YP8OvzTTRVHWxVmqYqqrpnw2ao2piY71c7R23+9lfm3bxfSwuOrpt4mdLdu9MRRavzxFXFFyf2mdtJ0hnYBuIQHK/N6ux08J+I1zVZ7UWsTVrVXb4iLvxUf4t451ja+0zGkad9e8T8gegAAAAAAAaBoAAAAAAAAAAAAAAh2cWaX5uAwF3zt4nEW5+027U/ymr7QDjOLNL0urgMDd7d7eJxFud+JotT5cTVztCIgAC8ZP5W9PpY/H2vX7XMPhrkeDmK7sfFzFPG899gZP5W9PpY/H2vX7XMPh7keDmK7sfFzFPG899rUAAAAAAAAAGgafMAAAAAAAAAAABEs4c0vR6uAwF3v3t4nEW524mi1PnxNXG0A5zhzS06uAwF3v3t4nEW524mi1P8AKavtCGAAC8ZP5W9PpY/H2vadrmGw9yPBzFd2Pi5injee+wMn8ren0sfj7XtO1zD4a5Hg5iu7HxcxTxvPfa1AAAAAAAAAAABpPmHf5AAAAAAAAAAItnFml0+rgMBd9p3t4nEW58HE0Wp+LiauNo77BxnFml6HVwGAu+t3t4nEW58PE0Wp+LiauNo77QkAAXXJnLGmKbH4jjKKapqpovYWxOlVMUzGtNy55zMaTTHG++wd5P5W9PpY/H2vadrmGw9yPBzFd2Pi5injee+1qAAAAAAAAAAAAADuGvyAAAAAAAAAEdzjyx/iIuY/A2vbRE14ixbp/Ojea7cR/eece99d7EAw6L1nFld1Orj8Da9p3uYnD248fM3LUfHzNPvbx33goC35M5nRTFn8OxtcRERTawt+qdIiI7U27k+XFM/byRABuIRTJzNH0+lgMdc9ftbw2IuT4uIt3Z+LiKudp772sAAAAAAAAAAAADUNYAAAAAAAAAAAEQzjyv16uPwNvv3uYnD2435quWo8+aqfv5reAw6LbnHlf6PV/EMDb9XvcxOHojw+dy1Hl8VPG8dtdIkAveTuaPV6WAx932va3hsRcn8ziKLs/HxFXvbT628EexOgNwiQZPZn/wATFvA425/aI0osXq5/Ojiiuf1PKfe/1b18AAAAAAAAAADWA7AAAAAAAAAAAAACAZx5YdDqY/A2vYTrXiLFEflTvNduP0/OPd38Phv5Ma/QGHRXc4MsP4WbmOwVv+zTM1X7NEfkTO9VEfp/L3fptIge01TExMTMTExMTE6TEtEZP5nRjKaMFjLmmKpj0bV2udOvTHFU/qR/V9d87OrddVNUVUzMVRMVRNMzExVE6xMTxINwCWZRZnU46mjB4uuIxlNOlu5VpEYimI/7IjeOd45VMAAAAAAAADQNAAAAAAAAAAAAAAAHldMTExMRMTExMTGsTHMaM7Zv5YTgqq8Zg6JnCzPpXbVMazYqnmP8uf6fo0U5uUU1UzTNMVRVE01RVETTNMxpMTHMAw+Knm7llVgK6sXhKKqsJXV69FOtU2LlU9o/25naeNp41+zlhk/6XSxf4lbmKe1y1g6o0mrynERxHPof8uYB+eytyxxWPuWsVem7h8JTVTcorpmbd+7VE6x0Z92nX3/213jS1MaRG+2neZmf3KKYpiIiIiIiIiIjSIiNoiPJ6AAAAAAAABp85DT5gAAAAAAAAAAAAAAAAEx9wAAAAAAAAAAAO4dwAAAAAAAAAAAAAAAAAAAAAAAAAAAADX5Br9QAAAAAAAAAAAAAAAAAAAAAAAAAAAAD0g1AOfscgBPBUAFWxOwAQQAEEcgBG8nP2ADkngAJKtgAnY4ACCkAI5+pHIAcnIATwVf+gBUSAOQAf//Z",_Y={},vY=e=>(ze("data-v-52c19644"),e=e(),We(),e),bY=vY(()=>T("img",{id:"icon",src:yY,style:{width:"20px",height:"20px"}},null,-1));function wY(e,t){return H(),G("div",null,[T("button",{id:"backButton",type:"button",onClick:t[0]||(t[0]=n=>this.$router.go(-1))},[bY,te("Back")])])}const iN=Vt(_Y,[["render",wY],["__scopeId","data-v-52c19644"]]),EY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQoAAAC+CAMAAAD6ObEsAAAAM1BMVEX39/e/v7/6+vq8vLz19fXx8fHAwMDc3Nzr6+vFxcXMzMzk5OTZ2dnJycnV1dXQ0NDn5+fH0uF0AAAFs0lEQVR4nO2d2ZKrIBCGtXHHJe//tKOTGE2iUbEX2vBdnqpDNf9AbyCJokAgEAgEAoFAIKAXGPF2QHoGa5PC5nldt22d21uRnJvAfcCbzYfx6jy3ZwfkAaLUtqV5I246W0Qu1vf/p7BdE38M2No08lgNSGyXDYZ+MvxrlafH1ABI8ypeHbDsrJ9qQGS7eMnoufllr8buAdO8XFRhNmDc3bxTA5J6Q4dRjea2Z2kA3JoNHUY16sQnMaDodtl9Nz6zW2IA2Gz/eKbbv9SIgbTbbffd+NJ+tR1seWhAX8SApN2/Ip7GN+u2Q9ocH8/U8j4D7C4f8Wl8vWI61G7jxd9XGjmQVE6Gx2sLw2VJjANWkv7TdUk8bL99mA63M+NlnwNyAe0Jwwfb8zfTIT85YCulhfPmeJr+6jAc3cR8wEpCB0iPRbxl0+d/xrOL7H/Akt9hQHra7H/Tp3Vxfk3c4U4xkJTotRhjIFgcJWLDqwWaEr3lxb/lUCAp0ZNySoGnxGg55ogZoxZJhmh43PTLAhrMEbOESwlwzggX6dOLswnF+4gNk7vACHqvlqcp9og8uRaaq59oULfHgGEpzrD/gjQYBtcJlfQs90HvLgi2Bw30WyRRokQPcUSFg21MQUxHuyx0+Mw7pqBUQovPvEPqORFrJgYolwVupUBPRbcsNHmKAbo8C734oIYwiEhP7ThEQqhJNCeoUk5tTnOAyHEqyrmfGJLsW+H+WDiAw5Gik56XCzQxRHpWTmQUUuhKukcosizkpjQXFOFUXar5gMBZQCk9KTdKAmchPSdHCE7KtFWlIwR+88wtKUnw+zcqc80B/BCiNJZ+uSDqLgXS9SB28E+SFR2AvILfydLV9p8TpHgSpHiC3sjS2a0YQD8j0ytFWBUjBBFEbTDFzyvUplj42abaxBu/5622MsXv6Ons8pJcsgitmwnUK+58ZPhKhDbvJIXO5j/FbROlHT2S82OdfpPmlp70rNygUELjpRuia6wqqxD8CuQfjfkm0YVekJ6XA4bohp7CzILqDqu+4pTuUyHpmR2G5q5ipPEAgO6Ot7YdYiyVEuoKdYICfURZlkX6Obaukoz0OzpdjpP2A2RNjpP4+2NNyTfJ9e6ZFHpOhmi+f5ijJ54SC6FnWRB1Kl7Qsizon/5Rsiw4FoWW+pRBCB3Lgj583LVQ4C2Ic4on/qecPG9BRRoqEa7X0vwvUDkexXrged+C94lerz0nYfPqE69vGCw8ik2qhb83Wqnfw/rE3y3C9u7oA8y3dFFhSylmWvh5gsq/PQa8vLLHGj2e+LhFaN/NW8XDRIupIF3QAvfl5vOwvdS8gG8RlTuOzvCrLnu8mS+DVwm4mKN4aOFPdiGTUcy18MZ1Urzkcgzcn0JwRya3esUT18n6oyAreFGYiQaPCQ/CiEA5uoz4IZFwGJ0jHFLlfnltAdH+niF8o9oBwfTCNNKTfwfht+kuooSUFj4qIaOFn0pIaGFK6Tmvwa2Fv0pwa+GzErxa+K0Epxa+eswJrlxL5rd9D8GUg4u37/bAUpt5VYGtw1Cze1SVf4e8l+NNp2YboL3ZyXzD6BxQUErhRx9zLyg/KL+IKbl/CP08FYkWCtKJT0iCKs9nHugQBBJFoeMVKJAPETNdDnMOJJjO05SJWiUi1IpERdXxDbQsXE2uvU6fbSGIYRS7iQlIzrcw+mziAkpECJvkAptjpI+qJ8S4xuYYgRNpuMpU+xvOm+RCm2PEbZNca3NMHN8kppO2mQiwB4WItVZf20B6JMUwleqaY4sD3lNtQb6XvQvDNPr6dofZtTAuGEKX2G4Ba2zlOrLx1ZnSBqYbUKwvDFNeM6taZc1jmB/xEnMgXUo+TfUzXmJOn3y+iXHl9PI7EL2eGpn2Ir0qF+bu8+fc5TtP9/mD7vKdwX32/Ka7fAduba3p8ggpEIQIBAKBQCAQCAR+hT9cpGwkx1d0ngAAAABJRU5ErkJggg==",tg=ye(),IY={name:"IndividualCard",props:{cardId:{type:String,required:!0}},data(){return{user:!1,imageUrl:Ps,description:"",type:"",data:{}}},mounted(){this.fetchCardDetails(this.cardId);const e=Wt();ne(e,t=>{t&&(this.user=t)})},watch:{cardId:{immediate:!0,handler(e){e&&this.fetchCardDetails(e)}}},methods:{async fetchCardDetails(e){try{if(!this.cardId){console.error("Card ID is undefined");return}const t=Gt(tg,"Cards",e),n=await he(t);if(n.exists()){const i=n.data(),r=i.Data,s=i.Description,a=i.Type,l=await Md(Object.assign({"../assets/Citi Cash Back+ Mastercard.webp":()=>Fe(()=>import("./Citi Cash Back_ Mastercard-M25hGKdj.js"),[]),"../assets/DBS Visa Debit Card.webp":()=>Fe(()=>import("./DBS Visa Debit Card-BzsTYlc6.js"),[]),"../assets/OCBC Debit Card.webp":()=>Fe(()=>import("./OCBC Debit Card-OTqox-FN.js"),[]),"../assets/Standard Chartered Simply Cash Credit Card.webp":()=>Fe(()=>import("./Standard Chartered Simply Cash Credit Card-qm3bSx5Q.js"),[]),"../assets/UOB One Card.webp":()=>Fe(()=>import("./UOB One Card-BKtS8AY0.js"),[])}),`../assets/${this.cardId}.webp`);this.imageUrl=l.default,console.log(this.cardId),this.data=r,this.description=s,this.type=a,this.mapKeys()}else console.log("No such document!")}catch(t){console.error("Error fetching user data:",t)}},async likeCard(){try{const e=String(this.user.email),t=Gt(tg,"Users",e);console.log(t);const i=(await he(t)).data().Liked;if(console.log(i),i.includes(this.cardId)){console.log("Card already liked!");return}await Qn(t,{Liked:Ka(this.cardId)}),console.log("Card liked successfully!")}catch(e){console.error("Error liking card:",e)}},async addCard(){try{const e=String(this.user.email),t=Gt(tg,"Users",e);console.log(t);const n=await he(t),i=n.data().Inventory;if(console.log(i),i.includes(this.cardId)){console.log("Card already added!");return}await Qn(t,{Inventory:Ka(this.cardId)});const r=Gt(tg,"Cards",this.cardId),s=await he(r),a=s.data().Type,l=s.data().Data,u=l.MinSpend,d=l.Spend,f=l.CashbackLimit,g=l.CBCap,m=new Date,v=m.getFullYear(),E=m.getMonth()+1;let b=n.data().CardsWithMinSpend;a=="CC"&&u==!0&&(b[this.cardId]={[`${v}-${E}`]:{Target:d,Current:0}},await Qn(t,{CardsWithMinSpend:b}));let w=n.data().CardsWithCBCap;a=="CC"&&g==!0&&(w[this.cardId]={[`${v}-${E}`]:{Limit:f,Current:0}},await Qn(t,{CardsWithCBCap:w})),console.log("Card added successfully!")}catch(e){console.error("Error adding card:",e)}},mapKeys(){const e={CBCap:"Cash Back Cap",CBPercent:"Cash Back %",Spend:"Spend",RebatePercent:"Rebate %",CashbackLimit:"Cash Back Limit",MinSpend:"Minimum Spend",annualFee:"Annual Fee"},t={};for(const n in this.data){const i=e[n];i&&(t[i]=this.data[n])}this.data=t}}},rs=e=>(ze("data-v-30ae05db"),e=e(),We(),e),AY={class:"indvcard"},TY={class:"cardtitle"},CY={id:"title"},SY=["src"],xY={class:"card-desc"},kY=rs(()=>T("h3",null,"Description: ",-1)),PY=rs(()=>T("hr",null,null,-1)),RY={class:"card-type"},DY=rs(()=>T("h3",null,"Type: ",-1)),MY=rs(()=>T("hr",null,null,-1)),OY=rs(()=>T("hr",null,null,-1)),NY={class:"bottom-button-container"},LY=rs(()=>T("img",{id:"icon",src:EY,style:{width:"20px",height:"15px"}},null,-1)),FY=rs(()=>T("br",null,null,-1)),VY=rs(()=>T("br",null,null,-1)),BY=rs(()=>T("br",null,null,-1)),UY=rs(()=>T("br",null,null,-1));function $Y(e,t,n,i,r,s){return H(),G(Lt,null,[T("div",AY,[T("div",TY,[T("h1",CY,[T("img",{id:"cardphoto",src:r.imageUrl},null,8,SY),te(" "+Ht(this.cardId),1)])]),T("div",xY,[kY,T("p",null,Ht(r.description),1),PY]),T("div",RY,[DY,T("p",null,Ht(r.type),1),MY]),(H(!0),G(Lt,null,kn(r.data,(a,l)=>(H(),G("div",{class:"card-details",key:l},[T("h3",null,Ht(l)+":",1),T("p",null,Ht(a),1),OY]))),128))]),T("div",NY,[T("button",{id:"likebutton",onClick:t[0]||(t[0]=a=>s.likeCard())},[LY,te("Like")]),FY,VY,T("button",{id:"addbutton",onClick:t[1]||(t[1]=a=>s.addCard())},"Add Card"),BY,UY])],64)}const rN=Vt(IY,[["render",$Y],["__scopeId","data-v-30ae05db"]]),jY={name:"ProfilePage",components:{BackButton:iN,HomeButton:is,IndvCard:rN},data(){return{cardId:""}},created(){this.cardId=this.$route.params.cardId},methods:{compareCard(){this.$router.push("/compare")}}},HY={class:"container"},zY={class:"main-container"},WY={class:"compare-container"};function qY(e,t,n,i,r,s){const a=mt("BackButton"),l=mt("HomeButton"),u=mt("IndvCard");return H(),G("div",HY,[T("div",zY,[lt(a),lt(l),lt(u,{cardId:r.cardId},null,8,["cardId"])]),T("div",WY,[T("button",{id:"comparebutton",onClick:t[0]||(t[0]=d=>s.compareCard())},"Compare Cards")])])}const KY=Vt(jY,[["render",qY],["__scopeId","data-v-5ffa1dda"]]),GY=ye(),YY={name:"ComparePage",components:{BackButton:iN,HomeButton:is,IndvCard:rN},data(){return{availableCards:[],card1:"",card2:""}},created(){this.fetchAvailableCards()},methods:{async fetchAvailableCards(){try{const e=Zr(GY,"Cards");(await ts(e)).forEach(n=>{this.availableCards.push({id:n.id})})}catch(e){console.error("Error fetching available cards:",e)}},fetchCardDetails1(e){this.card1=e},fetchCardDetails2(e){this.card2=e}}},mf=e=>(ze("data-v-d768e199"),e=e(),We(),e),QY={class:"page"},XY=mf(()=>T("div",{class:"page-title"},[T("h1",null,"Compare Cards")],-1)),JY={class:"compare-cards-container"},ZY={class:"card-column"},tQ=mf(()=>T("label",{for:"card1"},"Select Card 1:",-1)),eQ=mf(()=>T("option",{value:""},"Select a Card",-1)),nQ=["value"],iQ={class:"card-column"},rQ=mf(()=>T("label",{for:"card2"},"Select Card 2:",-1)),sQ=mf(()=>T("option",{value:""},"Select a Card",-1)),oQ=["value"];function aQ(e,t,n,i,r,s){const a=mt("BackButton"),l=mt("HomeButton"),u=mt("IndvCard");return H(),G(Lt,null,[lt(a),lt(l),T("div",QY,[XY,T("div",JY,[T("div",ZY,[tQ,Qe(T("select",{"onUpdate:modelValue":t[0]||(t[0]=d=>r.card1=d),onChange:t[1]||(t[1]=d=>s.fetchCardDetails1(r.card1)),id:"card1"},[eQ,(H(!0),G(Lt,null,kn(r.availableCards,d=>(H(),G("option",{key:d.id,value:d.id},Ht(d.id),9,nQ))),128))],544),[[Xi,r.card1]]),r.card1?(H(),tr(u,{key:0,cardId:r.card1},null,8,["cardId"])):Ee("",!0)]),T("div",iQ,[rQ,Qe(T("select",{"onUpdate:modelValue":t[2]||(t[2]=d=>r.card2=d),onChange:t[3]||(t[3]=d=>s.fetchCardDetails2(r.card2)),id:"card2"},[sQ,(H(!0),G(Lt,null,kn(r.availableCards,d=>(H(),G("option",{key:d.id,value:d.id},Ht(d.id),9,oQ))),128))],544),[[Xi,r.card2]]),r.card2?(H(),tr(u,{key:0,cardId:r.card2},null,8,["cardId"])):Ee("",!0)])])])],64)}const cQ=Vt(YY,[["render",aQ],["__scopeId","data-v-d768e199"]]),ps=ye(Ae),lQ={name:"PaymentForm",data(){return{imageUrl:Ps,paymentAmount:0,recipients:[],recipient:"",categories:[],category:"",user:!1,bestCardInfo:"",bestCB:"",card:"",cards:[]}},mounted(){this.getRecipients(),this.getCategories(),this.getCards();const e=Wt();ne(e,t=>{t&&(this.user=t)})},methods:{async getRecipients(){try{const e=await ts(Zr(ps,"Companies"));console.log(e),e.forEach(t=>{this.recipients.push(t.id)})}catch(e){console.error("Error getting recipients: ",e)}},async getCategories(){try{const e=await ts(Zr(ps,"Categories"));console.log(e),e.forEach(t=>{this.categories.push(t.id)})}catch(e){console.error("Error getting categories: ",e)}},async getCards(){try{const e=Wt();ne(e,async t=>{if(t){this.user=t;const n=String(t.email),i=Gt(ps,"Users",n),s=(await he(i)).data().Inventory;this.cards=s}})}catch(e){console.error("Error getting user document: ",e)}},async findBestCard(){try{console.log("Found best card");const e=new Date,t=e.getFullYear(),n=e.getMonth()+1,i=`${t}-${n}`;console.log(this.user);const r=String(this.user.email);console.log(r);const s=Gt(ps,"Users",r);console.log(s);const a=await he(s),l=a.data().Inventory;console.log(l);const u=Gt(ps,"Companies",String(this.recipient)),f=(await he(u)).data().CB;console.log(f);let g=null,m=0;for(const E of l){let b=Gt(ps,"Cards",E),w=await he(b),A=0;if(w.data().Type=="DC")A=this.paymentAmount*w.data().Data.RebatePercent/100,f&&E in f&&(A+=this.paymentAmount*f[E]/100);else if(w.data().Type=="CC"){if(A=this.paymentAmount*w.data().Data.CBPercent/100,console.log(A),f&&E in f&&(A+=this.paymentAmount*f[E]/100),w.data().Data.CBCap==!0){let C=a.data().CardsWithCBCap[E][i].Current,k=a.data().CardsWithCBCap[E][i].Limit;if(C>=k)continue}if(w.data().Data.MinSpend==!0){let C=a.data().CardsWithMinSpend[E][i].Current,k=a.data().CardsWithMinSpend[E][i].Target;if(C<k){console.log(`inside spendtarget if, ${m}, ${A}`),g=E,m=A,console.log(`Best card is ${g} with cashback of $${m}, inside minspend check`),this.bestCardInfo=g,this.bestCB=m;const R=await Md(Object.assign({"../assets/Citi Cash Back+ Mastercard.webp":()=>Fe(()=>import("./Citi Cash Back_ Mastercard-M25hGKdj.js"),[]),"../assets/DBS Visa Debit Card.webp":()=>Fe(()=>import("./DBS Visa Debit Card-BzsTYlc6.js"),[]),"../assets/OCBC Debit Card.webp":()=>Fe(()=>import("./OCBC Debit Card-OTqox-FN.js"),[]),"../assets/Standard Chartered Simply Cash Credit Card.webp":()=>Fe(()=>import("./Standard Chartered Simply Cash Credit Card-qm3bSx5Q.js"),[]),"../assets/UOB One Card.webp":()=>Fe(()=>import("./UOB One Card-BKtS8AY0.js"),[])}),`../assets/${E}.webp`);this.imageUrl=R.default}}}A>m&&(g=E,m=A)}console.log(`Best card is ${g} with cashback of $${m}`),this.bestCardInfo=g,this.bestCB=m.toFixed(2);const v=await Md(Object.assign({"../assets/Citi Cash Back+ Mastercard.webp":()=>Fe(()=>import("./Citi Cash Back_ Mastercard-M25hGKdj.js"),[]),"../assets/DBS Visa Debit Card.webp":()=>Fe(()=>import("./DBS Visa Debit Card-BzsTYlc6.js"),[]),"../assets/OCBC Debit Card.webp":()=>Fe(()=>import("./OCBC Debit Card-OTqox-FN.js"),[]),"../assets/Standard Chartered Simply Cash Credit Card.webp":()=>Fe(()=>import("./Standard Chartered Simply Cash Credit Card-qm3bSx5Q.js"),[]),"../assets/UOB One Card.webp":()=>Fe(()=>import("./UOB One Card-BKtS8AY0.js"),[])}),`../assets/${g}.webp`);this.imageUrl=v.default}catch(e){console.error("Error finding card: ",e),this.imageUrl=Ps}},async updateTransaction(){try{const e=new Date,t=e.getFullYear(),n=e.getMonth()+1,i=`${t}-${n}`;console.log(this.user);const r=String(this.user.email),s=Gt(ps,"Users",r),a=await he(s),l=Gt(ps,"Companies",this.recipient),d=(await he(l)).data().CB;let f=0,g=Gt(ps,"Cards",this.card),m=await he(g);if(m.data().Type=="DC")f=this.paymentAmount*m.data().Data.RebatePercent/100,d&&this.card in d&&(f+=this.paymentAmount*d[this.card]/100);else if(m.data().Type=="CC"){if(f=this.paymentAmount*m.data().Data.CBPercent/100,d&&this.card in d&&(f+=this.paymentAmount*d[this.card]/100),m.data().Data.CBCap==!0){let w=a.data().CardsWithCBCap[this.card][i].Current,A=a.data().CardsWithCBCap[this.card][i].Limit;if(w>=A)f=0;else if(w+f>A){f=A-w;let C=A;await Qn(s,{[`CardsWithCBCap.${this.card}.${i}.Current`]:C})}else{let C=f;await Qn(s,{[`CardsWithCBCap.${this.card}.${i}.Current`]:C})}}if(m.data().Data.MinSpend==!0){let w=a.data().CardsWithMinSpend[this.card][i].Current;w+=this.paymentAmount,await Qn(s,{[`CardsWithMinSpend.${this.card}.${i}.Current`]:w})}}const v=new Date,E=`${v.getFullYear()}-${(v.getMonth()+1).toString().padStart(2,"0")}-${v.getDate().toString().padStart(2,"0")}T${v.getHours().toString().padStart(2,"0")}:${v.getMinutes().toString().padStart(2,"0")}`,b={amount:this.paymentAmount,category:this.category,recipient:this.recipient,card:this.card,timestamp:E,cardCB:f};await Qn(s,{Transactions:Ka(b)})}catch(e){console.error("Error updating Transactions: ",e)}},submitForm(){console.log("Payment Amount:",this.paymentAmount),console.log("Recipient:",this.recipient),console.log("Category:",this.category),!(this.card!==this.bestCardInfo&&!window.confirm("The selected card is not the best card for this transaction. Do you want to proceed?"))&&this.updateTransaction().then(()=>{this.paymentAmount=0,this.recipient="",this.category="",this.card="",this.imageUrl=Ps,this.bestCardInfo="",this.bestCB="",window.alert("Transaction submitted successfully!")}).catch(e=>{console.error("Error submitting form:",e)})}},watch:{recipient(e){e&&this.category&&this.paymentAmount>0&&this.findBestCard()},category(e){e&&this.recipient&&this.paymentAmount>0&&this.findBestCard()},paymentAmount(e){e&&this.recipient&&this.category&&this.findBestCard()}}},Pn=e=>(ze("data-v-96560f83"),e=e(),We(),e),uQ=Pn(()=>T("div",{class:"header"},[T("h2",null,[te("Making a payment?"),T("br"),te(" Fill in the details and our algorithm will choose the best card for you to use!")]),T("br"),T("br")],-1)),hQ={class:"form-group"},dQ=Pn(()=>T("label",{for:"paymentAmount"},"Payment Amount:",-1)),fQ=Pn(()=>T("br",null,null,-1)),pQ=Pn(()=>T("br",null,null,-1)),gQ=Pn(()=>T("label",{for:"selectRecipient"},"Recipient:",-1)),mQ=Pn(()=>T("option",{value:""},"Select a Recipient",-1)),yQ=["value"],_Q=Pn(()=>T("br",null,null,-1)),vQ=Pn(()=>T("br",null,null,-1)),bQ=Pn(()=>T("label",{for:"selectCategory"},"Category:",-1)),wQ=Pn(()=>T("option",{value:""},"Select a Category",-1)),EQ=["value"],IQ=Pn(()=>T("br",null,null,-1)),AQ=Pn(()=>T("br",null,null,-1)),TQ=Pn(()=>T("label",{for:"selectCard"},"Selected Card:",-1)),CQ=Pn(()=>T("option",{value:""},"Select a Card",-1)),SQ=["value"],xQ=Pn(()=>T("div",{class:"submit"},[T("button",{id:"submitbtn",type:"submit"},"Submit Transaction")],-1)),kQ=Pn(()=>T("br",null,null,-1)),PQ=Pn(()=>T("br",null,null,-1)),RQ={key:0},DQ={id:"reco"},MQ=Pn(()=>T("br",null,null,-1)),OQ={class:"card-image-container"},NQ=["src","alt"],LQ=Pn(()=>T("br",null,null,-1)),FQ=Pn(()=>T("br",null,null,-1));function VQ(e,t,n,i,r,s){return H(),G(Lt,null,[uQ,T("form",{onSubmit:t[4]||(t[4]=dw((...a)=>s.submitForm&&s.submitForm(...a),["prevent"]))},[T("div",hQ,[dQ,Qe(T("input",{type:"number",id:"paymentAmount","onUpdate:modelValue":t[0]||(t[0]=a=>r.paymentAmount=a),required:""},null,512),[[Ds,r.paymentAmount]]),fQ,pQ,gQ,Qe(T("select",{id:"selectRecipient","onUpdate:modelValue":t[1]||(t[1]=a=>r.recipient=a),required:""},[mQ,(H(!0),G(Lt,null,kn(r.recipients,a=>(H(),G("option",{key:a,value:a},Ht(a),9,yQ))),128))],512),[[Xi,r.recipient]]),_Q,vQ,bQ,Qe(T("select",{id:"selectCategory","onUpdate:modelValue":t[2]||(t[2]=a=>r.category=a),required:""},[wQ,(H(!0),G(Lt,null,kn(r.categories,a=>(H(),G("option",{key:a,value:a},Ht(a),9,EQ))),128))],512),[[Xi,r.category]]),IQ,AQ,TQ,Qe(T("select",{id:"selectCard","onUpdate:modelValue":t[3]||(t[3]=a=>r.card=a),required:""},[CQ,(H(!0),G(Lt,null,kn(r.cards,a=>(H(),G("option",{key:a,value:a},Ht(a),9,SQ))),128))],512),[[Xi,r.card]])]),xQ],32),kQ,PQ,r.bestCardInfo&&r.bestCB?(H(),G("div",RQ,[T("h2",DQ,[te(" We recommend you to use the "+Ht(r.bestCardInfo)+" ",1),MQ,te(" with total cashback of $"+Ht(r.bestCB),1)]),T("div",OQ,[T("img",{src:r.imageUrl,alt:r.card.id,class:"card-image"},null,8,NQ)]),LQ,FQ])):Ee("",!0)],64)}const BQ=Vt(lQ,[["render",VQ],["__scopeId","data-v-96560f83"]]);ye(Ae);const UQ={name:"PaymentPage",components:{PaymentForm:BQ,HomeButton:is,Sidebar:js},data(){return{user:!1}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})}},$Q=e=>(ze("data-v-19ae9556"),e=e(),We(),e),jQ={class:"paymentrecopage"},HQ=$Q(()=>T("br",null,null,-1));function zQ(e,t,n,i,r,s){const a=mt("Sidebar"),l=mt("HomeButton"),u=mt("PaymentForm");return H(),G(Lt,null,[lt(a),lt(l),T("div",jQ,[HQ,lt(u)])],64)}const WQ=Vt(UQ,[["render",zQ],["__scopeId","data-v-19ae9556"]]),qQ={props:{card:{type:Object,required:!0}},data(){return{imageUrl:Ps}},created(){this.setImageUrl(this.card.id)},methods:{learnMore(e){this.$router.push({name:"Indv Card",params:{cardId:e}})},async setImageUrl(e){try{const t=await Md(Object.assign({"../assets/Citi Cash Back+ Mastercard.webp":()=>Fe(()=>import("./Citi Cash Back_ Mastercard-M25hGKdj.js"),[]),"../assets/DBS Visa Debit Card.webp":()=>Fe(()=>import("./DBS Visa Debit Card-BzsTYlc6.js"),[]),"../assets/OCBC Debit Card.webp":()=>Fe(()=>import("./OCBC Debit Card-OTqox-FN.js"),[]),"../assets/Standard Chartered Simply Cash Credit Card.webp":()=>Fe(()=>import("./Standard Chartered Simply Cash Credit Card-qm3bSx5Q.js"),[]),"../assets/UOB One Card.webp":()=>Fe(()=>import("./UOB One Card-BKtS8AY0.js"),[])}),`../assets/${e}.webp`);this.imageUrl=t.default}catch(t){console.error(t),this.imageUrl=Ps}}}},KQ={class:"card-item"},GQ={class:"card-image-container"},YQ=["src","alt"],QQ={class:"card-details"},XQ={class:"card-title"};function JQ(e,t,n,i,r,s){return H(),G("div",KQ,[T("div",GQ,[T("img",{src:r.imageUrl,alt:n.card.id,class:"card-image"},null,8,YQ)]),T("div",QQ,[T("h3",XQ,Ht(n.card.id),1),T("button",{onClick:t[0]||(t[0]=a=>s.learnMore(n.card.id)),class:"learn-more-btn"}," Learn More ")])])}const ZQ=Vt(qQ,[["render",JQ],["__scopeId","data-v-f575198d"]]),tX=ye(Ae),eX={components:{CardItem:ZQ},data(){return{cards:[],filteredCards:[],searchTerm:"",minCashback:0,maxAnnualFee:1e3,noResultsFound:!1}},created(){this.fetchCards().then(()=>{this.filterCards()})},methods:{async fetchCards(){try{const e=await ts(Zr(tX,"Cards"));this.cards=e.docs.map(t=>({id:t.id,...t.data()}))}catch(e){console.error("Error fetching cards:",e)}},filterCards(){this.noResultsFound=!1,this.filteredCards=this.cards.filter(e=>{const t=e.id.toLowerCase().includes(this.searchTerm.toLowerCase()),n=e.Data.CBPercent>=this.minCashback,i=e.Data.annualFee<=this.maxAnnualFee;return t&&n&&i}),this.filteredCards.length==0&&(this.noResultsFound=!0)},updateSearch(e){this.searchTerm=e,this.filterCards()},updateFilter({minCashback:e,maxAnnualFee:t}){this.minCashback=e,this.maxAnnualFee=t,this.filterCards()}}},nX={class:"card-grid"},iX={key:0,class:"no-results"};function rX(e,t,n,i,r,s){const a=mt("CardItem");return H(),G("div",nX,[(H(!0),G(Lt,null,kn(r.filteredCards,l=>(H(),tr(a,{key:l.id,card:l},null,8,["card"]))),128)),r.noResultsFound?(H(),G("div",iX," No cards found matching your search. ")):Ee("",!0)])}const sX=Vt(eX,[["render",rX],["__scopeId","data-v-17271ad0"]]);ye(Ae);const oX={name:"DiscoveryPage",components:{FilterCard:j1,SearchBar:$1,CardGrid:sX,Logout:V1,Sidebar:js,HomeButton:is},data(){return{user:!1}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})},methods:{handleSearch(e){this.$refs.cardGrid.updateSearch(e)},handleFilterUpdate({minCashback:e,maxAnnualFee:t}){console.log("handling filter update"),this.$refs.cardGrid.updateFilter({minCashback:e,maxAnnualFee:t})}}},sN=e=>(ze("data-v-97917bac"),e=e(),We(),e),aX={id:"filter"},cX={key:0,class:"discoverypage"},lX=sN(()=>T("br",null,null,-1)),uX=sN(()=>T("br",null,null,-1));function hX(e,t,n,i,r,s){const a=mt("Sidebar"),l=mt("HomeButton"),u=mt("FilterCard"),d=mt("SearchBar"),f=mt("CardGrid"),g=mt("Logout");return H(),G(Lt,null,[lt(a),lt(l),T("div",aX,[lt(u,{onUpdateFilter:s.handleFilterUpdate},null,8,["onUpdateFilter"])]),r.user?(H(),G("div",cX,[lt(d,{onSearch:s.handleSearch},null,8,["onSearch"]),lX,lt(f,{ref:"cardGrid"},null,512),uX,lt(g)])):Ee("",!0)],64)}const dX=Vt(oX,[["render",hX],["__scopeId","data-v-97917bac"]]),fX=ye(Ae),pX={name:"Charts",data(){return{user:!1,chartData:[],chartTitle:"Total Amount Spent by Card",chartColors:["#7f56d9"]}},mounted(){const e=Wt();ne(e,async t=>{t&&(this.user=t),this.getTransactions()})},methods:{async getTransactions(){try{const e=String(this.user.email),t=Gt(fX,"Users",e),r=(await he(t)).data().Transactions.map(l=>({card:l.card,amount:l.amount}));console.log(r);const s=r.reduce((l,u)=>{const{card:d,amount:f}=u;return l[d]||(l[d]=[]),l[d].push(f),l},{});console.log(s);const a={};for(const l in s){const d=s[l].reduce((f,g)=>f+g,0);a[l]=d}console.log(a),this.chartData=Object.entries(a).map(([l,u])=>[l,u])}catch(e){console.error("Error fetching user data:",e)}}}},gX={class:"bar-graph"};function mX(e,t,n,i,r,s){const a=mt("bar-chart");return H(),G("div",gX,[lt(a,{data:r.chartData,title:r.chartTitle,colors:r.chartColors,horizontal:!0},null,8,["data","title","colors"])])}const yX=Vt(pX,[["render",mX],["__scopeId","data-v-4301be04"]]),_X=ye(Ae),vX={name:"Charts",data(){return{user:!1,chartData:[],chartTitle:"Total Amount Spent by Month",chartColors:["#7f56d9"]}},mounted(){const e=Wt();ne(e,async t=>{t&&(this.user=t),this.getTransactions()})},methods:{async getTransactions(){try{const e=String(this.user.email),t=Gt(_X,"Users",e),r=(await he(t)).data().Transactions.map(u=>({month:new Date(u.timestamp).getMonth(),amount:u.amount}));console.log(r);const s=r.reduce((u,d)=>{const{month:f,amount:g}=d;return u[f]||(u[f]=[]),u[f].push(g),u},{});console.log(s);const a={};for(const u in s){const f=s[u].reduce((g,m)=>g+m,0);a[u]=f}console.log(a);const l=["January","February","March","April","May","June","July","August","September","October","November","December"];this.chartData=Object.entries(a).map(([u,d])=>[l[u],d])}catch(e){console.error("Error fetching user data:",e)}}}},bX={class:"line-chart"};function wX(e,t,n,i,r,s){const a=mt("line-chart");return H(),G("div",bX,[lt(a,{data:r.chartData,title:r.chartTitle,colors:r.chartColors,library:{lineTension:0}},null,8,["data","title","colors"])])}const EX=Vt(vX,[["render",wX],["__scopeId","data-v-97ef5052"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function yf(e){return e+.5|0}const Io=(e,t,n)=>Math.max(Math.min(e,n),t);function Ph(e){return Io(yf(e*2.55),0,255)}function Ro(e){return Io(yf(e*255),0,255)}function _s(e){return Io(yf(e/2.55)/100,0,1)}function pk(e){return Io(yf(e*100),0,100)}const Gi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cb=[..."0123456789ABCDEF"],IX=e=>Cb[e&15],AX=e=>Cb[(e&240)>>4]+Cb[e&15],eg=e=>(e&240)>>4===(e&15),TX=e=>eg(e.r)&&eg(e.g)&&eg(e.b)&&eg(e.a);function CX(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Gi[e[1]]*17,g:255&Gi[e[2]]*17,b:255&Gi[e[3]]*17,a:t===5?Gi[e[4]]*17:255}:(t===7||t===9)&&(n={r:Gi[e[1]]<<4|Gi[e[2]],g:Gi[e[3]]<<4|Gi[e[4]],b:Gi[e[5]]<<4|Gi[e[6]],a:t===9?Gi[e[7]]<<4|Gi[e[8]]:255})),n}const SX=(e,t)=>e<255?t(e):"";function xX(e){var t=TX(e)?IX:AX;return e?"#"+t(e.r)+t(e.g)+t(e.b)+SX(e.a,t):void 0}const kX=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function oN(e,t,n){const i=t*Math.min(n,1-n),r=(s,a=(s+e/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function PX(e,t,n){const i=(r,s=(r+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function RX(e,t,n){const i=oN(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function DX(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function H1(e){const n=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(n,i,r),a=Math.min(n,i,r),l=(s+a)/2;let u,d,f;return s!==a&&(f=s-a,d=l>.5?f/(2-s-a):f/(s+a),u=DX(n,i,r,f,s),u=u*60+.5),[u|0,d||0,l]}function z1(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Ro)}function W1(e,t,n){return z1(oN,e,t,n)}function MX(e,t,n){return z1(RX,e,t,n)}function OX(e,t,n){return z1(PX,e,t,n)}function aN(e){return(e%360+360)%360}function NX(e){const t=kX.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Ph(+t[5]):Ro(+t[5]));const r=aN(+t[2]),s=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=MX(r,s,a):t[1]==="hsv"?i=OX(r,s,a):i=W1(r,s,a),{r:i[0],g:i[1],b:i[2],a:n}}function LX(e,t){var n=H1(e);n[0]=aN(n[0]+t),n=W1(n),e.r=n[0],e.g=n[1],e.b=n[2]}function FX(e){if(!e)return;const t=H1(e),n=t[0],i=pk(t[1]),r=pk(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${_s(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const gk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mk={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VX(){const e={},t=Object.keys(mk),n=Object.keys(gk);let i,r,s,a,l;for(i=0;i<t.length;i++){for(a=l=t[i],r=0;r<n.length;r++)s=n[r],l=l.replace(s,gk[s]);s=parseInt(mk[a],16),e[l]=[s>>16&255,s>>8&255,s&255]}return e}let ng;function BX(e){ng||(ng=VX(),ng.transparent=[0,0,0,0]);const t=ng[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const UX=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $X(e){const t=UX.exec(e);let n=255,i,r,s;if(t){if(t[7]!==i){const a=+t[7];n=t[8]?Ph(a):Io(a*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Ph(i):Io(i,0,255)),r=255&(t[4]?Ph(r):Io(r,0,255)),s=255&(t[6]?Ph(s):Io(s,0,255)),{r:i,g:r,b:s,a:n}}}function jX(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${_s(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const u0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Yc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function HX(e,t,n){const i=Yc(_s(e.r)),r=Yc(_s(e.g)),s=Yc(_s(e.b));return{r:Ro(u0(i+n*(Yc(_s(t.r))-i))),g:Ro(u0(r+n*(Yc(_s(t.g))-r))),b:Ro(u0(s+n*(Yc(_s(t.b))-s))),a:e.a+n*(t.a-e.a)}}function ig(e,t,n){if(e){let i=H1(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=W1(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function cN(e,t){return e&&Object.assign(t||{},e)}function yk(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ro(e[3]))):(t=cN(e,{r:0,g:0,b:0,a:1}),t.a=Ro(t.a)),t}function zX(e){return e.charAt(0)==="r"?$X(e):NX(e)}class Od{constructor(t){if(t instanceof Od)return t;const n=typeof t;let i;n==="object"?i=yk(t):n==="string"&&(i=CX(t)||BX(t)||zX(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=cN(this._rgb);return t&&(t.a=_s(t.a)),t}set rgb(t){this._rgb=yk(t)}rgbString(){return this._valid?jX(this._rgb):void 0}hexString(){return this._valid?xX(this._rgb):void 0}hslString(){return this._valid?FX(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let s;const a=n===s?.5:n,l=2*a-1,u=i.a-r.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-d,i.r=255&d*i.r+s*r.r+.5,i.g=255&d*i.g+s*r.g+.5,i.b=255&d*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=HX(this._rgb,t._rgb,n)),this}clone(){return new Od(this.rgb)}alpha(t){return this._rgb.a=Ro(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=yf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ig(this._rgb,2,t),this}darken(t){return ig(this._rgb,2,-t),this}saturate(t){return ig(this._rgb,1,t),this}desaturate(t){return ig(this._rgb,1,-t),this}rotate(t){return LX(this._rgb,t),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function gs(){}const WX=(()=>{let e=0;return()=>e++})();function ee(e){return e===null||typeof e>"u"}function $e(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Xt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function cn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Bi(e,t){return cn(e)?e:t}function Nt(e,t){return typeof e>"u"?t:e}const qX=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,lN=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ke(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function we(e,t,n,i){let r,s,a;if($e(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(Xt(e))for(a=Object.keys(e),s=a.length,r=0;r<s;r++)t.call(n,e[a[r]],a[r])}function Am(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Tm(e){if($e(e))return e.map(Tm);if(Xt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=Tm(e[n[r]]);return t}return e}function uN(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function KX(e,t,n,i){if(!uN(e))return;const r=t[e],s=n[e];Xt(r)&&Xt(s)?Qa(r,s,i):t[e]=Tm(s)}function Qa(e,t,n){const i=$e(t)?t:[t],r=i.length;if(!Xt(e))return e;n=n||{};const s=n.merger||KX;let a;for(let l=0;l<r;++l){if(a=i[l],!Xt(a))continue;const u=Object.keys(a);for(let d=0,f=u.length;d<f;++d)s(u[d],e,a,n)}return e}function Qh(e,t){return Qa(e,t,{merger:GX})}function GX(e,t,n){if(!uN(e))return;const i=t[e],r=n[e];Xt(i)&&Xt(r)?Qh(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Tm(r))}const _k={"":e=>e,x:e=>e.x,y:e=>e.y};function YX(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function QX(e){const t=YX(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function $o(e,t){return(_k[t]||(_k[t]=QX(t)))(e)}function q1(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Nd=e=>typeof e<"u",jo=e=>typeof e=="function",vk=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function XX(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const He=Math.PI,je=2*He,JX=je+He,Cm=Number.POSITIVE_INFINITY,ZX=He/180,_n=He/2,ma=He/4,bk=He*2/3,Ao=Math.log10,Kr=Math.sign;function Xh(e,t,n){return Math.abs(e-t)<n}function wk(e){const t=Math.round(e);e=Xh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ao(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function tJ(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,s)=>r-s).pop(),t}function Fl(e){return!isNaN(parseFloat(e))&&isFinite(e)}function eJ(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function hN(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function dr(e){return e*(He/180)}function K1(e){return e*(180/He)}function Ek(e){if(!cn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function dN(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*He&&(s+=je),{angle:s,distance:r}}function Sb(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function nJ(e,t){return(e-t+JX)%je-He}function Ui(e){return(e%je+je)%je}function Ld(e,t,n,i){const r=Ui(e),s=Ui(t),a=Ui(n),l=Ui(s-r),u=Ui(a-r),d=Ui(r-s),f=Ui(r-a);return r===s||r===a||i&&s===a||l>u&&d<f}function $n(e,t,n){return Math.max(t,Math.min(n,e))}function iJ(e){return $n(e,-32768,32767)}function Is(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function G1(e,t,n){n=n||(a=>e[a]<t);let i=e.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const As=(e,t,n,i)=>G1(e,n,i?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),rJ=(e,t,n)=>G1(e,n,i=>e[i][t]>=n);function sJ(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const fN=["push","pop","shift","splice","unshift"];function oJ(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),fN.forEach(n=>{const i="_onData"+q1(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return e._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),a}})})}function Ik(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(fN.forEach(s=>{delete e[s]}),delete e._chartjs)}function pN(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const gN=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function mN(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,gN.call(window,()=>{i=!1,e.apply(t,n)}))}}function aJ(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Y1=e=>e==="start"?"left":e==="end"?"right":"center",ii=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,cJ=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function yN(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:a,_parsed:l}=e,u=a.axis,{min:d,max:f,minDefined:g,maxDefined:m}=a.getUserBounds();g&&(r=$n(Math.min(As(l,u,d).lo,n?i:As(t,u,a.getPixelForValue(d)).lo),0,i-1)),m?s=$n(Math.max(As(l,a.axis,f,!0).hi+1,n?0:As(t,u,a.getPixelForValue(f),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function _N(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const rg=e=>e===0||e===1,Ak=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*je/n)),Tk=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*je/n)+1,Jh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*_n)+1,easeOutSine:e=>Math.sin(e*_n),easeInOutSine:e=>-.5*(Math.cos(He*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>rg(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>rg(e)?e:Ak(e,.075,.3),easeOutElastic:e=>rg(e)?e:Tk(e,.075,.3),easeInOutElastic(e){return rg(e)?e:e<.5?.5*Ak(e*2,.1125,.45):.5+.5*Tk(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Jh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Jh.easeInBounce(e*2)*.5:Jh.easeOutBounce(e*2-1)*.5+.5};function Q1(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ck(e){return Q1(e)?e:new Od(e)}function h0(e){return Q1(e)?e:new Od(e).saturate(.5).darken(.1).hexString()}const lJ=["x","y","borderWidth","radius","tension"],uJ=["color","borderColor","backgroundColor"];function hJ(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:uJ},numbers:{type:"number",properties:lJ}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function dJ(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Sk=new Map;function fJ(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Sk.get(n);return i||(i=new Intl.NumberFormat(e,t),Sk.set(n,i)),i}function _f(e,t,n){return fJ(t,n).format(e)}const vN={values(e){return $e(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=pJ(e,n)}const a=Ao(Math.abs(s)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),_f(e,i,u)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Ao(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?vN.numeric.call(this,e,t,n):""}};function pJ(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var $y={formatters:vN};function gJ(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$y.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Xa=Object.create(null),xb=Object.create(null);function Zh(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];e=e[s]||(e[s]=Object.create(null))}return e}function d0(e,t,n){return typeof t=="string"?Qa(Zh(e,t),n):Qa(Zh(e,""),t)}class mJ{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>h0(r.backgroundColor),this.hoverBorderColor=(i,r)=>h0(r.borderColor),this.hoverColor=(i,r)=>h0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return d0(this,t,n)}get(t){return Zh(this,t)}describe(t,n){return d0(xb,t,n)}override(t,n){return d0(Xa,t,n)}route(t,n,i,r){const s=Zh(this,t),a=Zh(this,i),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],d=a[r];return Xt(u)?Object.assign({},d,u):Nt(u,d)},set(u){this[l]=u}}})}apply(t){t.forEach(n=>n(this))}}var Je=new mJ({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hJ,dJ,gJ]);function yJ(e){return!e||ee(e.size)||ee(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Sm(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function _J(e,t,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let a=0;const l=n.length;let u,d,f,g,m;for(u=0;u<l;u++)if(g=n[u],g!=null&&!$e(g))a=Sm(e,r,s,a,g);else if($e(g))for(d=0,f=g.length;d<f;d++)m=g[d],m!=null&&!$e(m)&&(a=Sm(e,r,s,a,m));e.restore();const v=s.length/2;if(v>n.length){for(u=0;u<v;u++)delete r[s[u]];s.splice(0,v)}return a}function ya(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function xk(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function kb(e,t,n,i){bN(e,t,n,i,null)}function bN(e,t,n,i,r){let s,a,l,u,d,f,g,m;const v=t.pointStyle,E=t.rotation,b=t.radius;let w=(E||0)*ZX;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(w),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(b)||b<=0)){switch(e.beginPath(),v){default:r?e.ellipse(n,i,r/2,b,0,0,je):e.arc(n,i,b,0,je),e.closePath();break;case"triangle":f=r?r/2:b,e.moveTo(n+Math.sin(w)*f,i-Math.cos(w)*b),w+=bk,e.lineTo(n+Math.sin(w)*f,i-Math.cos(w)*b),w+=bk,e.lineTo(n+Math.sin(w)*f,i-Math.cos(w)*b),e.closePath();break;case"rectRounded":d=b*.516,u=b-d,a=Math.cos(w+ma)*u,g=Math.cos(w+ma)*(r?r/2-d:u),l=Math.sin(w+ma)*u,m=Math.sin(w+ma)*(r?r/2-d:u),e.arc(n-g,i-l,d,w-He,w-_n),e.arc(n+m,i-a,d,w-_n,w),e.arc(n+g,i+l,d,w,w+_n),e.arc(n-m,i+a,d,w+_n,w+He),e.closePath();break;case"rect":if(!E){u=Math.SQRT1_2*b,f=r?r/2:u,e.rect(n-f,i-u,2*f,2*u);break}w+=ma;case"rectRot":g=Math.cos(w)*(r?r/2:b),a=Math.cos(w)*b,l=Math.sin(w)*b,m=Math.sin(w)*(r?r/2:b),e.moveTo(n-g,i-l),e.lineTo(n+m,i-a),e.lineTo(n+g,i+l),e.lineTo(n-m,i+a),e.closePath();break;case"crossRot":w+=ma;case"cross":g=Math.cos(w)*(r?r/2:b),a=Math.cos(w)*b,l=Math.sin(w)*b,m=Math.sin(w)*(r?r/2:b),e.moveTo(n-g,i-l),e.lineTo(n+g,i+l),e.moveTo(n+m,i-a),e.lineTo(n-m,i+a);break;case"star":g=Math.cos(w)*(r?r/2:b),a=Math.cos(w)*b,l=Math.sin(w)*b,m=Math.sin(w)*(r?r/2:b),e.moveTo(n-g,i-l),e.lineTo(n+g,i+l),e.moveTo(n+m,i-a),e.lineTo(n-m,i+a),w+=ma,g=Math.cos(w)*(r?r/2:b),a=Math.cos(w)*b,l=Math.sin(w)*b,m=Math.sin(w)*(r?r/2:b),e.moveTo(n-g,i-l),e.lineTo(n+g,i+l),e.moveTo(n+m,i-a),e.lineTo(n-m,i+a);break;case"line":a=r?r/2:Math.cos(w)*b,l=Math.sin(w)*b,e.moveTo(n-a,i-l),e.lineTo(n+a,i+l);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(w)*(r?r/2:b),i+Math.sin(w)*b);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Ts(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function jy(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Hy(e){e.restore()}function vJ(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function bJ(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function wJ(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ee(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function EJ(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),a=t-s.actualBoundingBoxLeft,l=t+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,f=r.strikethrough?(u+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(a,f),e.lineTo(l,f),e.stroke()}}function IJ(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ja(e,t,n,i,r,s={}){const a=$e(t)?t:[t],l=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(e.save(),e.font=r.string,wJ(e,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&IJ(e,s.backdrop),l&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),ee(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(d,n,i,s.maxWidth)),e.fillText(d,n,i,s.maxWidth),EJ(e,n,i,d,s),i+=Number(r.lineHeight);e.restore()}function Fd(e,t){const{x:n,y:i,w:r,h:s,radius:a}=t;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*He,He,!0),e.lineTo(n,i+s-a.bottomLeft),e.arc(n+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,He,_n,!0),e.lineTo(n+r-a.bottomRight,i+s),e.arc(n+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,_n,0,!0),e.lineTo(n+r,i+a.topRight),e.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-_n,!0),e.lineTo(n+a.topLeft,i)}const AJ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TJ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function CJ(e,t){const n=(""+e).match(AJ);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const SJ=e=>+e||0;function X1(e,t){const n={},i=Xt(t),r=i?Object.keys(t):t,s=Xt(e)?i?a=>Nt(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of r)n[a]=SJ(s(a));return n}function wN(e){return X1(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ba(e){return X1(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ti(e){const t=wN(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function xn(e,t){e=e||{},t=t||Je.font;let n=Nt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Nt(e.style,t.style);i&&!(""+i).match(TJ)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Nt(e.family,t.family),lineHeight:CJ(Nt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Nt(e.weight,t.weight),string:""};return r.string=yJ(r),r}function Le(e,t,n,i){let r=!0,s,a,l;for(s=0,a=e.length;s<a;++s)if(l=e[s],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t),r=!1),n!==void 0&&$e(l)&&(l=l[n%l.length],r=!1),l!==void 0))return i&&!r&&(i.cacheable=!1),l}function xJ(e,t,n){const{min:i,max:r}=e,s=lN(t,(r-i)/2),a=(l,u)=>n&&l===0?0:l+u;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function Qo(e,t){return Object.assign(Object.create(e),t)}function J1(e,t=[""],n,i,r=()=>e[0]){const s=n||e;typeof i>"u"&&(i=TN("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>J1([l,...e],t,s,i)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete e[0][u],!0},get(l,u){return IN(l,u,()=>LJ(u,t,e,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,u){return Pk(l).includes(u)},ownKeys(l){return Pk(l)},set(l,u,d){const f=l._storage||(l._storage=r());return l[u]=f[u]=d,delete l._keys,!0}})}function Vl(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:EN(e,i),setContext:s=>Vl(e,s,n,i),override:s=>Vl(e.override(s),t,n,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete e[a],!0},get(s,a,l){return IN(s,a,()=>PJ(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(s,a,l){return e[a]=l,delete s[a],!0}})}function EN(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:jo(n)?n:()=>n,isIndexable:jo(i)?i:()=>i}}const kJ=(e,t)=>e?e+q1(t):t,Z1=(e,t)=>Xt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function IN(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function PJ(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=e;let l=i[t];return jo(l)&&a.isScriptable(t)&&(l=RJ(t,l,e,n)),$e(l)&&l.length&&(l=DJ(t,l,e,a.isIndexable)),Z1(t,l)&&(l=Vl(l,r,s&&s[t],a)),l}function RJ(e,t,n,i){const{_proxy:r,_context:s,_subProxy:a,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let u=t(s,a||i);return l.delete(e),Z1(e,u)&&(u=tE(r._scopes,r,e,u)),u}function DJ(e,t,n,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=n;if(typeof s.index<"u"&&i(e))return t[s.index%t.length];if(Xt(t[0])){const u=t,d=r._scopes.filter(f=>f!==u);t=[];for(const f of u){const g=tE(d,r,e,f);t.push(Vl(g,s,a&&a[e],l))}}return t}function AN(e,t,n){return jo(e)?e(t,n):e}const MJ=(e,t)=>e===!0?t:typeof e=="string"?$o(t,e):void 0;function OJ(e,t,n,i,r){for(const s of t){const a=MJ(n,s);if(a){e.add(a);const l=AN(a._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function tE(e,t,n,i){const r=t._rootScopes,s=AN(t._fallback,n,i),a=[...e,...r],l=new Set;l.add(i);let u=kk(l,a,n,s||n,i);return u===null||typeof s<"u"&&s!==n&&(u=kk(l,a,s,u,i),u===null)?!1:J1(Array.from(l),[""],r,s,()=>NJ(t,n,i))}function kk(e,t,n,i,r){for(;n;)n=OJ(e,t,n,i,r);return n}function NJ(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return $e(r)&&Xt(n)?n:r||{}}function LJ(e,t,n,i){let r;for(const s of t)if(r=TN(kJ(s,e),n),typeof r<"u")return Z1(e,r)?tE(n,i,e,r):r}function TN(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function Pk(e){let t=e._keys;return t||(t=e._keys=FJ(e._scopes)),t}function FJ(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function CN(e,t,n,i){const{iScale:r}=e,{key:s="r"}=this._parsing,a=new Array(i);let l,u,d,f;for(l=0,u=i;l<u;++l)d=l+n,f=t[d],a[l]={r:r.parse($o(f,s),d)};return a}const VJ=Number.EPSILON||1e-14,Bl=(e,t)=>t<e.length&&!e[t].skip&&e[t],SN=e=>e==="x"?"y":"x";function BJ(e,t,n,i){const r=e.skip?t:e,s=t,a=n.skip?t:n,l=Sb(s,r),u=Sb(a,s);let d=l/(l+u),f=u/(l+u);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const g=i*d,m=i*f;return{previous:{x:s.x-g*(a.x-r.x),y:s.y-g*(a.y-r.y)},next:{x:s.x+m*(a.x-r.x),y:s.y+m*(a.y-r.y)}}}function UJ(e,t,n){const i=e.length;let r,s,a,l,u,d=Bl(e,0);for(let f=0;f<i-1;++f)if(u=d,d=Bl(e,f+1),!(!u||!d)){if(Xh(t[f],0,VJ)){n[f]=n[f+1]=0;continue}r=n[f]/t[f],s=n[f+1]/t[f],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),n[f]=r*a*t[f],n[f+1]=s*a*t[f])}}function $J(e,t,n="x"){const i=SN(n),r=e.length;let s,a,l,u=Bl(e,0);for(let d=0;d<r;++d){if(a=l,l=u,u=Bl(e,d+1),!l)continue;const f=l[n],g=l[i];a&&(s=(f-a[n])/3,l[`cp1${n}`]=f-s,l[`cp1${i}`]=g-s*t[d]),u&&(s=(u[n]-f)/3,l[`cp2${n}`]=f+s,l[`cp2${i}`]=g+s*t[d])}}function jJ(e,t="x"){const n=SN(t),i=e.length,r=Array(i).fill(0),s=Array(i);let a,l,u,d=Bl(e,0);for(a=0;a<i;++a)if(l=u,u=d,d=Bl(e,a+1),!!u){if(d){const f=d[t]-u[t];r[a]=f!==0?(d[n]-u[n])/f:0}s[a]=l?d?Kr(r[a-1])!==Kr(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}UJ(e,r,s),$J(e,s,t)}function sg(e,t,n){return Math.max(Math.min(e,n),t)}function HJ(e,t){let n,i,r,s,a,l=Ts(e[0],t);for(n=0,i=e.length;n<i;++n)a=s,s=l,l=n<i-1&&Ts(e[n+1],t),s&&(r=e[n],a&&(r.cp1x=sg(r.cp1x,t.left,t.right),r.cp1y=sg(r.cp1y,t.top,t.bottom)),l&&(r.cp2x=sg(r.cp2x,t.left,t.right),r.cp2y=sg(r.cp2y,t.top,t.bottom)))}function zJ(e,t,n,i,r){let s,a,l,u;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")jJ(e,r);else{let d=i?e[e.length-1]:e[0];for(s=0,a=e.length;s<a;++s)l=e[s],u=BJ(d,l,e[Math.min(s+1,a-(i?0:1))%a],t.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}t.capBezierPoints&&HJ(e,n)}function eE(){return typeof window<"u"&&typeof document<"u"}function nE(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function xm(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const zy=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function WJ(e,t){return zy(e).getPropertyValue(t)}const qJ=["top","right","bottom","left"];function Ua(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=qJ[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const KJ=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function GJ(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let a=!1,l,u;if(KJ(r,s,e.target))l=r,u=s;else{const d=t.getBoundingClientRect();l=i.clientX-d.left,u=i.clientY-d.top,a=!0}return{x:l,y:u,box:a}}function wa(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=zy(n),s=r.boxSizing==="border-box",a=Ua(r,"padding"),l=Ua(r,"border","width"),{x:u,y:d,box:f}=GJ(e,n),g=a.left+(f&&l.left),m=a.top+(f&&l.top);let{width:v,height:E}=t;return s&&(v-=a.width+l.width,E-=a.height+l.height),{x:Math.round((u-g)/v*n.width/i),y:Math.round((d-m)/E*n.height/i)}}function YJ(e,t,n){let i,r;if(t===void 0||n===void 0){const s=nE(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const a=s.getBoundingClientRect(),l=zy(s),u=Ua(l,"border","width"),d=Ua(l,"padding");t=a.width-d.width-u.width,n=a.height-d.height-u.height,i=xm(l.maxWidth,s,"clientWidth"),r=xm(l.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:i||Cm,maxHeight:r||Cm}}const og=e=>Math.round(e*10)/10;function QJ(e,t,n,i){const r=zy(e),s=Ua(r,"margin"),a=xm(r.maxWidth,e,"clientWidth")||Cm,l=xm(r.maxHeight,e,"clientHeight")||Cm,u=YJ(e,t,n);let{width:d,height:f}=u;if(r.boxSizing==="content-box"){const m=Ua(r,"border","width"),v=Ua(r,"padding");d-=v.width+m.width,f-=v.height+m.height}return d=Math.max(0,d-s.width),f=Math.max(0,i?d/i:f-s.height),d=og(Math.min(d,a,u.maxWidth)),f=og(Math.min(f,l,u.maxHeight)),d&&!f&&(f=og(d/2)),(t!==void 0||n!==void 0)&&i&&u.height&&f>u.height&&(f=u.height,d=og(Math.floor(f*i))),{width:d,height:f}}function Rk(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(e.currentDevicePixelRatio=i,a.height=r,a.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const XJ=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};eE()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Dk(e,t){const n=WJ(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ea(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function JJ(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function ZJ(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},a=Ea(e,r,n),l=Ea(r,s,n),u=Ea(s,t,n),d=Ea(a,l,n),f=Ea(l,u,n);return Ea(d,f,n)}const tZ=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},eZ=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function _l(e,t,n){return e?tZ(t,n):eZ()}function xN(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function kN(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function PN(e){return e==="angle"?{between:Ld,compare:nJ,normalize:Ui}:{between:Is,compare:(t,n)=>t-n,normalize:t=>t}}function Mk({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function nZ(e,t,n){const{property:i,start:r,end:s}=n,{between:a,normalize:l}=PN(i),u=t.length;let{start:d,end:f,loop:g}=e,m,v;if(g){for(d+=u,f+=u,m=0,v=u;m<v&&a(l(t[d%u][i]),r,s);++m)d--,f--;d%=u,f%=u}return f<d&&(f+=u),{start:d,end:f,loop:g,style:e.style}}function RN(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,a=t.length,{compare:l,between:u,normalize:d}=PN(i),{start:f,end:g,loop:m,style:v}=nZ(e,t,n),E=[];let b=!1,w=null,A,C,k;const R=()=>u(r,k,A)&&l(r,k)!==0,D=()=>l(s,A)===0||u(s,k,A),M=()=>b||R(),N=()=>!b||D();for(let V=f,X=f;V<=g;++V)C=t[V%a],!C.skip&&(A=d(C[i]),A!==k&&(b=u(A,r,s),w===null&&M()&&(w=l(A,r)===0?V:X),w!==null&&N()&&(E.push(Mk({start:w,end:V,loop:m,count:a,style:v})),w=null),X=V,k=A));return w!==null&&E.push(Mk({start:w,end:g,loop:m,count:a,style:v})),E}function DN(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=RN(i[r],e.points,t);s.length&&n.push(...s)}return n}function iZ(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}function rZ(e,t,n,i){const r=e.length,s=[];let a=t,l=e[t],u;for(u=t+1;u<=n;++u){const d=e[u%r];d.skip||d.stop?l.skip||(i=!1,s.push({start:t%r,end:(u-1)%r,loop:i}),t=a=d.stop?u:null):(a=u,l.skip&&(t=u)),l=d}return a!==null&&s.push({start:t%r,end:a%r,loop:i}),s}function sZ(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:a,end:l}=iZ(n,r,s,i);if(i===!0)return Ok(e,[{start:a,end:l,loop:s}],n,t);const u=l<a?l+r:l,d=!!e._fullLoop&&a===0&&l===r-1;return Ok(e,rZ(n,a,u,d),n,t)}function Ok(e,t,n,i){return!i||!i.setContext||!n?t:oZ(e,t,n,i)}function oZ(e,t,n,i){const r=e._chart.getContext(),s=Nk(e.options),{_datasetIndex:a,options:{spanGaps:l}}=e,u=n.length,d=[];let f=s,g=t[0].start,m=g;function v(E,b,w,A){const C=l?-1:1;if(E!==b){for(E+=u;n[E%u].skip;)E-=C;for(;n[b%u].skip;)b+=C;E%u!==b%u&&(d.push({start:E%u,end:b%u,loop:w,style:A}),f=A,g=b%u)}}for(const E of t){g=l?g:E.start;let b=n[g%u],w;for(m=g+1;m<=E.end;m++){const A=n[m%u];w=Nk(i.setContext(Qo(r,{type:"segment",p0:b,p1:A,p0DataIndex:(m-1)%u,p1DataIndex:m%u,datasetIndex:a}))),aZ(w,f)&&v(g,m-1,E.loop,f),b=A,f=w}g<m-1&&v(g,m-1,E.loop,f)}return d}function Nk(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function aZ(e,t){if(!t)return!1;const n=[],i=function(r,s){return Q1(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class cZ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const s=n.listeners[r],a=n.duration;s.forEach(l=>l({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=gN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,l=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(t),l=!0):(s[a]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ms=new cZ;const Lk="transparent",lZ={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=Ck(e||Lk),r=i.valid&&Ck(t||Lk);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class uZ{constructor(t,n,i,r){const s=n[i];r=Le([t.to,r,s,t.from]);const a=Le([t.from,s,r]);this._active=!0,this._fn=t.fn||lZ[t.type||typeof a],this._easing=Jh[t.easing]||Jh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Le([t.to,n,r,t.from]),this._from=Le([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,l=this._to;let u;if(this._active=s!==l&&(a||n<i),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=s;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,l,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class MN{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Xt(t))return;const n=Object.keys(Je.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!Xt(s))return;const a={};for(const l of n)a[l]=s[l];($e(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,a)})})}_animateOptions(t,n){const i=n.options,r=dZ(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&hZ(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,n){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),a=Object.keys(n),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,n));continue}const f=n[d];let g=s[d];const m=i.get(d);if(g)if(m&&g.active()){g.update(m,f,l);continue}else g.cancel();if(!m||!m.duration){t[d]=f;continue}s[d]=g=new uZ(m,t,d,f),r.push(g)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return ms.add(this._chart,i),!0}}function hZ(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=e[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function dZ(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Fk(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function fZ(e,t,n){if(n===!1)return!1;const i=Fk(e,n),r=Fk(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function pZ(e){let t,n,i,r;return Xt(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function ON(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function Vk(e,t,n,i={}){const r=e.keys,s=i.mode==="single";let a,l,u,d;if(t!==null){for(a=0,l=r.length;a<l;++a){if(u=+r[a],u===n){if(i.all)continue;break}d=e.values[u],cn(d)&&(s||t===0||Kr(t)===Kr(d))&&(t+=d)}return t}}function gZ(e){const t=Object.keys(e),n=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],n[i]={x:s,y:e[s]};return n}function Bk(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function mZ(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function yZ(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function _Z(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function Uk(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=e[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function $k(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:l}=i,u=s.axis,d=a.axis,f=mZ(s,a,i),g=t.length;let m;for(let v=0;v<g;++v){const E=t[v],{[u]:b,[d]:w}=E,A=E._stacks||(E._stacks={});m=A[d]=_Z(r,f,b),m[l]=w,m._top=Uk(m,a,!0,i.type),m._bottom=Uk(m,a,!1,i.type);const C=m._visualValues||(m._visualValues={});C[l]=w}}function f0(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function vZ(e,t){return Qo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function bZ(e,t,n){return Qo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function fh(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const p0=e=>e==="reset"||e==="none",jk=(e,t)=>t?e:Object.assign({},e),wZ=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:ON(n,!0),values:null};class pr{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Bk(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&fh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(g,m,v,E)=>g==="x"?m:g==="r"?E:v,s=n.xAxisID=Nt(i.xAxisID,f0(t,"x")),a=n.yAxisID=Nt(i.yAxisID,f0(t,"y")),l=n.rAxisID=Nt(i.rAxisID,f0(t,"r")),u=n.indexAxis,d=n.iAxisID=r(u,s,a,l),f=n.vAxisID=r(u,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ik(this._data,this),t._stacked&&fh(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(Xt(n))this._data=gZ(n);else if(i!==n){if(i){Ik(i,this);const r=this._cachedMeta;fh(r),r._parsed=[]}n&&Object.isExtensible(n)&&oJ(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Bk(n.vScale,n),n.stack!==i.stack&&(r=!0,fh(n),n.stack=i.stack),this._resyncElements(t),(r||s!==n._stacked)&&$k(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,l=s.axis;let u=t===0&&n===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],f,g,m;if(this._parsing===!1)i._parsed=r,i._sorted=!0,m=r;else{$e(r[t])?m=this.parseArrayData(i,r,t,n):Xt(r[t])?m=this.parseObjectData(i,r,t,n):m=this.parsePrimitiveData(i,r,t,n);const v=()=>g[l]===null||d&&g[l]<d[l];for(f=0;f<n;++f)i._parsed[f+t]=g=m[f],u&&(v()&&(u=!1),d=g);i._sorted=u}a&&$k(this,m)}parsePrimitiveData(t,n,i,r){const{iScale:s,vScale:a}=t,l=s.axis,u=a.axis,d=s.getLabels(),f=s===a,g=new Array(r);let m,v,E;for(m=0,v=r;m<v;++m)E=m+i,g[m]={[l]:f||s.parse(d[E],E),[u]:a.parse(n[E],E)};return g}parseArrayData(t,n,i,r){const{xScale:s,yScale:a}=t,l=new Array(r);let u,d,f,g;for(u=0,d=r;u<d;++u)f=u+i,g=n[f],l[u]={x:s.parse(g[0],f),y:a.parse(g[1],f)};return l}parseObjectData(t,n,i,r){const{xScale:s,yScale:a}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(r);let f,g,m,v;for(f=0,g=r;f<g;++f)m=f+i,v=n[m],d[f]={x:s.parse($o(v,l),m),y:a.parse($o(v,u),m)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,s=this._cachedMeta,a=n[t.axis],l={keys:ON(r,!0),values:n._stacks[t.axis]._visualValues};return Vk(l,a,s.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const s=i[n.axis];let a=s===null?NaN:s;const l=r&&i._stacks[n.axis];r&&l&&(r.values=l,a=Vk(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,a=r.length,l=this._getOtherScale(t),u=wZ(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=yZ(l);let m,v;function E(){v=r[m];const b=v[l.axis];return!cn(v[t.axis])||f>b||g<b}for(m=0;m<a&&!(!E()&&(this.updateRangeFromParsed(d,t,v,u),s));++m);if(s){for(m=a-1;m>=0;--m)if(!E()){this.updateRangeFromParsed(d,t,v,u);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=n.length;r<s;++r)a=n[r][t.axis],cn(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=pZ(Nt(this.options.clip,fZ(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(t,s,l,u),f=l;f<l+u;++f){const g=r[f];g.hidden||(g.active&&d?a.push(g):g.draw(t,s))}for(f=0;f<a.length;++f)a[f].draw(t,s)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=bZ(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=vZ(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",s=this._cachedDataOpts,a=t+"-"+n,l=s[a],u=this.enableOptionSharing&&Nd(i);if(l)return jk(l,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,t),g=r?[`${t}Hover`,"hover",t,""]:[t,""],m=d.getOptionScopes(this.getDataset(),f),v=Object.keys(Je.elements[t]),E=()=>this.getContext(i,r,n),b=d.resolveNamedOptions(m,v,E,g);return b.$shared&&(b.$shared=u,s[a]=Object.freeze(jk(b,u))),b}_resolveAnimations(t,n,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let u;if(r.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,n),m=f.getOptionScopes(this.getDataset(),g);u=f.createResolver(m,this.getContext(t,i,n))}const d=new MN(r,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||p0(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:a}}updateElement(t,n,i,r){p0(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!p0(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const r=i.length,s=n.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,n,i=!0){const r=this._cachedMeta,s=r.data,a=t+n;let l;const u=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(u(s),l=t;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(t,n),i&&this.updateElements(s,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&fh(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}L(pr,"defaults",{}),L(pr,"datasetElementType",null),L(pr,"dataElementType",null);function EZ(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=pN(i.sort((r,s)=>r-s))}return e._cache.$bar}function IZ(e){const t=e.iScale,n=EZ(t,e.type);let i=t._length,r,s,a,l;const u=()=>{a===32767||a===-32768||(Nd(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(r=0,s=n.length;r<s;++r)a=t.getPixelForValue(n[r]),u();for(l=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),u();return i}function AZ(e,t,n,i){const r=n.barThickness;let s,a;return ee(r)?(s=t.min*n.categoryPercentage,a=n.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[e]-s/2}}function TZ(e,t,n,i){const r=t.pixels,s=r[e];let a=e>0?r[e-1]:null,l=e<r.length-1?r[e+1]:null;const u=n.categoryPercentage;a===null&&(a=s-(l===null?t.end-t.start:l-s)),l===null&&(l=s+s-a);const d=s-(s-Math.min(a,l))/2*u;return{chunk:Math.abs(l-a)/2*u/i,ratio:n.barPercentage,start:d}}function CZ(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),a=Math.min(r,s),l=Math.max(r,s);let u=a,d=l;Math.abs(a)>Math.abs(l)&&(u=l,d=a),t[n.axis]=d,t._custom={barStart:u,barEnd:d,start:r,end:s,min:a,max:l}}function NN(e,t,n,i){return $e(e)?CZ(e,t,n,i):t[n.axis]=n.parse(e,i),t}function Hk(e,t,n,i){const r=e.iScale,s=e.vScale,a=r.getLabels(),l=r===s,u=[];let d,f,g,m;for(d=n,f=n+i;d<f;++d)m=t[d],g={},g[r.axis]=l||r.parse(a[d],d),u.push(NN(m,g,s,d));return u}function g0(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function SZ(e,t,n){return e!==0?Kr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function xZ(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}function kZ(e,t,n,i){let r=t.borderSkipped;const s={};if(!r){e.borderSkipped=s;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:u,top:d,bottom:f}=xZ(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=d:(n._bottom||0)===i?r=f:(s[zk(f,a,l,u)]=!0,r=d)),s[zk(r,a,l,u)]=!0,e.borderSkipped=s}function zk(e,t,n,i){return i?(e=PZ(e,t,n),e=Wk(e,n,t)):e=Wk(e,t,n),e}function PZ(e,t,n){return e===t?n:e===n?t:e}function Wk(e,t,n){return e==="start"?t:e==="end"?n:e}function RZ(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Fg extends pr{parsePrimitiveData(t,n,i,r){return Hk(t,n,i,r)}parseArrayData(t,n,i,r){return Hk(t,n,i,r)}parseObjectData(t,n,i,r){const{iScale:s,vScale:a}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=s.axis==="x"?l:u,f=a.axis==="x"?l:u,g=[];let m,v,E,b;for(m=i,v=i+r;m<v;++m)b=n[m],E={},E[s.axis]=s.parse($o(b,d),m),g.push(NN($o(b,f),E,a,m));return g}updateRangeFromParsed(t,n,i,r){super.updateRangeFromParsed(t,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(t),a=s._custom,l=g0(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,r){const s=r==="reset",{index:a,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),d=l.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:m}=this._getSharedOptions(n,r);for(let v=n;v<n+i;v++){const E=this.getParsed(v),b=s||ee(E[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),w=this._calculateBarIndexPixels(v,f),A=(E._stacks||{})[l.axis],C={horizontal:d,base:b.base,enableBorderRadius:!A||g0(E._custom)||a===A._top||a===A._bottom,x:d?b.head:w.center,y:d?w.center:b.head,height:d?w.size:Math.abs(b.size),width:d?Math.abs(b.size):w.size};m&&(C.options=g||this.resolveDataElementOptions(v,t[v].active?"active":r));const k=C.options||t[v].options;kZ(C,k,A,a),RZ(C,k,f.ratio),this.updateElement(t[v],v,C,r)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=i.options.stacked,a=[],l=u=>{const d=u.controller.getParsed(n),f=d&&d[u.vScale.axis];if(ee(f)||isNaN(f))return!0};for(const u of r)if(!(n!==void 0&&l(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const r=this._getStacks(t,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,a;for(s=0,a=n.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const l=t.barThickness;return{min:l||IZ(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:a}}=this,l=s||0,u=this.getParsed(t),d=u._custom,f=g0(d);let g=u[n.axis],m=0,v=i?this.applyStack(n,u,i):g,E,b;v!==g&&(m=v-g,v=g),f&&(g=d.barStart,v=d.barEnd-d.barStart,g!==0&&Kr(g)!==Kr(d.barEnd)&&(m=0),m+=g);const w=!ee(s)&&!f?s:m;let A=n.getPixelForValue(w);if(this.chart.getDataVisibility(t)?E=n.getPixelForValue(m+v):E=A,b=E-A,Math.abs(b)<a){b=SZ(b,n,l)*a,g===l&&(A-=b/2);const C=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),R=Math.min(C,k),D=Math.max(C,k);A=Math.max(Math.min(A,D),R),E=A+b,i&&!f&&(u._stacks[n.axis]._visualValues[r]=n.getValueForPixel(E)-n.getValueForPixel(A))}if(A===n.getPixelForValue(l)){const C=Kr(b)*n.getLineWidthForValue(l)/2;A+=C,b-=C}return{size:b,base:A,head:E,center:E+b/2}}_calculateBarIndexPixels(t,n){const i=n.scale,r=this.options,s=r.skipNull,a=Nt(r.maxBarThickness,1/0);let l,u;if(n.grouped){const d=s?this._getStackCount(t):n.stackCount,f=r.barThickness==="flex"?TZ(t,n,r,d):AZ(t,n,r,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);l=f.start+f.chunk*g+f.chunk/2,u=Math.min(a,f.chunk*f.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),u=Math.min(a,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}L(Fg,"id","bar"),L(Fg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),L(Fg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Vg extends pr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,r){const s=super.parsePrimitiveData(t,n,i,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,n,i,r){const s=super.parseArrayData(t,n,i,r);for(let a=0;a<s.length;a++){const l=n[i+a];s[a]._custom=Nt(l[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(t,n,i,r){const s=super.parseObjectData(t,n,i,r);for(let a=0;a<s.length;a++){const l=n[i+a];s[a]._custom=Nt(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,a=this.getParsed(t),l=r.getLabelForValue(a.x),u=s.getLabelForValue(a.y),d=a._custom;return{label:i[t]||"",value:"("+l+", "+u+(d?", "+d:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,r),f=a.axis,g=l.axis;for(let m=n;m<n+i;m++){const v=t[m],E=!s&&this.getParsed(m),b={},w=b[f]=s?a.getPixelForDecimal(.5):a.getPixelForValue(E[f]),A=b[g]=s?l.getBasePixel():l.getPixelForValue(E[g]);b.skip=isNaN(w)||isNaN(A),d&&(b.options=u||this.resolveDataElementOptions(m,v.active?"active":r),s&&(b.options.radius=0)),this.updateElement(v,m,b,r)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=Nt(i&&i._custom,s),r}}L(Vg,"id","bubble"),L(Vg,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),L(Vg,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function DZ(e,t,n){let i=1,r=1,s=0,a=0;if(t<je){const l=e,u=l+t,d=Math.cos(l),f=Math.sin(l),g=Math.cos(u),m=Math.sin(u),v=(k,R,D)=>Ld(k,l,u,!0)?1:Math.max(R,R*n,D,D*n),E=(k,R,D)=>Ld(k,l,u,!0)?-1:Math.min(R,R*n,D,D*n),b=v(0,d,g),w=v(_n,f,m),A=E(He,d,g),C=E(He+_n,f,m);i=(b-A)/2,r=(w-C)/2,s=-(b+A)/2,a=-(w+C)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}class Ma extends pr{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(Xt(i[t])){const{key:u="value"}=this._parsing;s=d=>+$o(i[d],u)}let a,l;for(a=t,l=t+n;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return dr(this.options.rotation-90)}_getCircumference(){return dr(this.options.circumference)}_getRotationExtents(){let t=je,n=-je;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();t=Math.min(t,s),n=Math.max(n,s+a)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(qX(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:m,ratioY:v,offsetX:E,offsetY:b}=DZ(g,f,u),w=(i.width-a)/m,A=(i.height-a)/v,C=Math.max(Math.min(w,A)/2,0),k=lN(this.options.radius,C),R=Math.max(k*u,0),D=(k-R)/this._getVisibleDatasetWeightTotal();this.offsetX=E*k,this.offsetY=b*k,r.total=this.calculateTotal(),this.outerRadius=k-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*d,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/je)}updateElements(t,n,i,r){const s=r==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,f=(l.left+l.right)/2,g=(l.top+l.bottom)/2,m=s&&d.animateScale,v=m?0:this.innerRadius,E=m?0:this.outerRadius,{sharedOptions:b,includeOptions:w}=this._getSharedOptions(n,r);let A=this._getRotation(),C;for(C=0;C<n;++C)A+=this._circumference(C,s);for(C=n;C<n+i;++C){const k=this._circumference(C,s),R=t[C],D={x:f+this.offsetX,y:g+this.offsetY,startAngle:A,endAngle:A+k,circumference:k,outerRadius:E,innerRadius:v};w&&(D.options=b||this.resolveDataElementOptions(C,R.active?"active":r)),A+=k,this.updateElement(R,C,D,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,r;for(r=0;r<n.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?je*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=_f(n._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const i=this.chart;let r,s,a,l,u;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),t=a.data,l=a.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)u=l.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Nt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}L(Ma,"id","doughnut"),L(Ma,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),L(Ma,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),L(Ma,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((s,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Bg extends pr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:l,count:u}=yN(n,r,a);this._drawStart=l,this._drawCount=u,_N(n)&&(l=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},t),this.updateElements(r,l,u,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(n,r),m=a.axis,v=l.axis,{spanGaps:E,segment:b}=this.options,w=Fl(E)?E:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||s||r==="none",C=n+i,k=t.length;let R=n>0&&this.getParsed(n-1);for(let D=0;D<k;++D){const M=t[D],N=A?M:{};if(D<n||D>=C){N.skip=!0;continue}const V=this.getParsed(D),X=ee(V[v]),at=N[m]=a.getPixelForValue(V[m],D),J=N[v]=s||X?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,V,u):V[v],D);N.skip=isNaN(at)||isNaN(J)||X,N.stop=D>0&&Math.abs(V[m]-R[m])>w,b&&(N.parsed=V,N.raw=d.data[D]),g&&(N.options=f||this.resolveDataElementOptions(D,M.active?"active":r)),A||this.updateElement(M,D,N,r),R=V}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}L(Bg,"id","line"),L(Bg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),L(Bg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class td extends pr{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=_f(n._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,n,i,r){return CN.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),l=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,n,i,r){const s=r==="reset",a=this.chart,u=a.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,g=d.yCenter,m=d.getIndexAngle(0)-.5*He;let v=m,E;const b=360/this.countVisibleElements();for(E=0;E<n;++E)v+=this._computeAngle(E,r,b);for(E=n;E<n+i;E++){const w=t[E];let A=v,C=v+this._computeAngle(E,r,b),k=a.getDataVisibility(E)?d.getDistanceFromCenterForValue(this.getParsed(E).r):0;v=C,s&&(u.animateScale&&(k=0),u.animateRotate&&(A=C=m));const R={x:f,y:g,innerRadius:0,outerRadius:k,startAngle:A,endAngle:C,options:this.resolveDataElementOptions(E,w.active?"active":r)};this.updateElement(w,E,R,r)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?dr(this.resolveDataElementOptions(t,n).angle||i):0}}L(td,"id","polarArea"),L(td,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),L(td,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((s,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Pb extends Ma{}L(Pb,"id","pie"),L(Pb,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ug extends pr{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,r){return CN.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===r.length,options:a};this.updateElement(i,void 0,l,t)}this.updateElements(r,0,r.length,t)}updateElements(t,n,i,r){const s=this._cachedMeta.rScale,a=r==="reset";for(let l=n;l<n+i;l++){const u=t[l],d=this.resolveDataElementOptions(l,u.active?"active":r),f=s.getPointPositionForValue(l,this.getParsed(l).r),g=a?s.xCenter:f.x,m=a?s.yCenter:f.y,v={x:g,y:m,angle:f.angle,skip:isNaN(g)||isNaN(m),options:d};this.updateElement(u,l,v,r)}}}L(Ug,"id","radar"),L(Ug,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),L(Ug,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class $g extends pr{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,a=this.getParsed(t),l=r.getLabelForValue(a.x),u=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+l+", "+u+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:a}=yN(n,i,r);if(this._drawStart=s,this._drawCount=a,_N(n)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:u}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,r){const s=r==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(n,r),g=this.getSharedOptions(f),m=this.includeOptions(r,g),v=a.axis,E=l.axis,{spanGaps:b,segment:w}=this.options,A=Fl(b)?b:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||r==="none";let k=n>0&&this.getParsed(n-1);for(let R=n;R<n+i;++R){const D=t[R],M=this.getParsed(R),N=C?D:{},V=ee(M[E]),X=N[v]=a.getPixelForValue(M[v],R),at=N[E]=s||V?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,M,u):M[E],R);N.skip=isNaN(X)||isNaN(at)||V,N.stop=R>0&&Math.abs(M[v]-k[v])>A,w&&(N.parsed=M,N.raw=d.data[R]),m&&(N.options=g||this.resolveDataElementOptions(R,D.active?"active":r)),C||this.updateElement(D,R,N,r),k=M}this.updateSharedOptions(g,r,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let l=0;for(let u=n.length-1;u>=0;--u)l=Math.max(l,n[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,a)/2}}L($g,"id","scatter"),L($g,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),L($g,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var MZ=Object.freeze({__proto__:null,BarController:Fg,BubbleController:Vg,DoughnutController:Ma,LineController:Bg,PieController:Pb,PolarAreaController:td,RadarController:Ug,ScatterController:$g});function _a(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class iE{constructor(t){L(this,"options");this.options=t||{}}static override(t){Object.assign(iE.prototype,t)}init(){}formats(){return _a()}parse(){return _a()}format(){return _a()}add(){return _a()}diff(){return _a()}startOf(){return _a()}endOf(){return _a()}}var LN={_date:iE};function OZ(e,t,n,i){const{controller:r,data:s,_sorted:a}=e,l=r._cachedMeta.iScale;if(l&&t===l.axis&&t!=="r"&&a&&s.length){const u=l._reversePixels?rJ:As;if(i){if(r._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const g=u(s,t,n-f),m=u(s,t,n+f);return{lo:g.lo,hi:m.hi}}}}else return u(s,t,n)}return{lo:0,hi:s.length-1}}function vf(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),a=n[t];for(let l=0,u=s.length;l<u;++l){const{index:d,data:f}=s[l],{lo:g,hi:m}=OZ(s[l],t,a,r);for(let v=g;v<=m;++v){const E=f[v];E.skip||i(E,d,v)}}}function NZ(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,a=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function m0(e,t,n,i,r){const s=[];return!r&&!e.isPointInArea(t)||vf(e,n,t,function(l,u,d){!r&&!Ts(l,e.chartArea,0)||l.inRange(t.x,t.y,i)&&s.push({element:l,datasetIndex:u,index:d})},!0),s}function LZ(e,t,n,i){let r=[];function s(a,l,u){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:g}=dN(a,{x:t.x,y:t.y});Ld(g,d,f)&&r.push({element:a,datasetIndex:l,index:u})}return vf(e,n,t,s),r}function FZ(e,t,n,i,r,s){let a=[];const l=NZ(n);let u=Number.POSITIVE_INFINITY;function d(f,g,m){const v=f.inRange(t.x,t.y,r);if(i&&!v)return;const E=f.getCenterPoint(r);if(!(!!s||e.isPointInArea(E))&&!v)return;const w=l(t,E);w<u?(a=[{element:f,datasetIndex:g,index:m}],u=w):w===u&&a.push({element:f,datasetIndex:g,index:m})}return vf(e,n,t,d),a}function y0(e,t,n,i,r,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!i?LZ(e,t,n,r):FZ(e,t,n,i,r,s)}function qk(e,t,n,i,r){const s=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return vf(e,n,t,(u,d,f)=>{u[a](t[n],r)&&(s.push({element:u,datasetIndex:d,index:f}),l=l||u.inRange(t.x,t.y,r))}),i&&!l?[]:s}var VZ={evaluateInteractionItems:vf,modes:{index(e,t,n,i){const r=wa(t,e),s=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?m0(e,r,s,i,a):y0(e,r,s,!1,i,a),u=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const f=l[0].index,g=d.data[f];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:f})}),u):[]},dataset(e,t,n,i){const r=wa(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?m0(e,r,s,i,a):y0(e,r,s,!1,i,a);if(l.length>0){const u=l[0].datasetIndex,d=e.getDatasetMeta(u).data;l=[];for(let f=0;f<d.length;++f)l.push({element:d[f],datasetIndex:u,index:f})}return l},point(e,t,n,i){const r=wa(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return m0(e,r,s,i,a)},nearest(e,t,n,i){const r=wa(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return y0(e,r,s,n.intersect,i,a)},x(e,t,n,i){const r=wa(t,e);return qk(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=wa(t,e);return qk(e,r,"y",n.intersect,i)}}};const FN=["left","top","right","bottom"];function ph(e,t){return e.filter(n=>n.pos===t)}function Kk(e,t){return e.filter(n=>FN.indexOf(n.pos)===-1&&n.box.axis===t)}function gh(e,t){return e.sort((n,i)=>{const r=t?i:n,s=t?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function BZ(e){const t=[];let n,i,r,s,a,l;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:s,options:{stack:a,stackWeight:l=1}}=r,t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:l});return t}function UZ(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!FN.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}function $Z(e,t){const n=UZ(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,a,l;for(s=0,a=e.length;s<a;++s){l=e[s];const{fullSize:u}=l.box,d=n[l.stack],f=d&&l.stackWeight/d.weight;l.horizontal?(l.width=f?f*i:u&&t.availableWidth,l.height=r):(l.width=i,l.height=f?f*r:u&&t.availableHeight)}return n}function jZ(e){const t=BZ(e),n=gh(t.filter(d=>d.box.fullSize),!0),i=gh(ph(t,"left"),!0),r=gh(ph(t,"right")),s=gh(ph(t,"top"),!0),a=gh(ph(t,"bottom")),l=Kk(t,"x"),u=Kk(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(a).concat(l),chartArea:ph(t,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(a).concat(l)}}function Gk(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function VN(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function HZ(e,t,n,i){const{pos:r,box:s}=n,a=e.maxPadding;if(!Xt(r)){n.size&&(e[r]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?s.height:s.width),n.size=g.size/g.count,e[r]+=n.size}s.getPadding&&VN(a,s.getPadding());const l=Math.max(0,t.outerWidth-Gk(a,e,"left","right")),u=Math.max(0,t.outerHeight-Gk(a,e,"top","bottom")),d=l!==e.w,f=u!==e.h;return e.w=l,e.h=u,n.horizontal?{same:d,other:f}:{same:f,other:d}}function zZ(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function WZ(e,t){const n=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(t[a],n[a])}),s}return i(e?["left","right"]:["top","bottom"])}function Rh(e,t,n,i){const r=[];let s,a,l,u,d,f;for(s=0,a=e.length,d=0;s<a;++s){l=e[s],u=l.box,u.update(l.width||t.w,l.height||t.h,WZ(l.horizontal,t));const{same:g,other:m}=HZ(t,n,l,i);d|=g&&r.length,f=f||m,u.fullSize||r.push(l)}return d&&Rh(r,t,n,i)||f}function ag(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function Yk(e,t,n,i){const r=n.padding;let{x:s,y:a}=t;for(const l of e){const u=l.box,d=i[l.stack]||{count:1,placed:0,weight:1},f=l.stackWeight/d.weight||1;if(l.horizontal){const g=t.w*f,m=d.size||u.height;Nd(d.start)&&(a=d.start),u.fullSize?ag(u,r.left,a,n.outerWidth-r.right-r.left,m):ag(u,t.left+d.placed,a,g,m),d.start=a,d.placed+=g,a=u.bottom}else{const g=t.h*f,m=d.size||u.width;Nd(d.start)&&(s=d.start),u.fullSize?ag(u,s,r.top,m,n.outerHeight-r.bottom-r.top):ag(u,s,t.top+d.placed,m,g),d.start=s,d.placed+=g,s=u.right}}t.x=s,t.y=a}var ci={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=ti(e.options.layout.padding),s=Math.max(t-r.width,0),a=Math.max(n-r.height,0),l=jZ(e.boxes),u=l.vertical,d=l.horizontal;we(e.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const f=u.reduce((b,w)=>w.box.options&&w.box.options.display===!1?b:b+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/f,hBoxMaxHeight:a/2}),m=Object.assign({},r);VN(m,ti(i));const v=Object.assign({maxPadding:m,w:s,h:a,x:r.left,y:r.top},r),E=$Z(u.concat(d),g);Rh(l.fullSize,v,g,E),Rh(u,v,g,E),Rh(d,v,g,E)&&Rh(u,v,g,E),zZ(v),Yk(l.leftAndTop,v,g,E),v.x+=v.w,v.y+=v.h,Yk(l.rightAndBottom,v,g,E),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},we(l.chartArea,b=>{const w=b.box;Object.assign(w,e.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class BN{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class qZ extends BN{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const jg="$chartjs",KZ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qk=e=>e===null||e==="";function GZ(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[jg]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Qk(r)){const s=Dk(e,"width");s!==void 0&&(e.width=s)}if(Qk(i))if(e.style.height==="")e.height=e.width/(t||2);else{const s=Dk(e,"height");s!==void 0&&(e.height=s)}return e}const UN=XJ?{passive:!0}:!1;function YZ(e,t,n){e&&e.addEventListener(t,n,UN)}function QZ(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,UN)}function XZ(e,t){const n=KZ[e.type]||e.type,{x:i,y:r}=wa(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function km(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function JZ(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||km(l.addedNodes,i),a=a&&!km(l.removedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function ZZ(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||km(l.removedNodes,i),a=a&&!km(l.addedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Vd=new Map;let Xk=0;function $N(){const e=window.devicePixelRatio;e!==Xk&&(Xk=e,Vd.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function ttt(e,t){Vd.size||window.addEventListener("resize",$N),Vd.set(e,t)}function ett(e){Vd.delete(e),Vd.size||window.removeEventListener("resize",$N)}function ntt(e,t,n){const i=e.canvas,r=i&&nE(i);if(!r)return;const s=mN((l,u)=>{const d=r.clientWidth;n(l,u),d<r.clientWidth&&n()},window),a=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||s(d,f)});return a.observe(r),ttt(e,s),a}function _0(e,t,n){n&&n.disconnect(),t==="resize"&&ett(e)}function itt(e,t,n){const i=e.canvas,r=mN(s=>{e.ctx!==null&&n(XZ(s,e))},e);return YZ(i,t,r),r}class rtt extends BN{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(GZ(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[jg])return!1;const i=n[jg].initial;["height","width"].forEach(s=>{const a=i[s];ee(a)?n.removeAttribute(s):n.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[jg],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),a={attach:JZ,detach:ZZ,resize:ntt}[n]||itt;r[n]=a(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:_0,detach:_0,resize:_0}[n]||QZ)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return QJ(t,n,i,r)}isAttached(t){const n=nE(t);return!!(n&&n.isConnected)}}function stt(e){return!eE()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?qZ:rtt}var wg;let Hs=(wg=class{constructor(){L(this,"x");L(this,"y");L(this,"active",!1);L(this,"options");L(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Fl(this.x)&&Fl(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},L(wg,"defaults",{}),L(wg,"defaultRoutes"),wg);function ott(e,t){const n=e.options.ticks,i=att(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?ltt(t):[],a=s.length,l=s[0],u=s[a-1],d=[];if(a>r)return utt(t,d,s,a/r),d;const f=ctt(s,t,r);if(a>0){let g,m;const v=a>1?Math.round((u-l)/(a-1)):null;for(cg(t,d,f,ee(v)?0:l-v,l),g=0,m=a-1;g<m;g++)cg(t,d,f,s[g],s[g+1]);return cg(t,d,f,u,ee(v)?t.length:u+v),d}return cg(t,d,f),d}function att(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function ctt(e,t,n){const i=htt(e),r=t.length/n;if(!i)return Math.max(r,1);const s=tJ(i);for(let a=0,l=s.length-1;a<l;a++){const u=s[a];if(u>r)return u}return Math.max(r,1)}function ltt(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function utt(e,t,n,i){let r=0,s=n[0],a;for(i=Math.ceil(i),a=0;a<e.length;a++)a===s&&(t.push(e[a]),r++,s=n[r*i])}function cg(e,t,n,i,r){const s=Nt(i,0),a=Math.min(Nt(r,e.length),e.length);let l=0,u,d,f;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),f=s;f<0;)l++,f=Math.round(s+l*n);for(d=Math.max(s,0);d<a;d++)d===f&&(t.push(e[d]),l++,f=Math.round(s+l*n))}function htt(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const dtt=e=>e==="left"?"right":e==="right"?"left":e,Jk=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Zk=(e,t)=>Math.min(t||e,e);function tP(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function ftt(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,a=e._endPixel,l=1e-6;let u=e.getPixelForTick(r),d;if(!(n&&(i===1?d=Math.max(u-s,a-u):t===0?d=(e.getPixelForTick(1)-u)/2:d=(u-e.getPixelForTick(r-1))/2,u+=r<t?d:-d,u<s-l||u>a+l)))return u}function ptt(e,t){we(e,n=>{const i=n.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function mh(e){return e.drawTicks?e.tickLength:0}function eP(e,t){if(!e.display)return 0;const n=xn(e.font,t),i=ti(e.padding);return($e(e.text)?e.text.length:1)*n.lineHeight+i.height}function gtt(e,t){return Qo(e,{scale:t,type:"scale"})}function mtt(e,t,n){return Qo(e,{tick:n,index:t,type:"tick"})}function ytt(e,t,n){let i=Y1(e);return(n&&t!=="right"||!n&&t==="right")&&(i=dtt(i)),i}function _tt(e,t,n,i){const{top:r,left:s,bottom:a,right:l,chart:u}=e,{chartArea:d,scales:f}=u;let g=0,m,v,E;const b=a-r,w=l-s;if(e.isHorizontal()){if(v=ii(i,s,l),Xt(n)){const A=Object.keys(n)[0],C=n[A];E=f[A].getPixelForValue(C)+b-t}else n==="center"?E=(d.bottom+d.top)/2+b-t:E=Jk(e,n,t);m=l-s}else{if(Xt(n)){const A=Object.keys(n)[0],C=n[A];v=f[A].getPixelForValue(C)-w+t}else n==="center"?v=(d.left+d.right)/2-w+t:v=Jk(e,n,t);E=ii(i,a,r),g=n==="left"?-_n:_n}return{titleX:v,titleY:E,maxWidth:m,rotation:g}}class oc extends Hs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=Bi(t,Number.POSITIVE_INFINITY),n=Bi(n,Number.NEGATIVE_INFINITY),i=Bi(i,Number.POSITIVE_INFINITY),r=Bi(r,Number.NEGATIVE_INFINITY),{min:Bi(t,i),max:Bi(n,r),minDefined:cn(t),maxDefined:cn(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)a=l[u].controller.getMinMax(this,t),r||(n=Math.min(n,a.min)),s||(i=Math.max(i,a.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Bi(n,Bi(i,n)),max:Bi(i,Bi(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ke(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xJ(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?tP(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=ott(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ke(this.options.afterUpdate,[this])}beforeSetDimensions(){ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ke(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ke(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=ke(n.callback,[s.value,i,t],this)}afterTickToLabelConversion(){ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=Zk(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let a=r,l,u,d;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const f=this._getLabelSizes(),g=f.widest.width,m=f.highest.height,v=$n(this.chart.width-g,0,this.maxWidth);l=t.offset?this.maxWidth/i:v/(i-1),g+6>l&&(l=v/(i-(t.offset?.5:1)),u=this.maxHeight-mh(t.grid)-n.padding-eP(t.title,this.chart.options.font),d=Math.sqrt(g*g+m*m),a=K1(Math.min(Math.asin($n((f.highest.height+6)/l,-1,1)),Math.asin($n(u/d,-1,1))-Math.asin($n(m/d,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ke(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=eP(r,n.options.font);if(l?(t.width=this.maxWidth,t.height=mh(s)+u):(t.height=this.maxHeight,t.width=mh(s)+u),i.display&&this.ticks.length){const{first:d,last:f,widest:g,highest:m}=this._getLabelSizes(),v=i.padding*2,E=dr(this.labelRotation),b=Math.cos(E),w=Math.sin(E);if(l){const A=i.mirror?0:w*g.width+b*m.height;t.height=Math.min(this.maxHeight,t.height+A+v)}else{const A=i.mirror?0:b*g.width+w*m.height;t.width=Math.min(this.maxWidth,t.width+A+v)}this._calculatePadding(d,f,w,b)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:s,padding:a},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,v=0;u?d?(m=r*t.width,v=i*n.height):(m=i*t.height,v=r*n.width):s==="start"?v=n.width:s==="end"?m=t.width:s!=="inner"&&(m=t.width/2,v=n.width/2),this.paddingLeft=Math.max((m-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-g+a)*this.width/(this.width-g),0)}else{let f=n.height/2,g=t.height/2;s==="start"?(f=0,g=t.height):s==="end"&&(f=n.height,g=0),this.paddingTop=f+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ke(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)ee(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=tP(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:r,_longestTextCache:s}=this,a=[],l=[],u=Math.floor(n/Zk(n,i));let d=0,f=0,g,m,v,E,b,w,A,C,k,R,D;for(g=0;g<n;g+=u){if(E=t[g].label,b=this._resolveTickFontOptions(g),r.font=w=b.string,A=s[w]=s[w]||{data:{},gc:[]},C=b.lineHeight,k=R=0,!ee(E)&&!$e(E))k=Sm(r,A.data,A.gc,k,E),R=C;else if($e(E))for(m=0,v=E.length;m<v;++m)D=E[m],!ee(D)&&!$e(D)&&(k=Sm(r,A.data,A.gc,k,D),R+=C);a.push(k),l.push(R),d=Math.max(k,d),f=Math.max(R,f)}ptt(s,n);const M=a.indexOf(d),N=l.indexOf(f),V=X=>({width:a[X]||0,height:l[X]||0});return{first:V(0),last:V(n-1),widest:V(M),highest:V(N),widths:a,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return iJ(this._alignToPixels?ya(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=mtt(this.getContext(),t,i))}return this.$context||(this.$context=gtt(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=dr(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,l=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*i>l*r?l/i:u/r:u*r<l*i?u/i:l/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:l}=r,u=s.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),m=mh(s),v=[],E=l.setContext(this.getContext()),b=E.display?E.width:0,w=b/2,A=function(tt){return ya(i,tt,b)};let C,k,R,D,M,N,V,X,at,J,pt,Et;if(a==="top")C=A(this.bottom),N=this.bottom-m,X=C-w,J=A(t.top)+w,Et=t.bottom;else if(a==="bottom")C=A(this.top),J=t.top,Et=A(t.bottom)-w,N=C+w,X=this.top+m;else if(a==="left")C=A(this.right),M=this.right-m,V=C-w,at=A(t.left)+w,pt=t.right;else if(a==="right")C=A(this.left),at=t.left,pt=A(t.right)-w,M=C+w,V=this.left+m;else if(n==="x"){if(a==="center")C=A((t.top+t.bottom)/2+.5);else if(Xt(a)){const tt=Object.keys(a)[0],dt=a[tt];C=A(this.chart.scales[tt].getPixelForValue(dt))}J=t.top,Et=t.bottom,N=C+w,X=N+m}else if(n==="y"){if(a==="center")C=A((t.left+t.right)/2);else if(Xt(a)){const tt=Object.keys(a)[0],dt=a[tt];C=A(this.chart.scales[tt].getPixelForValue(dt))}M=C-w,V=M-m,at=t.left,pt=t.right}const Te=Nt(r.ticks.maxTicksLimit,g),yt=Math.max(1,Math.ceil(g/Te));for(k=0;k<g;k+=yt){const tt=this.getContext(k),dt=s.setContext(tt),Rt=l.setContext(tt),pe=dt.lineWidth,Ne=dt.color,Ln=Rt.dash||[],Ce=Rt.dashOffset,vi=dt.tickWidth,ei=dt.tickColor,Wi=dt.tickBorderDash||[],Pe=dt.tickBorderDashOffset;R=ftt(this,k,u),R!==void 0&&(D=ya(i,R,pe),d?M=V=at=pt=D:N=X=J=Et=D,v.push({tx1:M,ty1:N,tx2:V,ty2:X,x1:at,y1:J,x2:pt,y2:Et,width:pe,color:Ne,borderDash:Ln,borderDashOffset:Ce,tickWidth:vi,tickColor:ei,tickBorderDash:Wi,tickBorderDashOffset:Pe}))}return this._ticksLength=g,this._borderValue=C,v}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:f,mirror:g}=s,m=mh(i.grid),v=m+f,E=g?-f:v,b=-dr(this.labelRotation),w=[];let A,C,k,R,D,M,N,V,X,at,J,pt,Et="middle";if(r==="top")M=this.bottom-E,N=this._getXAxisLabelAlignment();else if(r==="bottom")M=this.top+E,N=this._getXAxisLabelAlignment();else if(r==="left"){const yt=this._getYAxisLabelAlignment(m);N=yt.textAlign,D=yt.x}else if(r==="right"){const yt=this._getYAxisLabelAlignment(m);N=yt.textAlign,D=yt.x}else if(n==="x"){if(r==="center")M=(t.top+t.bottom)/2+v;else if(Xt(r)){const yt=Object.keys(r)[0],tt=r[yt];M=this.chart.scales[yt].getPixelForValue(tt)+v}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")D=(t.left+t.right)/2-v;else if(Xt(r)){const yt=Object.keys(r)[0],tt=r[yt];D=this.chart.scales[yt].getPixelForValue(tt)}N=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(u==="start"?Et="top":u==="end"&&(Et="bottom"));const Te=this._getLabelSizes();for(A=0,C=l.length;A<C;++A){k=l[A],R=k.label;const yt=s.setContext(this.getContext(A));V=this.getPixelForTick(A)+s.labelOffset,X=this._resolveTickFontOptions(A),at=X.lineHeight,J=$e(R)?R.length:1;const tt=J/2,dt=yt.color,Rt=yt.textStrokeColor,pe=yt.textStrokeWidth;let Ne=N;a?(D=V,N==="inner"&&(A===C-1?Ne=this.options.reverse?"left":"right":A===0?Ne=this.options.reverse?"right":"left":Ne="center"),r==="top"?d==="near"||b!==0?pt=-J*at+at/2:d==="center"?pt=-Te.highest.height/2-tt*at+at:pt=-Te.highest.height+at/2:d==="near"||b!==0?pt=at/2:d==="center"?pt=Te.highest.height/2-tt*at:pt=Te.highest.height-J*at,g&&(pt*=-1),b!==0&&!yt.showLabelBackdrop&&(D+=at/2*Math.sin(b))):(M=V,pt=(1-J)*at/2);let Ln;if(yt.showLabelBackdrop){const Ce=ti(yt.backdropPadding),vi=Te.heights[A],ei=Te.widths[A];let Wi=pt-Ce.top,Pe=0-Ce.left;switch(Et){case"middle":Wi-=vi/2;break;case"bottom":Wi-=vi;break}switch(N){case"center":Pe-=ei/2;break;case"right":Pe-=ei;break;case"inner":A===C-1?Pe-=ei:A>0&&(Pe-=ei/2);break}Ln={left:Pe,top:Wi,width:ei+Ce.width,height:vi+Ce.height,color:yt.backdropColor}}w.push({label:R,font:X,textOffset:pt,options:{rotation:b,color:dt,strokeColor:Rt,strokeWidth:pe,textAlign:Ne,textBaseline:Et,translation:[D,M],backdrop:Ln}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-dr(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),l=t+s,u=a.widest.width;let d,f;return n==="left"?r?(f=this.right+s,i==="near"?d="left":i==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-l,i==="near"?d="right":i==="center"?(d="center",f-=u/2):(d="left",f=this.left)):n==="right"?r?(f=this.left+s,i==="near"?d="right":i==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+l,i==="near"?d="left":i==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:s,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,s,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const l=(u,d,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(s=0,a=r.length;s<a;++s){const u=r[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const l=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,g,m;this.isHorizontal()?(d=ya(t,this.left,a)-a/2,f=ya(t,this.right,l)+l/2,g=m=u):(g=ya(t,this.top,a)-a/2,m=ya(t,this.bottom,l)+l/2,d=f=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,g),n.lineTo(f,m),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&jy(i,r);const s=this.getLabelItems(t);for(const a of s){const l=a.options,u=a.font,d=a.label,f=a.textOffset;Ja(i,d,0,f,u,l)}r&&Hy(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=xn(i.font),a=ti(i.padding),l=i.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Xt(n)?(u+=a.bottom,$e(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:d,titleY:f,maxWidth:g,rotation:m}=_tt(this,u,n,l);Ja(t,i.text,0,0,s,{color:i.color,maxWidth:g,rotation:m,textAlign:ytt(l,n,r),textBaseline:"middle",translation:[d,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Nt(t.grid&&t.grid.z,-1),r=Nt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==oc.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];l[i]===this.id&&(!t||l.type===t)&&r.push(l)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return xn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class lg{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;wtt(n)&&(i=this.register(n));const r=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,vtt(t,a,i),this.override&&Je.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in Je[r]&&(delete Je[r][i],this.override&&delete Xa[i])}}function vtt(e,t,n){const i=Qa(Object.create(null),[n?Je.get(n):{},Je.get(t),e.defaults]);Je.set(t,i),e.defaultRoutes&&btt(t,e.defaultRoutes),e.descriptors&&Je.describe(t,e.descriptors)}function btt(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),a=t[n].split("."),l=a.pop(),u=a.join(".");Je.route(s,r,u,l)})}function wtt(e){return"id"in e&&"defaults"in e}class Ett{constructor(){this.controllers=new lg(pr,"datasets",!0),this.elements=new lg(Hs,"elements"),this.plugins=new lg(Object,"plugins"),this.scales=new lg(oc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):we(r,a=>{const l=i||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,n,i){const r=q1(t);ke(i["before"+r],[],i),n[t](i),ke(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var xr=new Ett;class Itt{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(s,t,n,i);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,i,r){r=r||{};for(const s of t){const a=s.plugin,l=a[i],u=[n,r,s.options];if(ke(l,u,a)===!1&&r.cancelable)return!1}return!0}invalidate(){ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=Nt(i.options&&i.options.plugins,{}),s=Att(i);return r===!1&&!n?[]:Ctt(t,s,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function Att(e){const t={},n=[],i=Object.keys(xr.plugins.items);for(let s=0;s<i.length;s++)n.push(xr.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function Ttt(e,t){return!t&&e===!1?null:e===!0?{}:e}function Ctt(e,{plugins:t,localIds:n},i,r){const s=[],a=e.getContext();for(const l of t){const u=l.id,d=Ttt(i[u],r);d!==null&&s.push({plugin:l,options:Stt(e.config,{plugin:l,local:n[u]},d,a)})}return s}function Stt(e,{plugin:t,local:n},i,r){const s=e.pluginScopeKeys(t),a=e.getOptionScopes(i,s);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rb(e,t){const n=Je.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function xtt(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function ktt(e,t){return e===t?"_index_":"_value_"}function nP(e){if(e==="x"||e==="y"||e==="r")return e}function Ptt(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Db(e,...t){if(nP(e))return e;for(const n of t){const i=n.axis||Ptt(n.position)||e.length>1&&nP(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function iP(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Rtt(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return iP(e,"x",n[0])||iP(e,"y",n[0])}return{}}function Dtt(e,t){const n=Xa[e.type]||{scales:{}},i=t.scales||{},r=Rb(e.type,t),s=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Xt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Db(a,l,Rtt(a,e),Je.scales[l.type]),d=ktt(u,r),f=n.scales||{};s[a]=Qh(Object.create(null),[{axis:u},l,f[u],f[d]])}),e.data.datasets.forEach(a=>{const l=a.type||e.type,u=a.indexAxis||Rb(l,t),f=(Xa[l]||{}).scales||{};Object.keys(f).forEach(g=>{const m=xtt(g,u),v=a[m+"AxisID"]||m;s[v]=s[v]||Object.create(null),Qh(s[v],[{axis:m},i[v],f[g]])})}),Object.keys(s).forEach(a=>{const l=s[a];Qh(l,[Je.scales[l.type],Je.scale])}),s}function jN(e){const t=e.options||(e.options={});t.plugins=Nt(t.plugins,{}),t.scales=Dtt(e,t)}function HN(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Mtt(e){return e=e||{},e.data=HN(e.data),jN(e),e}const rP=new Map,zN=new Set;function ug(e,t){let n=rP.get(e);return n||(n=t(),rP.set(e,n),zN.add(n)),n}const yh=(e,t,n)=>{const i=$o(t,n);i!==void 0&&e.add(i)};class Ott{constructor(t){this._config=Mtt(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=HN(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),jN(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ug(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ug(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ug(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return ug(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:s}=this,a=this._cachedScopes(t,i),l=a.get(n);if(l)return l;const u=new Set;n.forEach(f=>{t&&(u.add(t),f.forEach(g=>yh(u,t,g))),f.forEach(g=>yh(u,r,g)),f.forEach(g=>yh(u,Xa[s]||{},g)),f.forEach(g=>yh(u,Je,g)),f.forEach(g=>yh(u,xb,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),zN.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,Xa[n]||{},Je.datasets[n]||{},{type:n},Je,xb]}resolveNamedOptions(t,n,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=sP(this._resolverCache,t,r);let u=a;if(Ltt(a,n)){s.$shared=!1,i=jo(i)?i():i;const d=this.createResolver(t,i,l);u=Vl(a,i,d)}for(const d of n)s[d]=u[d];return s}createResolver(t,n,i=[""],r){const{resolver:s}=sP(this._resolverCache,t,i);return Xt(n)?Vl(s,n,void 0,r):s}}function sP(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);return s||(s={resolver:J1(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const Ntt=e=>Xt(e)&&Object.getOwnPropertyNames(e).some(t=>jo(e[t]));function Ltt(e,t){const{isScriptable:n,isIndexable:i}=EN(e);for(const r of t){const s=n(r),a=i(r),l=(a||s)&&e[r];if(s&&(jo(l)||Ntt(l))||a&&$e(l))return!0}return!1}var Ftt="4.4.2";const Vtt=["top","bottom","left","right","chartArea"];function oP(e,t){return e==="top"||e==="bottom"||Vtt.indexOf(e)===-1&&t==="x"}function aP(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function cP(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),ke(n&&n.onComplete,[e],t)}function Btt(e){const t=e.chart,n=t.options.animation;ke(n&&n.onProgress,[e],t)}function WN(e){return eE()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Hg={},lP=e=>{const t=WN(e);return Object.values(Hg).filter(n=>n.canvas===t).pop()};function Utt(e,t,n){const i=Object.keys(e);for(const r of i){const s=+r;if(s>=t){const a=e[r];delete e[r],(n>0||s>t)&&(e[s+n]=a)}}}function $tt(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function hg(e,t,n){return e.options.clip?e[n]:t[n]}function jtt(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:hg(n,t,"left"),right:hg(n,t,"right"),top:hg(i,t,"top"),bottom:hg(i,t,"bottom")}:t}var mo;let ac=(mo=class{static register(...t){xr.add(...t),uP()}static unregister(...t){xr.remove(...t),uP()}constructor(t,n){const i=this.config=new Ott(n),r=WN(t),s=lP(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||stt(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,f=u&&u.width;if(this.id=WX(),this.ctx=l,this.canvas=u,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Itt,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=aJ(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],Hg[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}ms.listen(this,"complete",cP),ms.listen(this,"progress",Btt),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return ee(t)?n&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return xr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rk(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xk(this.canvas,this.ctx),this}stop(){return ms.stop(this),this}resize(t,n){ms.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,t,n,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Rk(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),ke(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};we(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const l=n[a],u=Db(a,l),d=u==="r",f=u==="x";return{options:l,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),we(s,a=>{const l=a.options,u=l.id,d=Db(u,l),f=Nt(l.type,a.dtype);(l.position===void 0||oP(l.position,d)!==oP(a.dposition))&&(l.position=a.dposition),r[u]=!0;let g=null;if(u in i&&i[u].type===f)g=i[u];else{const m=xr.getScale(f);g=new m({id:u,type:f,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(l,t)}),we(r,(a,l)=>{a||delete i[l]}),we(i,a=>{ci.configure(this,a,a.options),ci.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(aP("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let a=this.getDatasetMeta(i);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||Rb(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=xr.getController(l),{datasetElementType:d,dataElementType:f}=Je.datasets[l];Object.assign(u,{dataElementType:xr.getElement(f),datasetElementType:d&&xr.getElement(d)}),a.controller=new u(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){we(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:g}=this.getDatasetMeta(d),m=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(m),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||we(s,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(aP("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){we(this.scales,t=>{ci.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!vk(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const a=i==="_removeElements"?-s:s;Utt(t,r,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!vk(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ci.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],we(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,jo(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ms.has(this)?this.attached&&!ms.running(this)&&ms.start(this):(this.draw(),cP({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const a=n[r];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,s=jtt(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&jy(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&Hy(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Ts(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const s=VZ.modes[n];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Qo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,r);Nd(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),ms.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),xk(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Hg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(s,a)=>{n.addEventListener(this,s,a),t[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};we(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(u,d)=>{n.addEventListener(this,u,d),t[u]=d},r=(u,d)=>{t[u]&&(n.removeEventListener(this,u,d),delete t[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){we(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},we(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let s,a,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){a=t[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!Am(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const r=this.options.hover,s=(u,d)=>u.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),a=s(n,t),l=i?t:s(t,n);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:s}=this,a=n,l=this._getActiveElements(t,r,i,a),u=XX(t),d=$tt(t,this._lastEvent,i,u);i&&(this._lastEvent=null,ke(s.onHover,[t,l,this],this),u&&ke(s.onClick,[t,l,this],this));const f=!Am(l,r);return(f||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=d,f}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},L(mo,"defaults",Je),L(mo,"instances",Hg),L(mo,"overrides",Xa),L(mo,"registry",xr),L(mo,"version",Ftt),L(mo,"getChart",lP),mo);function uP(){return we(ac.instances,e=>e._plugins.invalidate())}function Htt(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:l,innerRadius:u}=t;let d=r/l;e.beginPath(),e.arc(s,a,l,i-d,n+d),u>r?(d=r/u,e.arc(s,a,u,n+d,i-d,!0)):e.arc(s,a,r,n+_n,i-_n),e.closePath(),e.clip()}function ztt(e){return X1(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Wtt(e,t,n,i){const r=ztt(e.options.borderRadius),s=(n-t)/2,a=Math.min(s,i*t/2),l=u=>{const d=(n-Math.min(s,u))*i/2;return $n(u,0,Math.min(s,d))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:$n(r.innerStart,0,a),innerEnd:$n(r.innerEnd,0,a)}}function Qc(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Pm(e,t,n,i,r,s){const{x:a,y:l,startAngle:u,pixelMargin:d,innerRadius:f}=t,g=Math.max(t.outerRadius+i+n-d,0),m=f>0?f+i+n+d:0;let v=0;const E=r-u;if(i){const yt=f>0?f-i:0,tt=g>0?g-i:0,dt=(yt+tt)/2,Rt=dt!==0?E*dt/(dt+i):E;v=(E-Rt)/2}const b=Math.max(.001,E*g-n/He)/g,w=(E-b)/2,A=u+w+v,C=r-w-v,{outerStart:k,outerEnd:R,innerStart:D,innerEnd:M}=Wtt(t,m,g,C-A),N=g-k,V=g-R,X=A+k/N,at=C-R/V,J=m+D,pt=m+M,Et=A+D/J,Te=C-M/pt;if(e.beginPath(),s){const yt=(X+at)/2;if(e.arc(a,l,g,X,yt),e.arc(a,l,g,yt,at),R>0){const pe=Qc(V,at,a,l);e.arc(pe.x,pe.y,R,at,C+_n)}const tt=Qc(pt,C,a,l);if(e.lineTo(tt.x,tt.y),M>0){const pe=Qc(pt,Te,a,l);e.arc(pe.x,pe.y,M,C+_n,Te+Math.PI)}const dt=(C-M/m+(A+D/m))/2;if(e.arc(a,l,m,C-M/m,dt,!0),e.arc(a,l,m,dt,A+D/m,!0),D>0){const pe=Qc(J,Et,a,l);e.arc(pe.x,pe.y,D,Et+Math.PI,A-_n)}const Rt=Qc(N,A,a,l);if(e.lineTo(Rt.x,Rt.y),k>0){const pe=Qc(N,X,a,l);e.arc(pe.x,pe.y,k,A-_n,X)}}else{e.moveTo(a,l);const yt=Math.cos(X)*g+a,tt=Math.sin(X)*g+l;e.lineTo(yt,tt);const dt=Math.cos(at)*g+a,Rt=Math.sin(at)*g+l;e.lineTo(dt,Rt)}e.closePath()}function qtt(e,t,n,i,r){const{fullCircles:s,startAngle:a,circumference:l}=t;let u=t.endAngle;if(s){Pm(e,t,n,i,u,r);for(let d=0;d<s;++d)e.fill();isNaN(l)||(u=a+(l%je||je))}return Pm(e,t,n,i,u,r),e.fill(),u}function Ktt(e,t,n,i,r){const{fullCircles:s,startAngle:a,circumference:l,options:u}=t,{borderWidth:d,borderJoinStyle:f,borderDash:g,borderDashOffset:m}=u,v=u.borderAlign==="inner";if(!d)return;e.setLineDash(g||[]),e.lineDashOffset=m,v?(e.lineWidth=d*2,e.lineJoin=f||"round"):(e.lineWidth=d,e.lineJoin=f||"bevel");let E=t.endAngle;if(s){Pm(e,t,n,i,E,r);for(let b=0;b<s;++b)e.stroke();isNaN(l)||(E=a+(l%je||je))}v&&Htt(e,t,E),s||(Pm(e,t,n,i,E,r),e.stroke())}class sl extends Hs{constructor(n){super();L(this,"circumference");L(this,"endAngle");L(this,"fullCircles");L(this,"innerRadius");L(this,"outerRadius");L(this,"pixelMargin");L(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:a,distance:l}=dN(s,{x:n,y:i}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:g,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),v=(this.options.spacing+this.options.borderWidth)/2,b=Nt(m,d-u)>=je||Ld(a,u,d),w=Is(l,f+v,g+v);return b&&w}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:a,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:f}=this.options,g=(s+a)/2,m=(l+u+f+d)/2;return{x:i+Math.cos(g)*m,y:r+Math.sin(g)*m}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,a=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>je?Math.floor(r/je):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*s,Math.sin(u)*s);const d=1-Math.sin(Math.min(He,r||0)),f=s*d;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,qtt(n,this,f,a,l),Ktt(n,this,f,a,l),n.restore()}}L(sl,"id","arc"),L(sl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),L(sl,"defaultRoutes",{backgroundColor:"backgroundColor"}),L(sl,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function qN(e,t,n=t){e.lineCap=Nt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Nt(n.borderDash,t.borderDash)),e.lineDashOffset=Nt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Nt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Nt(n.borderWidth,t.borderWidth),e.strokeStyle=Nt(n.borderColor,t.borderColor)}function Gtt(e,t,n){e.lineTo(n.x,n.y)}function Ytt(e){return e.stepped?vJ:e.tension||e.cubicInterpolationMode==="monotone"?bJ:Gtt}function KN(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:a,end:l}=t,u=Math.max(r,a),d=Math.min(s,l),f=r<a&&s<a||r>l&&s>l;return{count:i,start:u,loop:t.loop,ilen:d<u&&!f?i+d-u:d-u}}function Qtt(e,t,n,i){const{points:r,options:s}=t,{count:a,start:l,loop:u,ilen:d}=KN(r,n,i),f=Ytt(s);let{move:g=!0,reverse:m}=i||{},v,E,b;for(v=0;v<=d;++v)E=r[(l+(m?d-v:v))%a],!E.skip&&(g?(e.moveTo(E.x,E.y),g=!1):f(e,b,E,m,s.stepped),b=E);return u&&(E=r[(l+(m?d:0))%a],f(e,b,E,m,s.stepped)),!!u}function Xtt(e,t,n,i){const r=t.points,{count:s,start:a,ilen:l}=KN(r,n,i),{move:u=!0,reverse:d}=i||{};let f=0,g=0,m,v,E,b,w,A;const C=R=>(a+(d?l-R:R))%s,k=()=>{b!==w&&(e.lineTo(f,w),e.lineTo(f,b),e.lineTo(f,A))};for(u&&(v=r[C(0)],e.moveTo(v.x,v.y)),m=0;m<=l;++m){if(v=r[C(m)],v.skip)continue;const R=v.x,D=v.y,M=R|0;M===E?(D<b?b=D:D>w&&(w=D),f=(g*f+R)/++g):(k(),e.lineTo(R,D),E=M,g=0,b=w=D),A=D}k()}function Mb(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?Xtt:Qtt}function Jtt(e){return e.stepped?JJ:e.tension||e.cubicInterpolationMode==="monotone"?ZJ:Ea}function Ztt(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),qN(e,t.options),e.stroke(r)}function tet(e,t,n,i){const{segments:r,options:s}=t,a=Mb(t);for(const l of r)qN(e,s,l.style),e.beginPath(),a(e,t,l,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const eet=typeof Path2D=="function";function net(e,t,n,i){eet&&!t.options.segment?Ztt(e,t,n,i):tet(e,t,n,i)}class To extends Hs{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;zJ(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=sZ(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],s=this.points,a=DN(this,{property:n,start:r,end:r});if(!a.length)return;const l=[],u=Jtt(i);let d,f;for(d=0,f=a.length;d<f;++d){const{start:g,end:m}=a[d],v=s[g],E=s[m];if(v===E){l.push(v);continue}const b=Math.abs((r-v[n])/(E[n]-v[n])),w=u(v,E,b,i.stepped);w[n]=t[n],l.push(w)}return l.length===1?l[0]:l}pathSegment(t,n,i){return Mb(this)(t,this,n,i)}path(t,n,i){const r=this.segments,s=Mb(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const l of r)a&=s(t,this,l,{start:n,end:n+i-1});return!!a}draw(t,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),net(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}L(To,"id","line"),L(To,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),L(To,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),L(To,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function hP(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}class ed extends Hs{constructor(n){super();L(this,"parsed");L(this,"skip");L(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(i-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return hP(this,n,"x",i)}inYRange(n,i){return hP(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Ts(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,kb(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}L(ed,"id","point"),L(ed,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),L(ed,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function GN(e,t){const{x:n,y:i,base:r,width:s,height:a}=e.getProps(["x","y","base","width","height"],t);let l,u,d,f,g;return e.horizontal?(g=a/2,l=Math.min(n,r),u=Math.max(n,r),d=i-g,f=i+g):(g=s/2,l=n-g,u=n+g,d=Math.min(i,r),f=Math.max(i,r)),{left:l,top:d,right:u,bottom:f}}function Co(e,t,n,i){return e?0:$n(t,n,i)}function iet(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,s=wN(i);return{t:Co(r.top,s.top,0,n),r:Co(r.right,s.right,0,t),b:Co(r.bottom,s.bottom,0,n),l:Co(r.left,s.left,0,t)}}function ret(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=Ba(r),a=Math.min(t,n),l=e.borderSkipped,u=i||Xt(r);return{topLeft:Co(!u||l.top||l.left,s.topLeft,0,a),topRight:Co(!u||l.top||l.right,s.topRight,0,a),bottomLeft:Co(!u||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:Co(!u||l.bottom||l.right,s.bottomRight,0,a)}}function set(e){const t=GN(e),n=t.right-t.left,i=t.bottom-t.top,r=iet(e,n/2,i/2),s=ret(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function v0(e,t,n,i){const r=t===null,s=n===null,l=e&&!(r&&s)&&GN(e,i);return l&&(r||Is(t,l.left,l.right))&&(s||Is(n,l.top,l.bottom))}function oet(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function aet(e,t){e.rect(t.x,t.y,t.w,t.h)}function b0(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+s,h:e.h+a,radius:e.radius}}class nd extends Hs{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=set(this),l=oet(a.radius)?Fd:aet;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),l(t,b0(a,n,s)),t.clip(),l(t,b0(s,-n,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),l(t,b0(s,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return v0(this,t,n,i)}inXRange(t,n){return v0(this,t,null,n)}inYRange(t,n){return v0(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}L(nd,"id","bar"),L(nd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),L(nd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var cet=Object.freeze({__proto__:null,ArcElement:sl,BarElement:nd,LineElement:To,PointElement:ed});const Ob=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],dP=Ob.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function YN(e){return Ob[e%Ob.length]}function QN(e){return dP[e%dP.length]}function uet(e,t){return e.borderColor=YN(t),e.backgroundColor=QN(t),++t}function het(e,t){return e.backgroundColor=e.data.map(()=>YN(t++)),t}function det(e,t){return e.backgroundColor=e.data.map(()=>QN(t++)),t}function fet(e){let t=0;return(n,i)=>{const r=e.getDatasetMeta(i).controller;r instanceof Ma?t=het(n,t):r instanceof td?t=det(n,t):r&&(t=uet(n,t))}}function fP(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function pet(e){return e&&(e.borderColor||e.backgroundColor)}var get={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=e.config,{elements:s}=r;if(!n.forceOverride&&(fP(i)||pet(r)||s&&fP(s)))return;const a=fet(e);i.forEach(a)}};function met(e,t,n,i,r){const s=r.samples||i;if(s>=n)return e.slice(t,t+n);const a=[],l=(n-2)/(s-2);let u=0;const d=t+n-1;let f=t,g,m,v,E,b;for(a[u++]=e[f],g=0;g<s-2;g++){let w=0,A=0,C;const k=Math.floor((g+1)*l)+1+t,R=Math.min(Math.floor((g+2)*l)+1,n)+t,D=R-k;for(C=k;C<R;C++)w+=e[C].x,A+=e[C].y;w/=D,A/=D;const M=Math.floor(g*l)+1+t,N=Math.min(Math.floor((g+1)*l)+1,n)+t,{x:V,y:X}=e[f];for(v=E=-1,C=M;C<N;C++)E=.5*Math.abs((V-w)*(e[C].y-X)-(V-e[C].x)*(A-X)),E>v&&(v=E,m=e[C],b=C);a[u++]=m,f=b}return a[u++]=e[d],a}function yet(e,t,n,i){let r=0,s=0,a,l,u,d,f,g,m,v,E,b;const w=[],A=t+n-1,C=e[t].x,R=e[A].x-C;for(a=t;a<t+n;++a){l=e[a],u=(l.x-C)/R*i,d=l.y;const D=u|0;if(D===f)d<E?(E=d,g=a):d>b&&(b=d,m=a),r=(s*r+l.x)/++s;else{const M=a-1;if(!ee(g)&&!ee(m)){const N=Math.min(g,m),V=Math.max(g,m);N!==v&&N!==M&&w.push({...e[N],x:r}),V!==v&&V!==M&&w.push({...e[V],x:r})}a>0&&M!==v&&w.push(e[M]),w.push(l),f=D,s=0,E=b=d,g=m=v=a}}return w}function XN(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function pP(e){e.data.datasets.forEach(t=>{XN(t)})}function _et(e,t){const n=t.length;let i=0,r;const{iScale:s}=e,{min:a,max:l,minDefined:u,maxDefined:d}=s.getUserBounds();return u&&(i=$n(As(t,s.axis,a).lo,0,n-1)),d?r=$n(As(t,s.axis,l).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var vet={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){pP(e);return}const i=e.width;e.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:l}=r,u=e.getDatasetMeta(s),d=a||r.data;if(Le([l,e.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=e.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:g,count:m}=_et(u,d);const v=n.threshold||4*i;if(m<=v){XN(r);return}ee(a)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let E;switch(n.algorithm){case"lttb":E=met(d,g,m,i,n);break;case"min-max":E=yet(d,g,m,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=E})},destroy(e){pP(e)}};function bet(e,t,n){const i=e.segments,r=e.points,s=t.points,a=[];for(const l of i){let{start:u,end:d}=l;d=rE(u,d,r);const f=Nb(n,r[u],r[d],l.loop);if(!t.segments){a.push({source:l,target:f,start:r[u],end:r[d]});continue}const g=DN(t,f);for(const m of g){const v=Nb(n,s[m.start],s[m.end],m.loop),E=RN(l,r,v);for(const b of E)a.push({source:b,target:m,start:{[n]:gP(f,v,"start",Math.max)},end:{[n]:gP(f,v,"end",Math.min)}})}}return a}function Nb(e,t,n,i){if(i)return;let r=t[e],s=n[e];return e==="angle"&&(r=Ui(r),s=Ui(s)),{property:e,start:r,end:s}}function wet(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,s=[];return t.segments.forEach(({start:a,end:l})=>{l=rE(a,l,r);const u=r[a],d=r[l];i!==null?(s.push({x:u.x,y:i}),s.push({x:d.x,y:i})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:d.y}))}),s}function rE(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function gP(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function JN(e,t){let n=[],i=!1;return $e(e)?(i=!0,n=e):n=wet(e,t),n.length?new To({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function mP(e){return e&&e.fill!==!1}function Eet(e,t,n){let r=e[t].fill;const s=[t];let a;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!cn(r))return r;if(a=e[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function Iet(e,t,n){const i=xet(e);if(Xt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return cn(r)&&Math.floor(r)===r?Aet(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Aet(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function Tet(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Xt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Cet(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:Xt(e)?i=e.value:i=t.getBaseValue(),i}function xet(e){const t=e.options,n=t.fill;let i=Nt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function ket(e){const{scale:t,index:n,line:i}=e,r=[],s=i.segments,a=i.points,l=Pet(t,n);l.push(JN({x:null,y:t.bottom},i));for(let u=0;u<s.length;u++){const d=s[u];for(let f=d.start;f<=d.end;f++)Ret(r,a[f],l)}return new To({points:r,options:{}})}function Pet(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function Ret(e,t,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:a,last:l,point:u}=Det(s,t,"x");if(!(!u||a&&l)){if(a)i.unshift(u);else if(e.push(u),!l)break}}e.push(...i)}function Det(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],s=e.segments,a=e.points;let l=!1,u=!1;for(let d=0;d<s.length;d++){const f=s[d],g=a[f.start][n],m=a[f.end][n];if(Is(r,g,m)){l=r===g,u=r===m;break}}return{first:l,last:u,point:i}}class ZN{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:r,y:s,radius:a}=this;return n=n||{start:0,end:je},t.arc(r,s,a,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:r}=this,s=t.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function Met(e){const{chart:t,fill:n,line:i}=e;if(cn(n))return Oet(t,n);if(n==="stack")return ket(e);if(n==="shape")return!0;const r=Net(e);return r instanceof ZN?r:JN(r,i)}function Oet(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function Net(e){return(e.scale||{}).getPointPositionForValue?Fet(e):Let(e)}function Let(e){const{scale:t={},fill:n}=e,i=Tet(n,t);if(cn(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function Fet(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,a=Cet(n,t,s),l=[];if(i.grid.circular){const u=t.getPointPositionForValue(0,s);return new ZN({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(a)})}for(let u=0;u<r;++u)l.push(t.getPointPositionForValue(u,a));return l}function w0(e,t,n){const i=Met(t),{line:r,scale:s,axis:a}=t,l=r.options,u=l.fill,d=l.backgroundColor,{above:f=d,below:g=d}=u||{};i&&r.points.length&&(jy(e,n),Vet(e,{line:r,target:i,above:f,below:g,area:n,scale:s,axis:a}),Hy(e))}function Vet(e,t){const{line:n,target:i,above:r,below:s,area:a,scale:l}=t,u=n._loop?"angle":t.axis;e.save(),u==="x"&&s!==r&&(yP(e,i,a.top),_P(e,{line:n,target:i,color:r,scale:l,property:u}),e.restore(),e.save(),yP(e,i,a.bottom)),_P(e,{line:n,target:i,color:s,scale:l,property:u}),e.restore()}function yP(e,t,n){const{segments:i,points:r}=t;let s=!0,a=!1;e.beginPath();for(const l of i){const{start:u,end:d}=l,f=r[u],g=r[rE(u,d,r)];s?(e.moveTo(f.x,f.y),s=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),a=!!t.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(g.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function _P(e,t){const{line:n,target:i,property:r,color:s,scale:a}=t,l=bet(n,i,r);for(const{source:u,target:d,start:f,end:g}of l){const{style:{backgroundColor:m=s}={}}=u,v=i!==!0;e.save(),e.fillStyle=m,Bet(e,a,v&&Nb(r,f,g)),e.beginPath();const E=!!n.pathSegment(e,u);let b;if(v){E?e.closePath():vP(e,i,g,r);const w=!!i.pathSegment(e,d,{move:E,reverse:!0});b=E&&w,b||vP(e,i,f,r)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function Bet(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:a,end:l}=n||{};s==="x"&&(e.beginPath(),e.rect(a,i,l-a,r-i),e.clip())}function vP(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var Uet={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let s,a,l,u;for(a=0;a<i;++a)s=e.getDatasetMeta(a),l=s.dataset,u=null,l&&l.options&&l instanceof To&&(u={visible:e.isDatasetVisible(a),index:a,fill:Iet(l,a,i),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=u,r.push(u);for(a=0;a<i;++a)u=r[a],!(!u||u.fill===!1)&&(u.fill=Eet(r,a,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let a=r.length-1;a>=0;--a){const l=r[a].$filler;l&&(l.line.updateControlPoints(s,l.axis),i&&l.fill&&w0(e.ctx,l,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;mP(s)&&w0(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!mP(i)||n.drawTime!=="beforeDatasetDraw"||w0(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const bP=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},$et=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class wP extends Hs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=ke(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=xn(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=bP(i,s);let d,f;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,s,l,u)+10):(f=this.maxHeight,d=this._fitCols(a,r,l,u)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=r+l;let g=t;s.textAlign="left",s.textBaseline="middle";let m=-1,v=-f;return this.legendItems.forEach((E,b)=>{const w=i+n/2+s.measureText(E.text).width;(b===0||d[d.length-1]+w+2*l>a)&&(g+=f,d[d.length-(b>0?0:1)]=0,v+=f,m++),u[b]={left:0,top:v,row:m,width:w,height:r},d[d.length-1]+=w+l}),g}_fitCols(t,n,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-t;let g=l,m=0,v=0,E=0,b=0;return this.legendItems.forEach((w,A)=>{const{itemWidth:C,itemHeight:k}=jet(i,n,s,w,r);A>0&&v+k+2*l>f&&(g+=m+l,d.push({width:m,height:v}),E+=m+l,b++,m=v=0),u[A]={left:E,top:v,col:b,width:C,height:k},m=Math.max(m,C),v+=k+l}),g+=m,d.push({width:m,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,a=_l(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=ii(i,this.left+r,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,u=ii(i,this.left+r,this.right-this.lineWidths[l])),d.top+=this.top+t+r,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+r}else{let l=0,u=ii(i,this.top+t+r,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,u=ii(i,this.top+t+r,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+r,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;jy(t,this),this._draw(),Hy(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:a}=t,l=Je.color,u=_l(t.rtl,this.left,this.width),d=xn(a.font),{padding:f}=a,g=d.size,m=g/2;let v;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:E,boxHeight:b,itemHeight:w}=bP(a,g),A=function(M,N,V){if(isNaN(E)||E<=0||isNaN(b)||b<0)return;r.save();const X=Nt(V.lineWidth,1);if(r.fillStyle=Nt(V.fillStyle,l),r.lineCap=Nt(V.lineCap,"butt"),r.lineDashOffset=Nt(V.lineDashOffset,0),r.lineJoin=Nt(V.lineJoin,"miter"),r.lineWidth=X,r.strokeStyle=Nt(V.strokeStyle,l),r.setLineDash(Nt(V.lineDash,[])),a.usePointStyle){const at={radius:b*Math.SQRT2/2,pointStyle:V.pointStyle,rotation:V.rotation,borderWidth:X},J=u.xPlus(M,E/2),pt=N+m;bN(r,at,J,pt,a.pointStyleWidth&&E)}else{const at=N+Math.max((g-b)/2,0),J=u.leftForLtr(M,E),pt=Ba(V.borderRadius);r.beginPath(),Object.values(pt).some(Et=>Et!==0)?Fd(r,{x:J,y:at,w:E,h:b,radius:pt}):r.rect(J,at,E,b),r.fill(),X!==0&&r.stroke()}r.restore()},C=function(M,N,V){Ja(r,V.text,M,N+w/2,d,{strikethrough:V.hidden,textAlign:u.textAlign(V.textAlign)})},k=this.isHorizontal(),R=this._computeTitleHeight();k?v={x:ii(s,this.left+f,this.right-i[0]),y:this.top+f+R,line:0}:v={x:this.left+f,y:ii(s,this.top+R+f,this.bottom-n[0].height),line:0},xN(this.ctx,t.textDirection);const D=w+f;this.legendItems.forEach((M,N)=>{r.strokeStyle=M.fontColor,r.fillStyle=M.fontColor;const V=r.measureText(M.text).width,X=u.textAlign(M.textAlign||(M.textAlign=a.textAlign)),at=E+m+V;let J=v.x,pt=v.y;u.setWidth(this.width),k?N>0&&J+at+f>this.right&&(pt=v.y+=D,v.line++,J=v.x=ii(s,this.left+f,this.right-i[v.line])):N>0&&pt+D>this.bottom&&(J=v.x=J+n[v.line].width+f,v.line++,pt=v.y=ii(s,this.top+R+f,this.bottom-n[v.line].height));const Et=u.x(J);if(A(Et,pt,M),J=cJ(X,J+E+m,k?J+at:this.right,t.rtl),C(u.x(J),pt,M),k)v.x+=at+f;else if(typeof M.text!="string"){const Te=d.lineHeight;v.y+=tL(M,Te)+f}else v.y+=D}),kN(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=xn(n.font),r=ti(n.padding);if(!n.display)return;const s=_l(t.rtl,this.left,this.width),a=this.ctx,l=n.position,u=i.size/2,d=r.top+u;let f,g=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),f=this.top+d,g=ii(t.align,g,this.right-m);else{const E=this.columnSizes.reduce((b,w)=>Math.max(b,w.height),0);f=d+ii(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const v=ii(l,g,g+m);a.textAlign=s.textAlign(Y1(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,Ja(a,n.text,v,f,i)}_computeTitleHeight(){const t=this.options.title,n=xn(t.font),i=ti(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,s;if(Is(t,this.left,this.right)&&Is(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Is(t,r.left,r.left+r.width)&&Is(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!Wet(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=$et(r,i);r&&!s&&ke(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&ke(n.onHover,[t,i,this],this)}else i&&ke(n.onClick,[t,i,this],this)}}function jet(e,t,n,i,r){const s=Het(i,e,t,n),a=zet(r,i,t.lineHeight);return{itemWidth:s,itemHeight:a}}function Het(e,t,n,i){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),t+n.size/2+i.measureText(r).width}function zet(e,t,n){let i=e;return typeof t.text!="string"&&(i=tL(t,n)),i}function tL(e,t){const n=e.text?e.text.length:0;return t*n}function Wet(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var qet={id:"legend",_element:wP,start(e,t,n){const i=e.legend=new wP({ctx:e.ctx,options:n,chart:e});ci.configure(e,i,n),ci.addBox(e,i)},stop(e){ci.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;ci.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),f=ti(d.borderWidth);return{text:t[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class sE extends Hs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=$e(i.text)?i.text.length:1;this._padding=ti(i.padding);const s=r*xn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:s,options:a}=this,l=a.align;let u=0,d,f,g;return this.isHorizontal()?(f=ii(l,i,s),g=n+t,d=s-i):(a.position==="left"?(f=i+t,g=ii(l,r,n),u=He*-.5):(f=s-t,g=ii(l,n,r),u=He*.5),d=r-n),{titleX:f,titleY:g,maxWidth:d,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=xn(n.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(s);Ja(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:Y1(n.align),textBaseline:"middle",translation:[a,l]})}}function Ket(e,t){const n=new sE({ctx:e.ctx,options:t,chart:e});ci.configure(e,n,t),ci.addBox(e,n),e.titleBlock=n}var eL={id:"title",_element:sE,start(e,t,n){Ket(e,n)},stop(e){const t=e.titleBlock;ci.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;ci.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dg=new WeakMap;var Get={id:"subtitle",start(e,t,n){const i=new sE({ctx:e.ctx,options:n,chart:e});ci.configure(e,i,n),ci.addBox(e,i),dg.set(e,i)},stop(e){ci.removeBox(e,dg.get(e)),dg.delete(e)},beforeUpdate(e,t,n){const i=dg.get(e);ci.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dh={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,s=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const u=l.tooltipPosition();i.add(u.x),r+=u.y,++s}}return{x:[...i].reduce((l,u)=>l+u)/i.size,y:r/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=e.length;s<a;++s){const u=e[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=Sb(t,d);f<r&&(r=f,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function Sr(e,t){return t&&($e(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ys(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Yet(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:a,value:l}=s.getLabelAndValue(r);return{chart:e,label:a,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function EP(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:a,boxHeight:l}=t,u=xn(t.bodyFont),d=xn(t.titleFont),f=xn(t.footerFont),g=s.length,m=r.length,v=i.length,E=ti(t.padding);let b=E.height,w=0,A=i.reduce((R,D)=>R+D.before.length+D.lines.length+D.after.length,0);if(A+=e.beforeBody.length+e.afterBody.length,g&&(b+=g*d.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),A){const R=t.displayColors?Math.max(l,u.lineHeight):u.lineHeight;b+=v*R+(A-v)*u.lineHeight+(A-1)*t.bodySpacing}m&&(b+=t.footerMarginTop+m*f.lineHeight+(m-1)*t.footerSpacing);let C=0;const k=function(R){w=Math.max(w,n.measureText(R).width+C)};return n.save(),n.font=d.string,we(e.title,k),n.font=u.string,we(e.beforeBody.concat(e.afterBody),k),C=t.displayColors?a+2+t.boxPadding:0,we(i,R=>{we(R.before,k),we(R.lines,k),we(R.after,k)}),C=0,n.font=f.string,we(e.footer,k),n.restore(),w+=E.width,{width:w,height:b}}function Qet(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function Xet(e,t,n,i){const{x:r,width:s}=i,a=n.caretSize+n.caretPadding;if(e==="left"&&r+s+a>t.width||e==="right"&&r-s-a<0)return!0}function Jet(e,t,n,i){const{x:r,width:s}=n,{width:a,chartArea:{left:l,right:u}}=e;let d="center";return i==="center"?d=r<=(l+u)/2?"left":"right":r<=s/2?d="left":r>=a-s/2&&(d="right"),Xet(d,e,t,n)&&(d="center"),d}function IP(e,t,n){const i=n.yAlign||t.yAlign||Qet(e,n);return{xAlign:n.xAlign||t.xAlign||Jet(e,t,n,i),yAlign:i}}function Zet(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function tnt(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function AP(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=e,{xAlign:l,yAlign:u}=n,d=r+s,{topLeft:f,topRight:g,bottomLeft:m,bottomRight:v}=Ba(a);let E=Zet(t,l);const b=tnt(t,u,d);return u==="center"?l==="left"?E+=d:l==="right"&&(E-=d):l==="left"?E-=Math.max(f,m)+r:l==="right"&&(E+=Math.max(g,v)+r),{x:$n(E,0,i.width-t.width),y:$n(b,0,i.height-t.height)}}function fg(e,t,n){const i=ti(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function TP(e){return Sr([],ys(e))}function ent(e,t,n){return Qo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function CP(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const nL={beforeTitle:gs,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:gs,beforeBody:gs,beforeLabel:gs,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ee(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:gs,afterBody:gs,beforeFooter:gs,footer:gs,afterFooter:gs};function Ii(e,t,n,i){const r=e[t].call(n,i);return typeof r>"u"?nL[t].call(n,i):r}class Lb extends Hs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new MN(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=ent(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=Ii(i,"beforeTitle",this,t),s=Ii(i,"title",this,t),a=Ii(i,"afterTitle",this,t);let l=[];return l=Sr(l,ys(r)),l=Sr(l,ys(s)),l=Sr(l,ys(a)),l}getBeforeBody(t,n){return TP(Ii(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,r=[];return we(t,s=>{const a={before:[],lines:[],after:[]},l=CP(i,s);Sr(a.before,ys(Ii(l,"beforeLabel",this,s))),Sr(a.lines,Ii(l,"label",this,s)),Sr(a.after,ys(Ii(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(t,n){return TP(Ii(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,r=Ii(i,"beforeFooter",this,t),s=Ii(i,"footer",this,t),a=Ii(i,"afterFooter",this,t);let l=[];return l=Sr(l,ys(r)),l=Sr(l,ys(s)),l=Sr(l,ys(a)),l}_createItems(t){const n=this._active,i=this.chart.data,r=[],s=[],a=[];let l=[],u,d;for(u=0,d=n.length;u<d;++u)l.push(Yet(this.chart,n[u]));return t.filter&&(l=l.filter((f,g,m)=>t.filter(f,g,m,i))),t.itemSort&&(l=l.sort((f,g)=>t.itemSort(f,g,i))),we(l,f=>{const g=CP(t.callbacks,f);r.push(Ii(g,"labelColor",this,f)),s.push(Ii(g,"labelPointStyle",this,f)),a.push(Ii(g,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const l=Dh[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=EP(this,i),d=Object.assign({},l,u),f=IP(this.chart,i,d),g=AP(i,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const s=this.getCaretPosition(t,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=Ba(l),{x:m,y:v}=t,{width:E,height:b}=n;let w,A,C,k,R,D;return s==="center"?(R=v+b/2,r==="left"?(w=m,A=w-a,k=R+a,D=R-a):(w=m+E,A=w+a,k=R-a,D=R+a),C=w):(r==="left"?A=m+Math.max(u,f)+a:r==="right"?A=m+E-Math.max(d,g)-a:A=this.caretX,s==="top"?(k=v,R=k-a,w=A-a,C=A+a):(k=v+b,R=k+a,w=A+a,C=A-a),D=k),{x1:w,x2:A,x3:C,y1:k,y2:R,y3:D}}drawTitle(t,n,i){const r=this.title,s=r.length;let a,l,u;if(s){const d=_l(i.rtl,this.x,this.width);for(t.x=fg(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=xn(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<s;++u)n.fillText(r[u],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,u+1===s&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,n,i,r,s){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=s,f=xn(s.bodyFont),g=fg(this,"left",s),m=r.x(g),v=u<f.lineHeight?(f.lineHeight-u)/2:0,E=n.y+v;if(s.usePointStyle){const b={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=r.leftForLtr(m,d)+d/2,A=E+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,kb(t,b,w,A),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,kb(t,b,w,A)}else{t.lineWidth=Xt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const b=r.leftForLtr(m,d),w=r.leftForLtr(r.xPlus(m,1),d-2),A=Ba(a.borderRadius);Object.values(A).some(C=>C!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Fd(t,{x:b,y:E,w:d,h:u,radius:A}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Fd(t,{x:w,y:E+1,w:d-2,h:u-2,radius:A}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(b,E,d,u),t.strokeRect(b,E,d,u),t.fillStyle=a.backgroundColor,t.fillRect(w,E+1,d-2,u-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:f}=i,g=xn(i.bodyFont);let m=g.lineHeight,v=0;const E=_l(i.rtl,this.x,this.width),b=function(V){n.fillText(V,E.x(t.x+v),t.y+m/2),t.y+=m+s},w=E.textAlign(a);let A,C,k,R,D,M,N;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,t.x=fg(this,w,i),n.fillStyle=i.bodyColor,we(this.beforeBody,b),v=l&&w!=="right"?a==="center"?d/2+f:d+2+f:0,R=0,M=r.length;R<M;++R){for(A=r[R],C=this.labelTextColors[R],n.fillStyle=C,we(A.before,b),k=A.lines,l&&k.length&&(this._drawColorBox(n,t,R,E,i),m=Math.max(g.lineHeight,u)),D=0,N=k.length;D<N;++D)b(k[D]),m=g.lineHeight;we(A.after,b)}v=0,m=g.lineHeight,we(this.afterBody,b),t.y-=s}drawFooter(t,n,i){const r=this.footer,s=r.length;let a,l;if(s){const u=_l(i.rtl,this.x,this.width);for(t.x=fg(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=xn(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(r[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:s,yAlign:a}=this,{x:l,y:u}=t,{width:d,height:f}=i,{topLeft:g,topRight:m,bottomLeft:v,bottomRight:E}=Ba(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+g,u),a==="top"&&this.drawCaret(t,n,i,r),n.lineTo(l+d-m,u),n.quadraticCurveTo(l+d,u,l+d,u+m),a==="center"&&s==="right"&&this.drawCaret(t,n,i,r),n.lineTo(l+d,u+f-E),n.quadraticCurveTo(l+d,u+f,l+d-E,u+f),a==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(l+v,u+f),n.quadraticCurveTo(l,u+f,l,u+f-v),a==="center"&&s==="left"&&this.drawCaret(t,n,i,r),n.lineTo(l,u+g),n.quadraticCurveTo(l,u,l+g,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=Dh[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=EP(this,t),u=Object.assign({},a,this._size),d=IP(n,t,u),f=AP(t,u,d,n);(r._to!==f.x||s._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=ti(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,n),xN(t,n.textDirection),s.y+=a.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),kN(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!Am(i,r),a=this._positionChanged(r,n);(s||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(t,s,n,i),l=this._positionChanged(a,t),u=n||!Am(a,s)||l;return u&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:i,caretY:r,options:s}=this,a=Dh[s.position].call(this,t,n);return a!==!1&&(i!==a.x||r!==a.y)}}L(Lb,"positioners",Dh);var nnt={id:"tooltip",_element:Lb,positioners:Dh,afterInit(e,t,n){n&&(e.tooltip=new Lb({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},int=Object.freeze({__proto__:null,Colors:get,Decimation:vet,Filler:Uet,Legend:qet,SubTitle:Get,Title:eL,Tooltip:nnt});const rnt=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function snt(e,t,n,i){const r=e.indexOf(t);if(r===-1)return rnt(e,t,n,i);const s=e.lastIndexOf(t);return r!==s?n:r}const ont=(e,t)=>e===null?null:$n(Math.round(e),0,t);function SP(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Fb extends oc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ee(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:snt(i,t,Nt(n,t),this._addedLabels),ont(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=n;a++)r.push({value:a});return r}getLabelForValue(t){return SP.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}L(Fb,"id","category"),L(Fb,"defaults",{ticks:{callback:SP}});function ant(e,t){const n=[],{bounds:r,step:s,min:a,max:l,precision:u,count:d,maxTicks:f,maxDigits:g,includeBounds:m}=e,v=s||1,E=f-1,{min:b,max:w}=t,A=!ee(a),C=!ee(l),k=!ee(d),R=(w-b)/(g+1);let D=wk((w-b)/E/v)*v,M,N,V,X;if(D<1e-14&&!A&&!C)return[{value:b},{value:w}];X=Math.ceil(w/D)-Math.floor(b/D),X>E&&(D=wk(X*D/E/v)*v),ee(u)||(M=Math.pow(10,u),D=Math.ceil(D*M)/M),r==="ticks"?(N=Math.floor(b/D)*D,V=Math.ceil(w/D)*D):(N=b,V=w),A&&C&&s&&eJ((l-a)/s,D/1e3)?(X=Math.round(Math.min((l-a)/D,f)),D=(l-a)/X,N=a,V=l):k?(N=A?a:N,V=C?l:V,X=d-1,D=(V-N)/X):(X=(V-N)/D,Xh(X,Math.round(X),D/1e3)?X=Math.round(X):X=Math.ceil(X));const at=Math.max(Ek(D),Ek(N));M=Math.pow(10,ee(u)?at:u),N=Math.round(N*M)/M,V=Math.round(V*M)/M;let J=0;for(A&&(m&&N!==a?(n.push({value:a}),N<a&&J++,Xh(Math.round((N+J*D)*M)/M,a,xP(a,R,e))&&J++):N<a&&J++);J<X;++J){const pt=Math.round((N+J*D)*M)/M;if(C&&pt>l)break;n.push({value:pt})}return C&&m&&V!==l?n.length&&Xh(n[n.length-1].value,l,xP(l,R,e))?n[n.length-1].value=l:n.push({value:l}):(!C||V===l)&&n.push({value:V}),n}function xP(e,t,{horizontal:n,minRotation:i}){const r=dr(i),s=(n?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+e).length;return Math.min(t/s,a)}class Rm extends oc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ee(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=u=>r=n?r:u,l=u=>s=i?s:u;if(t){const u=Kr(r),d=Kr(s);u<0&&d<0?l(0):u>0&&d>0&&a(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);l(s+u),t||a(r-u)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=ant(r,s);return t.bounds==="ticks"&&hN(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return _f(t,this.chart.options.locale,this.options.ticks.format)}}class Vb extends Rm{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=cn(t)?t:0,this.max=cn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=dr(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}L(Vb,"id","linear"),L(Vb,"defaults",{ticks:{callback:$y.formatters.numeric}});const Bd=e=>Math.floor(Ao(e)),va=(e,t)=>Math.pow(10,Bd(e)+t);function kP(e){return e/Math.pow(10,Bd(e))===1}function PP(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function cnt(e,t){const n=t-e;let i=Bd(n);for(;PP(e,t,i)>10;)i++;for(;PP(e,t,i)<10;)i--;return Math.min(i,Bd(e))}function lnt(e,{min:t,max:n}){t=Bi(e.min,t);const i=[],r=Bd(t);let s=cnt(t,n),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),u=r>s?Math.pow(10,r):0,d=Math.round((t-u)*a)/a,f=Math.floor((t-u)/l/10)*l*10;let g=Math.floor((d-f)/Math.pow(10,s)),m=Bi(e.min,Math.round((u+f+g*Math.pow(10,s))*a)/a);for(;m<n;)i.push({value:m,major:kP(m),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(s++,g=2,a=s>=0?1:a),m=Math.round((u+f+g*Math.pow(10,s))*a)/a;const v=Bi(e.max,m);return i.push({value:v,major:kP(v),significand:g}),i}class Bb extends oc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Rm.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return cn(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=cn(t)?Math.max(0,t):null,this.max=cn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!cn(this._userMin)&&(this.min=t===va(this.min,0)?va(this.min,-1):va(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=t?i:l,a=l=>r=n?r:l;i===r&&(i<=0?(s(1),a(10)):(s(va(i,-1)),a(va(r,1)))),i<=0&&s(va(r,-1)),r<=0&&a(va(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=lnt(n,this);return t.bounds==="ticks"&&hN(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":_f(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ao(t),this._valueRange=Ao(this.max)-Ao(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ao(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}L(Bb,"id","logarithmic"),L(Bb,"defaults",{ticks:{callback:$y.formatters.logarithmic,major:{enabled:!0}}});function Ub(e){const t=e.ticks;if(t.display&&e.display){const n=ti(t.backdropPadding);return Nt(t.font&&t.font.size,Je.font.size)+n.height}return 0}function unt(e,t,n){return n=$e(n)?n:[n],{w:_J(e,t.string,n),h:n.length*t.lineHeight}}function RP(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function hnt(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],s=e._pointLabels.length,a=e.options.pointLabels,l=a.centerPointLabels?He/s:0;for(let u=0;u<s;u++){const d=a.setContext(e.getPointLabelContext(u));r[u]=d.padding;const f=e.getPointPosition(u,e.drawingArea+r[u],l),g=xn(d.font),m=unt(e.ctx,g,e._pointLabels[u]);i[u]=m;const v=Ui(e.getIndexAngle(u)+l),E=Math.round(K1(v)),b=RP(E,f.x,m.w,0,180),w=RP(E,f.y,m.h,90,270);dnt(n,t,v,b,w)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=gnt(e,i,r)}function dnt(e,t,n,i,r){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let l=0,u=0;i.start<t.l?(l=(t.l-i.start)/s,e.l=Math.min(e.l,t.l-l)):i.end>t.r&&(l=(i.end-t.r)/s,e.r=Math.max(e.r,t.r+l)),r.start<t.t?(u=(t.t-r.start)/a,e.t=Math.min(e.t,t.t-u)):r.end>t.b&&(u=(r.end-t.b)/a,e.b=Math.max(e.b,t.b+u))}function fnt(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:s,padding:a,size:l}=n,u=e.getPointPosition(t,i+r+a,s),d=Math.round(K1(Ui(u.angle+_n))),f=_nt(u.y,l.h,d),g=mnt(d),m=ynt(u.x,l.w,g);return{visible:!0,x:u.x,y:f,textAlign:g,left:m,top:f,right:m+l.w,bottom:f+l.h}}function pnt(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:s}=e;return!(Ts({x:n,y:i},t)||Ts({x:n,y:s},t)||Ts({x:r,y:i},t)||Ts({x:r,y:s},t))}function gnt(e,t,n){const i=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:a,display:l}=s.pointLabels,u={extra:Ub(s)/2,additionalAngle:a?He/r:0};let d;for(let f=0;f<r;f++){u.padding=n[f],u.size=t[f];const g=fnt(e,f,u);i.push(g),l==="auto"&&(g.visible=pnt(g,d),g.visible&&(d=g))}return i}function mnt(e){return e===0||e===180?"center":e<180?"left":"right"}function ynt(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function _nt(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function vnt(e,t,n){const{left:i,top:r,right:s,bottom:a}=n,{backdropColor:l}=t;if(!ee(l)){const u=Ba(t.borderRadius),d=ti(t.backdropPadding);e.fillStyle=l;const f=i-d.left,g=r-d.top,m=s-i+d.width,v=a-r+d.height;Object.values(u).some(E=>E!==0)?(e.beginPath(),Fd(e,{x:f,y:g,w:m,h:v,radius:u}),e.fill()):e.fillRect(f,g,m,v)}}function bnt(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const s=e._pointLabelItems[r];if(!s.visible)continue;const a=i.setContext(e.getPointLabelContext(r));vnt(n,a,s);const l=xn(a.font),{x:u,y:d,textAlign:f}=s;Ja(n,e._pointLabels[r],u,d+l.lineHeight/2,l,{color:a.color,textAlign:f,textBaseline:"middle"})}}function iL(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,je);else{let s=e.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=e.getPointPosition(a,t),r.lineTo(s.x,s.y)}}function wnt(e,t,n,i,r){const s=e.ctx,a=t.circular,{color:l,lineWidth:u}=t;!a&&!i||!l||!u||n<0||(s.save(),s.strokeStyle=l,s.lineWidth=u,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),iL(e,n,a,i),s.closePath(),s.stroke(),s.restore())}function Ent(e,t,n){return Qo(e,{label:n,index:t,type:"pointLabel"})}class Mh extends Rm{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ti(Ub(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=cn(t)&&!isNaN(t)?t:0,this.max=cn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ub(this.options))}generateTickLabels(t){Rm.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const r=ke(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?hnt(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,r))}getIndexAngle(t){const n=je/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ui(t*n+dr(i))}getDistanceFromCenterForValue(t){if(ee(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(ee(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return Ent(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const r=this.getIndexAngle(t)-_n+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),iL(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,a=this._pointLabels.length;let l,u,d;if(n.pointLabels.display&&bnt(this,a),r.display&&this.ticks.forEach((f,g)=>{if(g!==0||g===0&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const m=this.getContext(g),v=r.setContext(m),E=s.setContext(m);wnt(this,v,u,a,E)}}),i.display){for(t.save(),l=a-1;l>=0;l--){const f=i.setContext(this.getPointLabelContext(l)),{color:g,lineWidth:m}=f;!m||!g||(t.lineWidth=m,t.strokeStyle=g,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),d=this.getPointPosition(l,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const d=i.setContext(this.getContext(u)),f=xn(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){t.font=f.string,a=t.measureText(l.label).width,t.fillStyle=d.backdropColor;const g=ti(d.backdropPadding);t.fillRect(-a/2-g.left,-s-f.size/2-g.top,a+g.width,f.size+g.height)}Ja(t,l.label,0,-s,f,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}L(Mh,"id","radialLinear"),L(Mh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$y.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),L(Mh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),L(Mh,"descriptors",{angleLines:{_fallback:"grid"}});const Wy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Si=Object.keys(Wy);function DP(e,t){return e-t}function MP(e,t){if(ee(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),cn(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(Fl(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,r)),+a)}function OP(e,t,n,i){const r=Si.length;for(let s=Si.indexOf(e);s<r-1;++s){const a=Wy[Si[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(l*a.size))<=i)return Si[s]}return Si[r-1]}function Int(e,t,n,i,r){for(let s=Si.length-1;s>=Si.indexOf(n);s--){const a=Si[s];if(Wy[a].common&&e._adapter.diff(r,i,a)>=t-1)return a}return Si[n?Si.indexOf(n):0]}function Ant(e){for(let t=Si.indexOf(e)+1,n=Si.length;t<n;++t)if(Wy[Si[t]].common)return Si[t]}function NP(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=G1(n,t),s=n[i]>=t?n[i]:n[r];e[s]=!0}}function Tnt(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),a=t[t.length-1].value;let l,u;for(l=s;l<=a;l=+r.add(l,1,i))u=n[l],u>=0&&(t[u].major=!0);return t}function LP(e,t,n){const i=[],r={},s=t.length;let a,l;for(a=0;a<s;++a)l=t[a],r[l]=a,i.push({value:l,major:!1});return s===0||!n?i:Tnt(e,i,r,n)}class Ud extends oc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),r=this._adapter=new LN._date(t.adapters.date);r.init(n),Qh(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:MP(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=cn(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=cn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,l=sJ(r,s,a);return this._unit=n.unit||(i.autoSkip?OP(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Int(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Ant(this._unit),this.initOffsets(r),t.reverse&&l.reverse(),LP(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=$n(n,0,a),i=$n(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||OP(s.minUnit,n,i,this._getLabelCapacity(n)),l=Nt(r.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=Fl(u)||u===!0,f={};let g=n,m,v;if(d&&(g=+t.startOf(g,"isoWeek",u)),g=+t.startOf(g,d?"day":a),t.diff(i,n,a)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+a);const E=r.ticks.source==="data"&&this.getDataTimestamps();for(m=g,v=0;m<i;m=+t.add(m,l,a),v++)NP(f,m,E);return(m===i||r.bounds==="ticks"||v===1)&&NP(f,m,E),Object.keys(f).sort(DP).map(b=>+b)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,s=this._unit,a=n||r[s];return this._adapter.format(t,a)}_tickFormatFunction(t,n,i,r){const s=this.options,a=s.ticks.callback;if(a)return ke(a,[t,n,i],this);const l=s.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&l[u],g=d&&l[d],m=i[n],v=d&&g&&m&&m.major;return this._adapter.format(t,r||(v?g:f))}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=dr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(t,0,LP(this,[t],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(MP(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return pN(t.sort(DP))}}L(Ud,"id","time"),L(Ud,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function pg(e,t,n){let i=0,r=e.length-1,s,a,l,u;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=As(e,"pos",t)),{pos:s,time:l}=e[i],{pos:a,time:u}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=As(e,"time",t)),{time:s,pos:l}=e[i],{time:a,pos:u}=e[r]);const d=a-s;return d?l+(u-l)*(t-s)/d:l}class $b extends Ud{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=pg(n,this.min),this._tableRange=pg(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],s=[];let a,l,u,d,f;for(a=0,l=t.length;a<l;++a)d=t[a],d>=n&&d<=i&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,l=r.length;a<l;++a)f=r[a+1],u=r[a-1],d=r[a],Math.round((f+u)/2)!==d&&s.push({time:d,pos:a/(l-1)});return s}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(pg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return pg(this._table,i*this._tableRange+this._minPos,!0)}}L($b,"id","timeseries"),L($b,"defaults",Ud.defaults);var Cnt=Object.freeze({__proto__:null,CategoryScale:Fb,LinearScale:Vb,LogarithmicScale:Bb,RadialLinearScale:Mh,TimeScale:Ud,TimeSeriesScale:$b});const oE=[MZ,cet,int,Cnt];ac.register(...oE);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var FP=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),zg={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):ee(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var i=[].concat(t),r=i.length,s=e.font,a=0,l;for(e.font=n.string,l=0;l<r;++l)a=Math.max(e.measureText(i[l]).width,a);return e.font=s,{height:r*n.lineHeight,width:a}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),i=[],r,s,a,l;for(r=0,a=t.length;r<a;++r)l=t[r],s=n.indexOf(l),s===-1?i.push([l,1]):n.splice(s,1);for(r=0,a=n.length;r<a;++r)i.push([n[r],-1]);return i},rasterize:function(e){return Math.round(e*FP)/FP}};function E0(e,t){var n=t.x,i=t.y;if(n===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var r=e.x-n,s=e.y-i,a=Math.sqrt(r*r+s*s);return{x:a?r/a:0,y:a?s/a:-1}}function Snt(e,t,n,i,r){switch(r){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:r*=Math.PI/180,n=Math.cos(r),i=Math.sin(r);break}return{x:e,y:t,vx:n,vy:i}}var xnt=0,rL=1,sL=2,oL=4,aL=8;function gg(e,t,n){var i=xnt;return e<n.left?i|=rL:e>n.right&&(i|=sL),t<n.top?i|=aL:t>n.bottom&&(i|=oL),i}function knt(e,t){for(var n=e.x0,i=e.y0,r=e.x1,s=e.y1,a=gg(n,i,t),l=gg(r,s,t),u,d,f;!(!(a|l)||a&l);)u=a||l,u&aL?(d=n+(r-n)*(t.top-i)/(s-i),f=t.top):u&oL?(d=n+(r-n)*(t.bottom-i)/(s-i),f=t.bottom):u&sL?(f=i+(s-i)*(t.right-n)/(r-n),d=t.right):u&rL&&(f=i+(s-i)*(t.left-n)/(r-n),d=t.left),u===a?(n=d,i=f,a=gg(n,i,t)):(r=d,s=f,l=gg(r,s,t));return{x0:n,x1:r,y0:i,y1:s}}function mg(e,t){var n=t.anchor,i=e,r,s;return t.clamp&&(i=knt(i,t.area)),n==="start"?(r=i.x0,s=i.y0):n==="end"?(r=i.x1,s=i.y1):(r=(i.x0+i.x1)/2,s=(i.y0+i.y1)/2),Snt(r,s,e.vx,e.vy,t.align)}var yg={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,i=Math.cos(n),r=Math.sin(n),s=e.innerRadius,a=e.outerRadius;return mg({x0:e.x+i*s,y0:e.y+r*s,x1:e.x+i*a,y1:e.y+r*a,vx:i,vy:r},t)},point:function(e,t){var n=E0(e,t.origin),i=n.x*e.options.radius,r=n.y*e.options.radius;return mg({x0:e.x-i,y0:e.y-r,x1:e.x+i,y1:e.y+r,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=E0(e,t.origin),i=e.x,r=e.y,s=0,a=0;return e.horizontal?(i=Math.min(e.x,e.base),s=Math.abs(e.base-e.x)):(r=Math.min(e.y,e.base),a=Math.abs(e.base-e.y)),mg({x0:i,y0:r+a,x1:i+s,y1:r,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=E0(e,t.origin);return mg({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},Cs=zg.rasterize;function Pnt(e){var t=e.borderWidth||0,n=e.padding,i=e.size.height,r=e.size.width,s=-r/2,a=-i/2;return{frame:{x:s-n.left-t,y:a-n.top-t,w:r+n.width+t*2,h:i+n.height+t*2},text:{x:s,y:a,w:r,h:i}}}function Rnt(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function Dnt(e){return e instanceof sl?yg.arc:e instanceof ed?yg.point:e instanceof nd?yg.bar:yg.fallback}function Mnt(e,t,n,i,r,s){var a=Math.PI/2;if(s){var l=Math.min(s,r/2,i/2),u=t+l,d=n+l,f=t+i-l,g=n+r-l;e.moveTo(t,d),u<f&&d<g?(e.arc(u,d,l,-Math.PI,-a),e.arc(f,d,l,-a,0),e.arc(f,g,l,0,a),e.arc(u,g,l,a,Math.PI)):u<f?(e.moveTo(u,n),e.arc(f,d,l,-a,a),e.arc(u,d,l,a,Math.PI+a)):d<g?(e.arc(u,d,l,-Math.PI,0),e.arc(u,g,l,0,Math.PI)):e.arc(u,d,l,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,r)}function Ont(e,t,n){var i=n.backgroundColor,r=n.borderColor,s=n.borderWidth;!i&&(!r||!s)||(e.beginPath(),Mnt(e,Cs(t.x)+s/2,Cs(t.y)+s/2,Cs(t.w)-s,Cs(t.h)-s,n.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),r&&s&&(e.strokeStyle=r,e.lineWidth=s,e.lineJoin="miter",e.stroke()))}function Nnt(e,t,n){var i=n.lineHeight,r=e.w,s=e.x,a=e.y+i/2;return t==="center"?s+=r/2:(t==="end"||t==="right")&&(s+=r),{h:i,w:r,x:s,y:a}}function Lnt(e,t,n){var i=e.shadowBlur,r=n.stroked,s=Cs(n.x),a=Cs(n.y),l=Cs(n.w);r&&e.strokeText(t,s,a,l),n.filled&&(i&&r&&(e.shadowBlur=0),e.fillText(t,s,a,l),i&&r&&(e.shadowBlur=i))}function Fnt(e,t,n,i){var r=i.textAlign,s=i.color,a=!!s,l=i.font,u=t.length,d=i.textStrokeColor,f=i.textStrokeWidth,g=d&&f,m;if(!(!u||!a&&!g))for(n=Nnt(n,r,l),e.font=l.string,e.textAlign=r,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,a&&(e.fillStyle=s),g&&(e.lineJoin="round",e.lineWidth=f,e.strokeStyle=d),m=0,u=t.length;m<u;++m)Lnt(e,t[m],{stroked:g,filled:a,w:n.w,x:n.x,y:n.y+n.h*m})}var Vnt=function(e,t,n,i){var r=this;r._config=e,r._index=i,r._model=null,r._rects=null,r._ctx=t,r._el=n};Qa(Vnt.prototype,{_modelize:function(e,t,n,i){var r=this,s=r._index,a=xn(Le([n.font,{}],i,s)),l=Le([n.color,Je.color],i,s);return{align:Le([n.align,"center"],i,s),anchor:Le([n.anchor,"center"],i,s),area:i.chart.chartArea,backgroundColor:Le([n.backgroundColor,null],i,s),borderColor:Le([n.borderColor,null],i,s),borderRadius:Le([n.borderRadius,0],i,s),borderWidth:Le([n.borderWidth,0],i,s),clamp:Le([n.clamp,!1],i,s),clip:Le([n.clip,!1],i,s),color:l,display:e,font:a,lines:t,offset:Le([n.offset,4],i,s),opacity:Le([n.opacity,1],i,s),origin:Rnt(r._el,i),padding:ti(Le([n.padding,4],i,s)),positioner:Dnt(r._el),rotation:Le([n.rotation,0],i,s)*(Math.PI/180),size:zg.textSize(r._ctx,t,a),textAlign:Le([n.textAlign,"start"],i,s),textShadowBlur:Le([n.textShadowBlur,0],i,s),textShadowColor:Le([n.textShadowColor,l],i,s),textStrokeColor:Le([n.textStrokeColor,l],i,s),textStrokeWidth:Le([n.textStrokeWidth,0],i,s)}},update:function(e){var t=this,n=null,i=null,r=t._index,s=t._config,a,l,u,d=Le([s.display,!0],e,r);d&&(a=e.dataset.data[r],l=Nt(ke(s.formatter,[a,e]),a),u=ee(l)?[]:zg.toTextLines(l),u.length&&(n=t._modelize(d,u,s,e),i=Pnt(n))),t._model=n,t._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,i=e.ctx,r=n._model,s=n._rects,a;this.visible()&&(i.save(),r.clip&&(a=r.area,i.beginPath(),i.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),i.clip()),i.globalAlpha=zg.bound(0,r.opacity,1),i.translate(Cs(t.x),Cs(t.y)),i.rotate(r.rotation),Ont(i,s.frame,r),Fnt(i,r.lines,s.text,r),i.restore())}});var Bnt=Number.MIN_SAFE_INTEGER||-9007199254740991,Unt=Number.MAX_SAFE_INTEGER||9007199254740991;function _h(e,t,n){var i=Math.cos(n),r=Math.sin(n),s=t.x,a=t.y;return{x:s+i*(e.x-s)-r*(e.y-a),y:a+r*(e.x-s)+i*(e.y-a)}}function VP(e,t){var n=Unt,i=Bnt,r=t.origin,s,a,l,u,d;for(s=0;s<e.length;++s)a=e[s],l=a.x-r.x,u=a.y-r.y,d=t.vx*l+t.vy*u,n=Math.min(n,d),i=Math.max(i,d);return{min:n,max:i}}function _g(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);return{vx:(t.x-e.x)/r,vy:(t.y-e.y)/r,origin:e,ln:r}}var $nt=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Qa($nt.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,i=t._rect;return e=_h(e,t.center(),-t._rotation),!(e.x<i.x-n||e.y<i.y-n||e.x>i.x+i.w+n*2||e.y>i.y+i.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),i=[_g(t[0],t[1]),_g(t[0],t[3])],r,s,a;for(this._rotation!==e._rotation&&i.push(_g(n[0],n[1]),_g(n[0],n[3])),r=0;r<i.length;++r)if(s=VP(t,i[r]),a=VP(n,i[r]),s.max<a.min||a.max<s.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,i=e.center();return[_h({x:t.x,y:t.y},i,n),_h({x:t.x+t.w,y:t.y},i,n),_h({x:t.x+t.w,y:t.y+t.h},i,n),_h({x:t.x,y:t.y+t.h},i,n)]}});ac.register(...oE,eL);const BP=ye(Ae),jnt={name:"BudgetVsActual",data(){return{user:!1,selectedMonth:new Date().toLocaleString("default",{month:"long"}),months:["January","February","March","April","May","June","July","August","September","October","November","December"],categories:[],transactions:[],budget:[],chart:null}},mounted(){const e=Wt();ne(e,async t=>{t&&(this.user=t),this.getTransactions()}),this.getCategories(),this.getTransactions()},methods:{renderChart(){try{const e=this.$refs.chart.getContext("2d");this.chart&&this.chart.destroy();const t={type:"bar",data:{labels:this.categories,datasets:[{type:"line",label:"Actual Spending",data:this.categories.map(n=>this.transactions.length===0?0:this.transactions.reduce((i,r)=>r.category===n?i+r.amount:i||0,0)),fill:!1,borderColor:"#7f56d9"},{type:"bar",label:"Budget",data:this.categories.map(n=>this.budget.length===0?0:this.budget[n]||0),borderColor:"#7f56d9",backgroundColor:"rgb(227, 217, 248)"}],options:{responsive:!0,scales:{y:{beginAtZero:!0}},plugins:{title:{display:!0,text:"Budget Vs. Actual Spending"}}}}};this.chart=new ac(e,t)}catch(e){console.error("Error building chart:",e)}},async getTransactions(){if(this.user)try{const e=String(this.user.email),t=Gt(BP,"Users",e),n=await he(t);if(n.exists()){const i=n.data();this.budget=i.Budgets[this.selectedMonth]||{};const r=n.data().Transactions||[],s=this.months.indexOf(this.selectedMonth);this.transactions=r.filter(a=>new Date(a.timestamp).getMonth()===s)}this.renderChart()}catch(e){console.error("Error fetching user data:",e)}},async getCategories(){try{const e=await ts(Zr(BP,"Categories"));this.categories=e.docs.map(t=>t.id)}catch(e){console.error("Error getting categories: ",e)}}}},aE=e=>(ze("data-v-7131b27c"),e=e(),We(),e),Hnt={class:"graphs"},znt={class:"select-month"},Wnt=aE(()=>T("h2",null,"Budget vs Actual Spending",-1)),qnt=aE(()=>T("span",null,"Track Spending for ",-1)),Knt=aE(()=>T("option",{disabled:"",value:""},"Select Month",-1)),Gnt=["value"],Ynt={class:"chart"},Qnt={ref:"chart"};function Xnt(e,t,n,i,r,s){return H(),G("div",Hnt,[T("div",znt,[Wnt,qnt,Qe(T("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>r.selectedMonth=a),onChange:t[1]||(t[1]=(...a)=>s.getTransactions&&s.getTransactions(...a))},[Knt,(H(!0),G(Lt,null,kn(r.months,a=>(H(),G("option",{key:a,value:a},Ht(a),9,Gnt))),128))],544),[[Xi,r.selectedMonth]])]),T("div",Ynt,[T("canvas",Qnt,null,512)])])}const Jnt=Vt(jnt,[["render",Xnt],["__scopeId","data-v-7131b27c"]]),Znt=ye(Ae),tit={name:"Charts",data(){return{user:!1,chartData:[],chartTitle:"Total Cashback Earned by Card",chartColors:["#7431c9","#caa3fb","#9c74d3","#a358ff","#62379a"]}},mounted(){const e=Wt();ne(e,async t=>{t&&(this.user=t),this.getTransactions()})},methods:{async getTransactions(){try{const e=String(this.user.email),t=Gt(Znt,"Users",e),r=(await he(t)).data().Transactions.map(l=>{const u=l.card,d=l.cardCB||0;return{card:u,cashback:d}});console.log(r);const s=r.reduce((l,u)=>{const{card:d,cashback:f}=u;return l[d]||(l[d]=[]),l[d].push(f),l},{});console.log(s);const a={};for(const l in s){const d=s[l].reduce((f,g)=>f+g,0);a[l]=d}console.log(a),this.chartData=Object.entries(a).map(([l,u])=>[l,u])}catch(e){console.error("Error fetching user data:",e)}}}},eit={class:"bar-graph"};function nit(e,t,n,i,r,s){const a=mt("pie-chart");return H(),G("div",eit,[lt(a,{data:r.chartData,title:r.chartTitle,colors:r.chartColors},null,8,["data","title","colors"])])}const iit=Vt(tit,[["render",nit],["__scopeId","data-v-95d2fdce"]]);ye(Ae);const rit={name:"AnalysisPage",components:{HomeButton:is,Sidebar:js,Bargraph:yX,Linechart:EX,BudgetVsActual:Jnt,CashbackByCard:iit},data(){return{user:!1}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})}},qy=e=>(ze("data-v-0c338b04"),e=e(),We(),e),sit={key:0,class:"container"},oit=qy(()=>T("h1",null,"Analysis Page",-1)),ait={class:"grid-container"},cit=qy(()=>T("br",null,null,-1)),lit=qy(()=>T("br",null,null,-1)),uit=qy(()=>T("br",null,null,-1));function hit(e,t,n,i,r,s){const a=mt("Sidebar"),l=mt("HomeButton"),u=mt("router-link"),d=mt("Bargraph"),f=mt("Linechart"),g=mt("BudgetVsActual"),m=mt("CashbackByCard");return H(),G(Lt,null,[lt(a),lt(l),r.user?(H(),G("div",sit,[T("div",null,[lt(u,{to:"/tracking/analysis"},{default:jr(()=>[te("Analysis")]),_:1}),te(" | "),lt(u,{to:"/tracking/transactions"},{default:jr(()=>[te("Transactions")]),_:1}),te(" | "),lt(u,{to:"/tracking/budget"},{default:jr(()=>[te("Budget")]),_:1})]),oit,T("div",ait,[lt(d),cit,lt(f),lit,lt(g),te(),uit,lt(m)])])):Ee("",!0)],64)}const dit=Vt(rit,[["render",hit],["__scopeId","data-v-0c338b04"]]),fit=ye(Ae),pit={name:"TransactionTable",data(){return{transactions:[]}},methods:{async fetchTransactions(e){const t=Gt(fit,"Users",e);try{const n=await he(t);if(n.exists()){const i=n.data();this.transactions=i.Transactions||[],this.transactions.sort((r,s)=>s.timestamp>r.timestamp?1:-1)}else console.log("No such document!"),this.transactions=[]}catch(n){console.error("Error fetching transactions:",n),this.transactions=[]}},formatDate(e){return e&&e.toDate?e.toDate().toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):typeof e=="string"?new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Invalid Date"},formatCurrency(e){return`$${parseFloat(e).toFixed(2)}`}},mounted(){const e=Wt(Ae);ne(e,t=>{t&&this.fetchTransactions(t.email)})}},git=e=>(ze("data-v-79ca1e1d"),e=e(),We(),e),mit=git(()=>T("thead",null,[T("tr",null,[T("th",null,"Amount"),T("th",null,"Category"),T("th",null,"Recipient"),T("th",null,"Payment Method"),T("th",null,"Date")])],-1));function yit(e,t,n,i,r,s){return H(),G("div",null,[T("table",null,[mit,T("tbody",null,[(H(!0),G(Lt,null,kn(r.transactions,a=>(H(),G("tr",{key:a.id},[T("td",null,Ht(s.formatCurrency(a.amount)),1),T("td",null,Ht(a.category),1),T("td",null,Ht(a.recipient),1),T("td",null,Ht(a.card),1),T("td",null,Ht(s.formatDate(a.timestamp)),1)]))),128))])])])}const _it=Vt(pit,[["render",yit],["__scopeId","data-v-79ca1e1d"]]),vit={name:"AddTransaction",methods:{emitOpenModal(){this.$emit("openModal")}}};function bit(e,t,n,i,r,s){return H(),G("button",{id:"ATbutton",type:"button",onClick:t[0]||(t[0]=(...a)=>s.emitOpenModal&&s.emitOpenModal(...a))}," Add Transaction ")}const wit=Vt(vit,[["render",bit],["__scopeId","data-v-fdb6ee55"]]),vg=ye(Ae),Eit={name:"AddTransaction",props:{isModalOpen:Boolean},data(){return{categories:[],recipients:[],cards:[],newTransaction:{Amount:null,Category:"",Recipient:"",PaymentMethod:"",Date:""},user:null}},mounted(){this.getRecipients(),this.getCategories(),this.getCards();const e=Wt();ne(e,t=>{t&&(this.user=t)})},methods:{async getRecipients(){try{const e=await ts(Zr(vg,"Companies"));console.log(e),e.forEach(t=>{this.recipients.push(t.id)})}catch(e){console.error("Error getting recipients: ",e)}},async getCategories(){try{const e=await ts(Zr(vg,"Categories"));console.log(e),e.forEach(t=>{this.categories.push(t.id)})}catch(e){console.error("Error getting categories: ",e)}},async getCards(){try{const e=Wt();ne(e,async t=>{if(t){this.user=t;const n=String(t.email),i=Gt(vg,"Users",n),s=(await he(i)).data().Inventory;this.cards=s}})}catch(e){console.error("Error getting user document: ",e)}},async submitTransaction(){try{this.newTransaction.Date=this.formatDateForFirestore(this.newTransaction.Date);const e={amount:this.newTransaction.Amount,category:this.newTransaction.Category,recipient:this.newTransaction.Recipient,card:this.newTransaction.PaymentMethod,timestamp:this.newTransaction.Date},t=this.user,n=Gt(vg,"Users",t.email);await Qn(n,{Transactions:Ka(e)}),this.$emit("transaction-added"),this.resetForm()}catch(e){console.error("Error adding transaction: ",e),alert("Error adding transaction.")}},formatDateForFirestore(e){if(!e)return"";const[t,n]=e.split("T"),i=n.split(":");return`${t}T${i[0]}:${i[1]}`},resetForm(){this.newTransaction={Amount:null,Category:"",Recipient:"",PaymentMethod:"",Date:""}},closeModal(){this.$emit("closeModal")}}},ss=e=>(ze("data-v-f0bb51bf"),e=e(),We(),e),Iit={key:0,class:"modal-overlay"},Ait={class:"modal-content"},Tit=ss(()=>T("h2",null,"Add Transaction",-1)),Cit=ss(()=>T("label",{for:"amount"},"Amount:",-1)),Sit=ss(()=>T("label",{for:"category"},"Category:",-1)),xit=ss(()=>T("option",{value:""},"Select a category",-1)),kit=["value"],Pit=ss(()=>T("label",{for:"recipient"},"Recipient:",-1)),Rit=ss(()=>T("option",{value:""},"Select a Recipient",-1)),Dit=["value"],Mit=ss(()=>T("label",{for:"paymentMethod"},"Card:",-1)),Oit=ss(()=>T("option",{value:""},"Select a Card",-1)),Nit=["value"],Lit=ss(()=>T("label",{for:"date"},"Date:",-1)),Fit=ss(()=>T("button",{type:"submit"},"Add Transaction",-1));function Vit(e,t,n,i,r,s){return n.isModalOpen?(H(),G("div",Iit,[T("div",Ait,[T("span",{class:"close",onClick:t[0]||(t[0]=(...a)=>s.closeModal&&s.closeModal(...a))},""),Tit,T("form",{onSubmit:t[6]||(t[6]=dw((...a)=>s.submitTransaction&&s.submitTransaction(...a),["prevent"]))},[T("div",null,[Cit,Qe(T("input",{type:"number",id:"amount","onUpdate:modelValue":t[1]||(t[1]=a=>r.newTransaction.Amount=a),step:"0.01",required:""},null,512),[[Ds,r.newTransaction.Amount]])]),T("div",null,[Sit,Qe(T("select",{id:"category","onUpdate:modelValue":t[2]||(t[2]=a=>r.newTransaction.Category=a),required:""},[xit,(H(!0),G(Lt,null,kn(r.categories,a=>(H(),G("option",{key:a,value:a},Ht(a),9,kit))),128))],512),[[Xi,r.newTransaction.Category]])]),T("div",null,[Pit,Qe(T("select",{id:"selectRecipient","onUpdate:modelValue":t[3]||(t[3]=a=>r.newTransaction.Recipient=a),required:""},[Rit,(H(!0),G(Lt,null,kn(r.recipients,a=>(H(),G("option",{key:a,value:a},Ht(a),9,Dit))),128))],512),[[Xi,r.newTransaction.Recipient]])]),T("div",null,[Mit,Qe(T("select",{id:"selectCard","onUpdate:modelValue":t[4]||(t[4]=a=>r.newTransaction.PaymentMethod=a),required:""},[Oit,(H(!0),G(Lt,null,kn(r.cards,a=>(H(),G("option",{key:a,value:a},Ht(a),9,Nit))),128))],512),[[Xi,r.newTransaction.PaymentMethod]])]),T("div",null,[Lit,Qe(T("input",{type:"datetime-local",id:"date","onUpdate:modelValue":t[5]||(t[5]=a=>r.newTransaction.Date=a),required:""},null,512),[[Ds,r.newTransaction.Date]])]),Fit],32)])])):Ee("",!0)}const Bit=Vt(Eit,[["render",Vit],["__scopeId","data-v-f0bb51bf"]]);ye(Ae);const Uit={name:"AnalysisPage",components:{HomeButton:is,Sidebar:js,TransactionTable:_it,AddTransaction:wit,TransactionModal:Bit},data(){return{user:!1,isModalOpen:!1}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})},methods:{toggleModal(){this.isModalOpen=!this.isModalOpen},closeModalAndRefresh(){this.isModalOpen=!1,this.$refs.transactionTable.fetchTransactions(this.user.email)}}},$it={key:0,class:"container"},jit=T("div",{class:"trackingpage"},[T("h1",null,"Transactions Page"),T("br")],-1);function Hit(e,t,n,i,r,s){const a=mt("Sidebar"),l=mt("HomeButton"),u=mt("router-link"),d=mt("TransactionTable"),f=mt("AddTransaction"),g=mt("TransactionModal");return H(),G(Lt,null,[lt(a),lt(l),r.user?(H(),G("div",$it,[T("div",null,[lt(u,{to:"/tracking/analysis"},{default:jr(()=>[te("Analysis")]),_:1}),te(" | "),lt(u,{to:"/tracking/transactions"},{default:jr(()=>[te("Transactions")]),_:1}),te(" | "),lt(u,{to:"/tracking/budget"},{default:jr(()=>[te("Budget")]),_:1})]),jit,T("div",null,[lt(d,{ref:"transactionTable"},null,512),lt(f,{onOpenModal:s.toggleModal},null,8,["onOpenModal"]),r.isModalOpen?(H(),tr(g,{key:0,onCloseModal:s.toggleModal,onTransactionAdded:s.closeModalAndRefresh,isModalOpen:r.isModalOpen},null,8,["onCloseModal","onTransactionAdded","isModalOpen"])):Ee("",!0)])])):Ee("",!0)],64)}const zit=Vt(Uit,[["render",Hit]]);ac.register(...oE);const UP=ye(Ae),Wit={name:"PieChart",data(){return{selectedMonth:new Date().toLocaleString("default",{month:"long"}),months:["January","February","March","April","May","June","July","August","September","October","November","December"],pieChart:null,transactions:[],categories:[],user:null}},computed:{totalAmountFormatted(){return`$${this.transactions.reduce((t,n)=>t+n.amount,0).toFixed(2)}`}},methods:{async fetchTransactions(){const e=Wt();ne(e,async t=>{if(t){this.user=t;const n=Gt(UP,"Users",t.email),i=await he(n);if(i.exists()){const r=i.data(),s=this.months.indexOf(this.selectedMonth);this.transactions=r.Transactions.filter(a=>new Date(a.timestamp).getMonth()===s),this.transactions.length>0&&this.$nextTick(()=>{this.renderChart()})}}})},renderChart(){const e=this.$refs.pieChartCanvas.getContext("2d");this.pieChart&&this.pieChart.destroy(),this.pieChart=new ac(e,{type:"pie",data:{labels:this.categories,datasets:[{data:this.categories.map(t=>this.transactions.reduce((n,i)=>i.category===t?n+i.amount:n,0)),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}],options:{responsive:!0,maintainAspectRatio:!1}}})},async getCategories(){try{const e=await ts(Zr(UP,"Categories"));this.categories=e.docs.map(t=>t.id)}catch(e){console.error("Error getting categories: ",e)}}},mounted(){this.getCategories(),this.fetchTransactions()}},cL=e=>(ze("data-v-5924b784"),e=e(),We(),e),qit={class:"spending-header"},Kit=cL(()=>T("span",null,"Track Spending for ",-1)),Git=cL(()=>T("option",{disabled:"",value:""},"Select Month",-1)),Yit=["value"],Qit={key:0,class:"chart-container"},Xit={ref:"pieChartCanvas"},Jit={key:1,class:"no-transactions"},Zit={key:2,class:"total-spending"},trt={class:"total-amount"};function ert(e,t,n,i,r,s){return H(),G(Lt,null,[T("div",qit,[Kit,Qe(T("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>r.selectedMonth=a),onChange:t[1]||(t[1]=(...a)=>s.fetchTransactions&&s.fetchTransactions(...a))},[Git,(H(!0),G(Lt,null,kn(r.months,a=>(H(),G("option",{key:a,value:a},Ht(a),9,Yit))),128))],544),[[Xi,r.selectedMonth]])]),r.transactions.length>0?(H(),G("div",Qit,[T("canvas",Xit,null,512)])):(H(),G("div",Jit,[T("p",null,"No transactions found for "+Ht(r.selectedMonth)+".",1)])),r.transactions.length>0?(H(),G("div",Zit,[T("span",null,Ht("Total Spending in "+r.selectedMonth)+": ",1),T("span",trt,Ht(s.totalAmountFormatted),1)])):Ee("",!0)],64)}const nrt=Vt(Wit,[["render",ert],["__scopeId","data-v-5924b784"]]),I0=ye(Ae),irt={name:"BudgetForm",data(){return{selectedMonth:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],categories:[],budget:{Food:0,Miscellaneous:0,Retail:0,Transport:0,Utilities:0}}},mounted(){this.getCategories();const e=Wt();ne(e,t=>{t&&(this.user=t,this.selectedMonth=new Date().toLocaleString("default",{month:"long"}),this.loadPreviousMonthBudget())})},computed:{totalBudget(){return this.categories.reduce((e,t)=>{const n=Number(this.budget[t])||0;return e+n},0).toFixed(2)}},methods:{getPreviousMonth(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,1);return this.months[t.getMonth()]},async loadPreviousMonthBudget(){if(!this.user)return;const e=this.getPreviousMonth();try{const t=Gt(I0,"Users",this.user.email),n=await he(t);if(n.exists()){const i=n.data();i.Budgets&&i.Budgets[e]&&(this.previousMonthBudget=i.Budgets[e],this.budget={...this.previousMonthBudget})}}catch(t){console.error("Error fetching previous month's budget: ",t)}},resetForm(){this.budget={Food:0,Miscellaneous:0,Retail:0,Transport:0,Utilities:0}},async getCategories(){try{const e=await ts(Zr(I0,"Categories"));console.log(e),e.forEach(t=>{this.categories.push(t.id)}),console.log(this.categories)}catch(e){console.error("Error getting categories: ",e)}},async submitBudget(){try{if(!this.selectedMonth){alert("Please select a month for the budget.");return}const e={[this.selectedMonth]:{Food:this.budget.Food,Miscellaneous:this.budget.Miscellaneous,Retail:this.budget.Retail,Transport:this.budget.Transport,Utilities:this.budget.Utilities,Date:new Date().toISOString()}};if(this.user){const t=Gt(I0,"Users",this.user.email);await Qn(t,{[`Budgets.${this.selectedMonth}`]:e[this.selectedMonth]}),console.log(`Budget for ${this.selectedMonth} saved successfully.`),alert(`Budget for ${this.selectedMonth} saved successfully.`),this.$emit("budget-saved"),this.resetForm()}else console.error("User is not logged in."),alert("You must be logged in to save your budget.")}catch(e){console.error("Error submitting budget: ",e),alert("Error submitting budget.")}}}},Jl=e=>(ze("data-v-69271433"),e=e(),We(),e),rrt={class:"budget-form"},srt=Jl(()=>T("h2",null,"Would you like to add/edit your budget?",-1)),ort=Jl(()=>T("label",{for:"budget-month"},"Select Month: ",-1)),art=Jl(()=>T("option",{disabled:"",value:""},"Select a Month",-1)),crt=["value"],lrt=Jl(()=>T("br",null,null,-1)),urt=Jl(()=>T("br",null,null,-1)),hrt={class:"categories"},drt=["onUpdate:modelValue"],frt={class:"total"},prt=Jl(()=>T("label",null,"Total: $",-1));function grt(e,t,n,i,r,s){return H(),G("div",rrt,[srt,T("div",null,[ort,Qe(T("select",{id:"budget-month","onUpdate:modelValue":t[0]||(t[0]=a=>r.selectedMonth=a)},[art,(H(!0),G(Lt,null,kn(r.months,a=>(H(),G("option",{key:a,value:a},Ht(a),9,crt))),128))],512),[[Xi,r.selectedMonth]]),lrt,urt]),T("div",hrt,[(H(!0),G(Lt,null,kn(r.categories,a=>(H(),G("div",{class:"category",key:a},[T("label",null,Ht(a),1),Qe(T("input",{type:"number","onUpdate:modelValue":l=>r.budget[a]=l},null,8,drt),[[Ds,r.budget[a]]])]))),128))]),T("div",frt,[prt,T("span",null,Ht(s.totalBudget),1)]),T("button",{id:"savebutton",type:"button",onClick:t[1]||(t[1]=(...a)=>s.submitBudget&&s.submitBudget(...a))},"Save")])}const mrt=Vt(irt,[["render",grt],["__scopeId","data-v-69271433"]]),$P=ye(Ae),yrt={name:"BudgetTable",data(){return{user:null,budgets:{},categories:[]}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t,this.getBudgets(),this.getCategories())})},methods:{sortBudgetsByMonth(e){const t={January:1,February:2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12},n=Object.keys(e).map(r=>({month:r,...e[r]}));n.sort((r,s)=>t[r.month]-t[s.month]);const i={};return n.forEach(r=>{i[r.month]=r}),i},async getBudgets(){if(this.user)try{const e=String(this.user.email),t=Gt($P,"Users",e),n=await he(t);if(n.exists()){const i=n.data();this.budgets=i.Budgets||{},this.budgets=this.sortBudgetsByMonth(this.budgets)}else console.error("No such document!")}catch(e){console.error("Error fetching budgets:",e)}},async getCategories(){try{const e=await ts(Zr($P,"Categories"));console.log(e),e.forEach(t=>{this.categories.push(t.id)}),console.log(this.categories)}catch(e){console.error("Error getting categories: ",e)}}}},lL=e=>(ze("data-v-2217846c"),e=e(),We(),e),_rt={class:"budget-table-container"},vrt=lL(()=>T("h2",null,"Budget Overview",-1)),brt={class:"budget-table"},wrt=lL(()=>T("th",null,"Month",-1));function Ert(e,t,n,i,r,s){return H(),G("div",_rt,[vrt,T("table",brt,[T("thead",null,[T("tr",null,[wrt,(H(!0),G(Lt,null,kn(r.categories,a=>(H(),G("th",{key:a},Ht(a),1))),128))])]),T("tbody",null,[(H(!0),G(Lt,null,kn(r.budgets,(a,l)=>(H(),G("tr",{key:l},[T("td",null,Ht(l),1),(H(!0),G(Lt,null,kn(r.categories,u=>(H(),G("td",{key:u},Ht(a[u]),1))),128))]))),128))])])])}const Irt=Vt(yrt,[["render",Ert],["__scopeId","data-v-2217846c"]]);ye(Ae);const Art={name:"BudgetPage",components:{HomeButton:is,Sidebar:js,BudgetForm:mrt,BudgetTable:Irt,SpendingPie:nrt},data(){return{user:!1}},mounted(){const e=Wt();ne(e,t=>{t&&(this.user=t)})},methods:{refreshBudgets(){this.$refs.budgetTable.getBudgets()}}},cE=e=>(ze("data-v-ffc115d3"),e=e(),We(),e),Trt={key:0,class:"container"},Crt=cE(()=>T("div",{class:"trackingpage"},[T("h1",null,"Budget Page"),T("br")],-1)),Srt=cE(()=>T("br",null,null,-1)),xrt=cE(()=>T("br",null,null,-1));function krt(e,t,n,i,r,s){const a=mt("Sidebar"),l=mt("HomeButton"),u=mt("router-link"),d=mt("SpendingPie"),f=mt("BudgetTable"),g=mt("BudgetForm");return H(),G(Lt,null,[lt(a),lt(l),r.user?(H(),G("div",Trt,[T("div",null,[lt(u,{to:"/tracking/analysis"},{default:jr(()=>[te("Analysis")]),_:1}),te(" | "),lt(u,{to:"/tracking/transactions"},{default:jr(()=>[te("Transactions")]),_:1}),te(" | "),lt(u,{to:"/tracking/budget"},{default:jr(()=>[te("Budget")]),_:1})]),Crt,T("div",null,[lt(d),Srt,lt(f,{ref:"budgetTable"},null,512),xrt,lt(g,{onBudgetSaved:s.refreshBudgets},null,8,["onBudgetSaved"])])])):Ee("",!0)],64)}const Prt=Vt(Art,[["render",krt],["__scopeId","data-v-ffc115d3"]]),Rrt=[{path:"/",name:"Login",component:DK},{path:"/home",name:"Home",component:MW},{path:"/profile",name:"ProfilePage",component:lq},{path:"/edit",name:"Edit",component:Eq},{path:"/card/:cardId",name:"Indv Card",component:KY},{path:"/compare",name:"Compare Card",component:cQ},{path:"/:catchAll(.*)",name:"NotFound",component:BK},{path:"/cards",name:"Cards",component:JG},{path:"/liked",name:"Liked Cards",component:mY},{path:"/Payment",name:"Payment",component:WQ},{path:"/Discovery",name:"Discovery",component:dX},{path:"/tracking",redirect:"/tracking/analysis",name:"Tracking",children:[{path:"analysis",name:"Analysis",component:dit},{path:"transactions",name:"Transactions",component:zit},{path:"budget",name:"Budget",component:Prt}]}],Drt=W9({history:b9(),routes:Rrt});/*!
 * Chartkick.js v5.0.1
 * Create beautiful charts with one line of JavaScript
 * https://github.com/ankane/chartkick.js
 * MIT License
 */function Do(e){return Object.prototype.toString.call(e)==="[object Array]"}function lE(e){return e instanceof Function}function Wg(e){return Object.prototype.toString.call(e)==="[object Object]"&&!lE(e)&&e instanceof Object}function jb(e,t){for(var n in t)n!=="__proto__"&&(Wg(t[n])||Do(t[n])?(Wg(t[n])&&!Wg(e[n])&&(e[n]={}),Do(t[n])&&!Do(e[n])&&(e[n]=[]),jb(e[n],t[n])):t[n]!==void 0&&(e[n]=t[n]))}function tn(e,t){var n={};return jb(n,e),jb(n,t),n}var Mrt=/^(\d\d\d\d)(?:-)?(\d\d)(?:-)?(\d\d)$/i;function Ort(e){for(var t=0;t<e.length;t++)for(var n=e[t].data,i=0;i<n.length;i++)if(n[i][1]<0)return!0;return!1}function Vs(e){return""+e}function Gr(e){return parseFloat(e)}function Pr(e){if(e instanceof Date)return e;if(typeof e=="number")return new Date(e*1e3);var t=Vs(e),n=t.match(Mrt);if(n){var i=parseInt(n[1],10),r=parseInt(n[2],10)-1,s=parseInt(n[3],10);return new Date(i,r,s)}else{var a=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");return new Date(Date.parse(a)||t)}}function uE(e){if(Do(e))return e;var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}function bf(e,t,n,i,r,s,a,l){return function(u,d,f){var g=u.data,m=tn({},e);return m=tn(m,f||{}),(u.singleSeriesFormat||"legend"in d)&&t(m,d.legend,u.singleSeriesFormat),d.title&&n(m,d.title),"min"in d?i(m,d.min):Ort(g)||i(m,0),d.max&&r(m,d.max),"stacked"in d&&s(m,d.stacked),d.colors&&(m.colors=d.colors),d.xtitle&&a(m,d.xtitle),d.ytitle&&l(m,d.ytitle),m=tn(m,d.library||{}),m}}function Nrt(e,t){return e[0].getTime()-t[0].getTime()}function hE(e,t){return e[0]-t[0]}function uL(e,t){return e-t}function Xc(e,t){for(var n=0;n<e.length;n++)if(!t(e[n]))return!1;return!0}function Lrt(e){return e==="day"||e==="week"||e==="month"||e==="year"}function hL(e,t){if(t===void 0&&(t=!1),e.length===0)return null;var n=Xc(e,function(d){return d.getMilliseconds()===0&&d.getSeconds()===0});if(!n)return null;var i=Xc(e,function(d){return d.getMinutes()===0});if(!i)return"minute";var r=Xc(e,function(d){return d.getHours()===0});if(!r)return"hour";if(t)return"day";var s=Xc(e,function(d){return d.getDate()===1});if(!s){var a=e[0].getDay(),l=Xc(e,function(d){return d.getDay()===a});return l?"week":"day"}var u=Xc(e,function(d){return d.getMonth()===0});return u?"year":"month"}function A0(e){return!isNaN(Pr(e))&&Vs(e).length>=6}function Frt(e){return typeof e=="number"}var jP=["bytes","KB","MB","GB","TB","PB","EB"];function lr(e,t,n,i){e=e||"",n.prefix&&(t<0&&(t=t*-1,e+="-"),e+=n.prefix);var r=n.suffix||"",s=n.precision,a=n.round;if(n.byteScale){var l=t>=0;l||(t*=-1);var u=i?n.byteScale:t,d;u>=1152921504606847e3?(t/=1152921504606847e3,d=6):u>=0x4000000000000?(t/=0x4000000000000,d=5):u>=1099511627776?(t/=1099511627776,d=4):u>=1073741824?(t/=1073741824,d=3):u>=1048576?(t/=1048576,d=2):u>=1024?(t/=1024,d=1):d=0,s===void 0&&a===void 0&&(t>=1023.5&&d<jP.length-1&&(t=1,d+=1),s=t>=1e3?4:3),r=" "+jP[d],l||(t*=-1)}if(s!==void 0&&a!==void 0)throw Error("Use either round or precision, not both");if(!i&&(s!==void 0&&(t=t.toPrecision(s),n.zeros||(t=parseFloat(t))),a!==void 0))if(a<0){var f=Math.pow(10,-1*a);t=parseInt((1*t/f).toFixed(0))*f}else t=t.toFixed(a),n.zeros||(t=parseFloat(t));if(n.thousands||n.decimal){t=Vs(t);var g=t.split(".");t=g[0],n.thousands&&(t=t.replace(/\B(?=(\d{3})+(?!\d))/g,n.thousands)),g.length>1&&(t+=(n.decimal||".")+g[1])}return e+t+r}function HP(e,t,n){return n in t?t[n]:n in e.options?e.options[n]:null}var dE={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},dL={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},fL=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"];function fE(e,t,n){t!==void 0?(e.plugins.legend.display=!!t,t&&t!==!0&&(e.plugins.legend.position=t)):n&&(e.plugins.legend.display=!1)}function pE(e,t){e.plugins.title.display=!0,e.plugins.title.text=t}function Vrt(e,t){t!==null&&(e.scales.y.min=Gr(t))}function Brt(e,t){e.scales.y.max=Gr(t)}function Urt(e,t){t!==null&&(e.scales.x.min=Gr(t))}function $rt(e,t){e.scales.x.max=Gr(t)}function pL(e,t){e.scales.x.stacked=!!t,e.scales.y.stacked=!!t}function gL(e,t){e.scales.x.title.display=!0,e.scales.x.title.text=t}function mL(e,t){e.scales.y.title.display=!0,e.scales.y.title.text=t}function zP(e,t){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?"rgba("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+", "+t+")":e}function fo(e){return e!=null}function jrt(e,t,n){var i=Math.ceil(e.element.offsetWidth/4/t.labels.length);i>25?i=25:i<10&&(i=10),n.scales.x.ticks.callback||(n.scales.x.ticks.callback=function(r){return r=Vs(this.getLabelForValue(r)),r.length>i?r.substring(0,i-2)+"...":r})}function Hrt(e){for(var t=1,n=zrt(e);n>=1024;)t*=1024,n/=1024;return t}function Ky(e,t,n){var i={thousands:e.options.thousands,decimal:e.options.decimal},r=tn({prefix:e.options.prefix,suffix:e.options.suffix,precision:e.options.precision,round:e.options.round,zeros:e.options.zeros},i);if(e.options.bytes){var s=e.data;n==="pie"&&(s=[{data:s}]),r.byteScale=Hrt(s)}if(n!=="pie"){var a=t.scales.y;n==="bar"&&(a=t.scales.x),r.byteScale&&(a.ticks.stepSize||(a.ticks.stepSize=r.byteScale/2),a.ticks.maxTicksLimit||(a.ticks.maxTicksLimit=4)),a.ticks.callback||(a.ticks.callback=function(u){return lr("",u,r,!0)}),(n==="scatter"||n==="bubble")&&!t.scales.x.ticks.callback&&(t.scales.x.ticks.callback=function(u){return lr("",u,i,!0)})}if(!t.plugins.tooltip.callbacks.label)if(n==="scatter")t.plugins.tooltip.callbacks.label=function(u){var d=u.dataset.label||"";d&&(d+=": ");var f=u.parsed;return d+"("+lr("",f.x,i)+", "+lr("",f.y,r)+")"};else if(n==="bubble")t.plugins.tooltip.callbacks.label=function(u){var d=u.dataset.label||"";d&&(d+=": ");var f=u.raw;return d+"("+lr("",f.x,i)+", "+lr("",f.y,r)+", "+lr("",f.v,i)+")"};else if(n==="pie")t.plugins.tooltip.callbacks.label=function(u){return lr("",u.parsed,r)};else{var l=n==="bar"?"x":"y";t.plugins.tooltip.callbacks.label=function(u){if(u.parsed[l]!==null){var d=u.dataset.label||"";return d&&(d+=": "),lr(d,u.parsed[l],r)}}}(n==="line"||n==="area")&&e.xtype==="number"&&(t.scales.x.ticks.callback||(t.scales.x.ticks.callback=function(u){return Vs(u)}),t.plugins.tooltip.callbacks.title||(t.plugins.tooltip.callbacks.title=function(u){return Vs(u[0].parsed.x)}))}function zrt(e){for(var t=0,n=0;n<e.length;n++)for(var i=e[n].data,r=0;r<i.length;r++){var s=Math.abs(i[r][1]);s>t&&(t=s)}return t}function Wrt(e){for(var t=0,n=0;n<e.length;n++)for(var i=e[n].data,r=0;r<i.length;r++){var s=i[r][2];s>t&&(t=s)}return t}var gE=bf(tn(dE,dL),fE,pE,Vrt,Brt,pL,gL,mL);function qrt(e){for(var t=e.data,n={},i=[],r=[],s=[],a=0;a<t.length;a++)for(var l=t[a].data,u=0;u<l.length;u++){var d=l[u],f=e.xtype==="datetime"?d[0].getTime():d[0];n[f]||(n[f]=new Array(t.length),i.push(f)),n[f][a]=d[1]}(e.xtype==="datetime"||e.xtype==="number")&&i.sort(uL);for(var g=0;g<t.length;g++)s.push([]);for(var m=0;m<i.length;m++){var v=i[m],E=e.xtype==="datetime"?new Date(v):v;r.push(E);for(var b=n[v],w=0;w<t.length;w++){var A=b[w];s[w].push(A===void 0?null:A)}}return{labels:r,values:s}}function Krt(e){for(var t=e.data,n=[],i=Wrt(t),r=0;r<t.length;r++){for(var s=t[r].data,a=[],l=0;l<s.length;l++){var u=s[l];a.push({x:u[0],y:u[1],r:u[2]*20/i,v:u[2]})}n.push(a)}return{labels:[],values:n}}function Grt(e){for(var t=e.data,n=[],i=0;i<t.length;i++){var r=t[i].data;r.sort(hE);for(var s=[],a=0;a<r.length;a++){var l=r[a];s.push({x:l[0],y:l[1]})}n.push(s)}return{labels:[],values:n}}function Yrt(e,t){return t==="bubble"?Krt(e):e.xtype==="number"&&t!=="bar"&&t!=="column"?Grt(e):qrt(e)}function mE(e,t,n){for(var i=Yrt(e,n),r=i.labels,s=i.values,a=e.data,l=[],u=e.options.colors||fL,d=0;d<a.length;d++){var f=a[d],g=void 0,m=void 0;if(e.options.colors&&e.singleSeriesFormat&&(n==="bar"||n==="column")&&!f.color&&Do(e.options.colors)&&!Do(e.options.colors[0])){g=u,m=[];for(var v=0;v<u.length;v++)m[v]=zP(g[v],.5)}else g=f.color||u[d],m=n!=="line"?zP(g,.5):g;var E={label:f.name||"",data:s[d],fill:n==="area",borderColor:g,backgroundColor:m,borderWidth:2},b=n==="line"||n==="area"||n==="scatter"||n==="bubble";b&&(E.pointBackgroundColor=g,E.pointHoverBackgroundColor=g,E.pointHitRadius=50),n==="bubble"&&(E.pointBackgroundColor=m,E.pointHoverBackgroundColor=m,E.pointHoverBorderWidth=2),f.stack&&(E.stack=f.stack);var w=HP(e,f,"curve");w===!1?E.tension=0:b&&(E.tension=.4);var A=HP(e,f,"points");A===!1&&(E.pointRadius=0,E.pointHoverRadius=0),E=tn(E,e.options.dataset||{}),E=tn(E,f.library||{}),E=tn(E,f.dataset||{}),l.push(E)}var C=e.options.xmin,k=e.options.xmax;if(e.xtype==="datetime"?(fo(C)&&(t.scales.x.min=Pr(C).getTime()),fo(k)&&(t.scales.x.max=Pr(k).getTime())):e.xtype==="number"&&(fo(C)&&(t.scales.x.min=C),fo(k)&&(t.scales.x.max=k)),e.xtype==="datetime"){var R=hL(r);if(r.length===0&&(fo(C)&&r.push(Pr(C)),fo(k)&&r.push(Pr(k))),r.length>0){for(var D=(fo(C)?Pr(C):r[0]).getTime(),M=(fo(k)?Pr(k):r[0]).getTime(),N=1;N<r.length;N++){var V=r[N].getTime();V<D&&(D=V),V>M&&(M=V)}var X=(M-D)/(86400*1e3);if(!t.scales.x.time.unit){var at;if(R==="year"||X>365*10?(t.scales.x.time.unit="year",at=365):R==="month"||X>30*10?(t.scales.x.time.unit="month",at=30):R==="week"||R==="day"||X>10?(t.scales.x.time.unit="day",at=1):R==="hour"||X>.5?(t.scales.x.time.displayFormats={hour:"MMM d, h a"},t.scales.x.time.unit="hour",at=1/24):R==="minute"&&(t.scales.x.time.displayFormats={minute:"h:mm a"},t.scales.x.time.unit="minute",at=1/24/60),at&&X>0){var J=e.element.offsetWidth;if(J>0){var pt=Math.ceil(X/at/(J/100));R==="week"&&at===1&&(pt=Math.ceil(pt/7)*7),t.scales.x.ticks.stepSize=pt}}}t.scales.x.time.tooltipFormat||(R==="year"?t.scales.x.time.tooltipFormat="yyyy":R==="month"?t.scales.x.time.tooltipFormat="MMM yyyy":R==="week"||R==="day"?t.scales.x.time.tooltipFormat="PP":R==="hour"?t.scales.x.time.tooltipFormat="MMM d, h a":R==="minute"&&(t.scales.x.time.tooltipFormat="h:mm a"))}}return{labels:r,datasets:l}}var os=function(t){this.name="chartjs",this.library=t};os.prototype.renderLineChart=function(t,n){n||(n="line");var i={},r=gE(t,tn(i,t.options));Ky(t,r,n);var s=mE(t,r,n);t.xtype==="number"?(r.scales.x.type=r.scales.x.type||"linear",r.scales.x.position=r.scales.x.position||"bottom"):r.scales.x.type=t.xtype==="string"?"category":"time",this.drawChart(t,"line",s,r)};os.prototype.renderPieChart=function(t){var n=tn({},dE);t.options.donut&&(n.cutout="50%"),"legend"in t.options&&fE(n,t.options.legend),t.options.title&&pE(n,t.options.title),n=tn(n,t.options.library||{}),Ky(t,n,"pie");for(var i=[],r=[],s=0;s<t.data.length;s++){var a=t.data[s];i.push(a[0]),r.push(a[1])}var l={data:r,backgroundColor:t.options.colors||fL};l=tn(l,t.options.dataset||{});var u={labels:i,datasets:[l]};this.drawChart(t,"pie",u,n)};os.prototype.renderColumnChart=function(t,n){var i;if(n==="bar"){var r=tn(dE,dL);r.indexAxis="y",r.scales.x.grid.drawOnChartArea=!0,r.scales.y.grid.drawOnChartArea=!1,delete r.scales.y.ticks.maxTicksLimit,i=bf(r,fE,pE,Urt,$rt,pL,gL,mL)(t,t.options)}else i=gE(t,t.options);Ky(t,i,n);var s=mE(t,i,"column");n!=="bar"&&jrt(t,s,i),"mode"in i.interaction||(i.interaction.mode="index"),this.drawChart(t,"bar",s,i)};os.prototype.renderAreaChart=function(t){this.renderLineChart(t,"area")};os.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")};os.prototype.renderScatterChart=function(t,n){n=n||"scatter";var i=gE(t,t.options);Ky(t,i,n),"showLine"in i||(i.showLine=!1);var r=mE(t,i,n);i.scales.x.type=i.scales.x.type||"linear",i.scales.x.position=i.scales.x.position||"bottom","mode"in i.interaction||(i.interaction.mode="nearest"),this.drawChart(t,n,r,i)};os.prototype.renderBubbleChart=function(t){this.renderScatterChart(t,"bubble")};os.prototype.destroy=function(t){t.chart&&t.chart.destroy()};os.prototype.drawChart=function(t,n,i,r){if(this.destroy(t),!t.destroyed){var s={type:n,data:i,options:r};t.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(s)+");"),t.element.innerHTML="<canvas></canvas>";var a=t.element.getElementsByTagName("CANVAS")[0];t.chart=new this.library(a,s)}};var yL={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}};function _L(e,t,n){t!==void 0?(e.legend.enabled=!!t,t&&t!==!0&&(t==="top"||t==="bottom"?e.legend.verticalAlign=t:(e.legend.layout="vertical",e.legend.verticalAlign="middle",e.legend.align=t))):n&&(e.legend.enabled=!1)}function vL(e,t){e.title.text=t}function Qrt(e,t){e.yAxis.min=t}function Xrt(e,t){e.yAxis.max=t}function Jrt(e,t){var n=t?t===!0?"normal":t:null;e.plotOptions.series.stacking=n,e.plotOptions.area.stacking=n,e.plotOptions.areaspline.stacking=n}function Zrt(e,t){e.xAxis.title.text=t}function tst(e,t){e.yAxis.title.text=t}var yE=bf(yL,_L,vL,Qrt,Xrt,Jrt,Zrt,tst);function _E(e,t,n){var i={prefix:e.options.prefix,suffix:e.options.suffix,thousands:e.options.thousands,decimal:e.options.decimal,precision:e.options.precision,round:e.options.round,zeros:e.options.zeros};n!=="pie"&&!Do(t.yAxis)&&!t.yAxis.labels.formatter&&(t.yAxis.labels.formatter=function(){return lr("",this.value,i)}),!t.tooltip.pointFormatter&&!t.tooltip.pointFormat&&(t.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'"></span> '+lr(this.series.name+": <b>",this.y,i)+"</b><br/>"})}var zs=function(t){this.name="highcharts",this.library=t};zs.prototype.renderLineChart=function(t,n){n=n||"spline";var i={};n==="areaspline"&&(i={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),t.options.curve===!1&&(n==="areaspline"?n="area":n==="spline"&&(n="line"));var r=yE(t,t.options,i);t.xtype==="number"?r.xAxis.type=r.xAxis.type||"linear":r.xAxis.type=t.xtype==="string"?"category":"datetime",r.chart.type||(r.chart.type=n),_E(t,r,n);for(var s=t.data,a=0;a<s.length;a++){s[a].name=s[a].name||"Value";var l=s[a].data;if(t.xtype==="datetime")for(var u=0;u<l.length;u++)l[u][0]=l[u][0].getTime();else t.xtype==="number"&&l.sort(hE);s[a].marker={symbol:"circle"},t.options.points===!1&&(s[a].marker.enabled=!1)}this.drawChart(t,s,r)};zs.prototype.renderScatterChart=function(t){var n=yE(t,t.options,{});n.chart.type="scatter",this.drawChart(t,t.data,n)};zs.prototype.renderPieChart=function(t){var n=tn(yL,{});t.options.colors&&(n.colors=t.options.colors),t.options.donut&&(n.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&_L(n,t.options.legend),t.options.title&&vL(n,t.options.title);var i=tn(n,t.options.library||{});_E(t,i,"pie");var r=[{type:"pie",name:t.options.label||"Value",data:t.data}];this.drawChart(t,r,i)};zs.prototype.renderColumnChart=function(t,n){n=n||"column";var i=t.data,r=yE(t,t.options),s=[],a=[];r.chart.type=n,_E(t,r,n);for(var l=0;l<i.length;l++)for(var u=i[l],d=0;d<u.data.length;d++){var f=u.data[d];s[f[0]]||(s[f[0]]=new Array(i.length),a.push(f[0])),s[f[0]][l]=f[1]}t.xtype==="number"&&a.sort(uL),r.xAxis.categories=a;for(var g=[],m=0;m<i.length;m++){for(var v=[],E=0;E<a.length;E++)v.push(s[a[E]][m]||0);var b={name:i[m].name||"Value",data:v};i[m].stack&&(b.stack=i[m].stack),g.push(b)}this.drawChart(t,g,r)};zs.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")};zs.prototype.renderAreaChart=function(t){this.renderLineChart(t,"areaspline")};zs.prototype.destroy=function(t){t.chart&&t.chart.destroy()};zs.prototype.drawChart=function(t,n,i){this.destroy(t),!t.destroyed&&(i.chart.renderTo=t.element.id,i.series=n,t.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(i)+");"),t.chart=new this.library.Chart(i))};var WP={},qg=[],wf={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}};function vE(e,t,n){if(t!==void 0){var i;t?t===!0?i="right":i=t:i="none",e.legend.position=i}else n&&(e.legend.position="none")}function bE(e,t){e.title=t,e.titleTextStyle={color:"#333",fontSize:"20px"}}function est(e,t){e.vAxis.viewWindow.min=t}function nst(e,t){e.vAxis.viewWindow.max=t}function ist(e,t){e.hAxis.viewWindow.min=t}function rst(e,t){e.hAxis.viewWindow.max=t}function bL(e,t){e.isStacked=t||!1}function wL(e,t){e.hAxis.title=t,e.hAxis.titleTextStyle.italic=!1}function EL(e,t){e.vAxis.title=t,e.vAxis.titleTextStyle.italic=!1}var Gy=bf(wf,vE,bE,est,nst,bL,wL,EL);function sst(e){window.attachEvent?window.attachEvent("onresize",e):window.addEventListener&&window.addEventListener("resize",e,!0),e()}var Di=function(t){this.name="google",this.library=t};Di.prototype.renderLineChart=function(t){var n=this;this.waitForLoaded(t,function(){var i={};t.options.curve===!1&&(i.curveType="none"),t.options.points===!1&&(i.pointSize=0);var r=Gy(t,t.options,i),s=n.createDataTable(t.data,t.xtype);n.drawChart(t,"LineChart",s,r)})};Di.prototype.renderPieChart=function(t){var n=this;this.waitForLoaded(t,function(){var i={chartArea:{top:"10%",height:"80%"},legend:{}};t.options.colors&&(i.colors=t.options.colors),t.options.donut&&(i.pieHole=.5),"legend"in t.options&&vE(i,t.options.legend),t.options.title&&bE(i,t.options.title);var r=tn(tn(wf,i),t.options.library||{}),s=new n.library.visualization.DataTable;s.addColumn("string",""),s.addColumn("number","Value"),s.addRows(t.data),n.drawChart(t,"PieChart",s,r)})};Di.prototype.renderColumnChart=function(t){var n=this;this.waitForLoaded(t,function(){var i=Gy(t,t.options),r=n.createDataTable(t.data,t.xtype);n.drawChart(t,"ColumnChart",r,i)})};Di.prototype.renderBarChart=function(t){var n=this;this.waitForLoaded(t,function(){var i={hAxis:{gridlines:{color:"#ccc"}}},r=bf(wf,vE,bE,ist,rst,bL,wL,EL)(t,t.options,i),s=n.createDataTable(t.data,t.xtype);n.drawChart(t,"BarChart",s,r)})};Di.prototype.renderAreaChart=function(t){var n=this;this.waitForLoaded(t,function(){var i={isStacked:!0,pointSize:0,areaOpacity:.5},r=Gy(t,t.options,i),s=n.createDataTable(t.data,t.xtype);n.drawChart(t,"AreaChart",s,r)})};Di.prototype.renderGeoChart=function(t){var n=this;this.waitForLoaded(t,"geochart",function(){var i={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},r=tn(tn(wf,i),t.options.library||{}),s=new n.library.visualization.DataTable;s.addColumn("string",""),s.addColumn("number",t.options.label||"Value"),s.addRows(t.data),n.drawChart(t,"GeoChart",s,r)})};Di.prototype.renderScatterChart=function(t){var n=this;this.waitForLoaded(t,function(){for(var i={},r=Gy(t,t.options,i),s=t.data,a=[],l=0;l<s.length;l++){s[l].name=s[l].name||"Value";for(var u=s[l].data,d=0;d<u.length;d++){var f=new Array(s.length+1);f[0]=u[d][0],f[l+1]=u[d][1],a.push(f)}}var g=new n.library.visualization.DataTable;g.addColumn("number","");for(var m=0;m<s.length;m++)g.addColumn("number",s[m].name);g.addRows(a),n.drawChart(t,"ScatterChart",g,r)})};Di.prototype.renderTimeline=function(t){var n=this;this.waitForLoaded(t,"timeline",function(){var i={legend:"none"};t.options.colors&&(i.colors=t.options.colors);var r=tn(tn(wf,i),t.options.library||{}),s=new n.library.visualization.DataTable;s.addColumn({type:"string",id:"Name"}),s.addColumn({type:"date",id:"Start"}),s.addColumn({type:"date",id:"End"}),s.addRows(t.data),t.element.style.lineHeight="normal",n.drawChart(t,"Timeline",s,r)})};Di.prototype.destroy=function(t){t.chart&&t.chart.clearChart()};Di.prototype.drawChart=function(t,n,i,r){this.destroy(t),!t.destroyed&&(t.options.code&&window.console.log("var data = new google.visualization.DataTable("+i.toJSON()+`);
var chart = new google.visualization.`+n+`(element);
chart.draw(data, `+JSON.stringify(r)+");"),t.chart=new this.library.visualization[n](t.element),sst(function(){t.chart.draw(i,r)}))};Di.prototype.waitForLoaded=function(t,n,i){var r=this;if(i||(i=n,n="corechart"),qg.push({pack:n,callback:i}),WP[n])this.runCallbacks();else{WP[n]=!0;var s={packages:[n],callback:function(){r.runCallbacks()}},a=t.__config();a.language&&(s.language=a.language),n==="geochart"&&a.mapsApiKey&&(s.mapsApiKey=a.mapsApiKey),this.library.charts.load("current",s)}};Di.prototype.runCallbacks=function(){for(var t=0;t<qg.length;t++){var n=qg[t],i=this.library.visualization&&(n.pack==="corechart"&&this.library.visualization.LineChart||n.pack==="timeline"&&this.library.visualization.Timeline||n.pack==="geochart"&&this.library.visualization.GeoChart);i&&(n.callback(),qg.splice(t,1),t--)}};Di.prototype.createDataTable=function(t,n){for(var i=[],r=[],s=0;s<t.length;s++){var a=t[s];t[s].name=t[s].name||"Value";for(var l=0;l<a.data.length;l++){var u=a.data[l],d=n==="datetime"?u[0].getTime():u[0];i[d]||(i[d]=new Array(t.length),r.push(d)),i[d][s]=u[1]}}for(var f=[],g=[],m=0;m<r.length;m++){var v=r[m],E=void 0;n==="datetime"?(E=new Date(v),g.push(E)):E=v,f.push([E].concat(i[v]))}var b=!0;if(n==="datetime"){f.sort(Nrt);var w=hL(g,!0);b=Lrt(w)}else if(n==="number"){f.sort(hE);for(var A=0;A<f.length;A++)f[A][0]=Vs(f[A][0]);n="string"}var C=new this.library.visualization.DataTable;n=n==="datetime"&&b?"date":n,C.addColumn(n,"");for(var k=0;k<t.length;k++)C.addColumn("number",t[k].name);return C.addRows(f),C};var $a=[];function ost(e){if(e){if(e.product==="Highcharts")return zs;if(e.charts)return Di;if(lE(e))return os}throw new Error("Unknown adapter")}function id(e){for(var t=ost(e),n=0;n<$a.length;n++)if($a[n].library===e)return;$a.push(new t(e))}function ast(){"Chart"in window&&id(window.Chart),"Highcharts"in window&&id(window.Highcharts),window.google&&window.google.charts&&id(window.google)}function cst(e,t){var n="render"+e,i=t.options.adapter;ast();for(var r=0;r<$a.length;r++){var s=$a[r];if((!i||i===s.name)&&lE(s[n]))return t.adapter=s.name,t.__adapterObject=s,s[n](t)}throw $a.length>0?new Error("No charting library found for "+e):new Error("No charting libraries found - be sure to include one before your charts")}var Ut={charts:{},configure:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(Ut.config[t]=e[t])},setDefaultOptions:function(e){Ut.options=e},eachChart:function(e){for(var t in Ut.charts)Object.prototype.hasOwnProperty.call(Ut.charts,t)&&e(Ut.charts[t])},destroyAll:function(){for(var e in Ut.charts)Object.prototype.hasOwnProperty.call(Ut.charts,e)&&(Ut.charts[e].destroy(),delete Ut.charts[e])},config:{},options:{},adapters:$a,addAdapter:id,use:function(e){return id(e),Ut}};function lst(e){for(var t=[],n=0;n<e.length;n++)t.push([Gr(e[n][0]),Gr(e[n][1]),Gr(e[n][2])]);return t}function ust(e,t){if(t==="bubble")return lst(e);var n;t==="number"?n=Gr:t==="datetime"?n=Pr:n=Vs;for(var i=[],r=0;r<e.length;r++)i.push([n(e[r][0]),Gr(e[r][1])]);return i}function hst(e,t,n){return AL(e)?(n.xmin||n.xmax)&&(!n.xmin||A0(n.xmin))&&(!n.xmax||A0(n.xmax))?"datetime":"number":qP(e,Frt)?"number":!t&&qP(e,A0)?"datetime":"string"}function qP(e,t){for(var n=0;n<e.length;n++)for(var i=uE(e[n].data),r=0;r<i.length;r++)if(!t(i[r][0]))return!1;return!0}function dst(e){for(var t=[],n=0;n<e.length;n++){var i={};for(var r in e[n])Object.prototype.hasOwnProperty.call(e[n],r)&&(i[r]=e[n][r]);t.push(i)}return t}function Zl(e,t,n){var i=e.options,r=e.rawData;e.singleSeriesFormat=!Do(r)||!Wg(r[0]),e.singleSeriesFormat&&(r=[{name:i.label,data:r}]),r=dst(r);for(var s=0;s<r.length;s++)r[s].data=uE(r[s].data);e.xtype=t||(i.discrete?"string":hst(r,n,i));for(var a=0;a<r.length;a++)r[a].data=ust(r[a].data,e.xtype);return r}function IL(e){for(var t=uE(e.rawData),n=0;n<t.length;n++)t[n]=[Vs(t[n][0]),Gr(t[n][1])];return t}function AL(e,t){if(t==="PieChart"||t==="GeoChart"||t==="Timeline")return e.length===0;for(var n=0;n<e.length;n++)if(e[n].data.length>0)return!1;return!0}function fst(e){var t=e.options.download;t===!0?t={}:typeof t=="string"&&(t={filename:t});var n=document.createElement("a");n.download=t.filename||"chart.png",n.style.position="absolute",n.style.top="20px",n.style.right="20px",n.style.zIndex=1e3,n.style.lineHeight="20px",n.target="_blank";var i=document.createElement("img"),r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path fill="#CCCCCC" d="M344 240h-56L287.1 152c0-13.25-10.75-24-24-24h-16C234.7 128 223.1 138.8 223.1 152L224 240h-56c-9.531 0-18.16 5.656-22 14.38C142.2 263.1 143.9 273.3 150.4 280.3l88.75 96C243.7 381.2 250.1 384 256.8 384c7.781-.3125 13.25-2.875 17.75-7.844l87.25-96c6.406-7.031 8.031-17.19 4.188-25.88S353.5 240 344 240zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208 93.31 208 208S370.7 464 256 464z"/></svg>';i.src="data:image/svg+xml;utf8,"+encodeURIComponent(r),i.alt="Download",i.style.width="20px",i.style.height="20px",i.style.border="none",n.appendChild(i);var s=e.element;s.style.position="relative",e.__downloadAttached=!0,e.__enterEvent=s.addEventListener("mouseover",function(a){var l=a.relatedTarget;(!l||l!==this&&!this.contains(l))&&e.options.download&&(n.href=e.toImage(t),s.appendChild(n))}),e.__leaveEvent=s.addEventListener("mouseout",function(a){var l=a.relatedTarget;(!l||l!==this&&!this.contains(l))&&n.parentNode&&n.parentNode.removeChild(n)})}var TL=[],Hb=0,pst=4;function gst(e,t,n){TL.push([e,t,n]),wE()}function wE(){if(Hb<pst){var e=TL.shift();e&&(Hb++,yst(e[0],e[1],e[2]),wE())}}function mst(){Hb--,wE()}function yst(e,t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.setRequestHeader("Content-Type","application/json"),i.onload=function(){mst(),i.status===200?t(JSON.parse(i.responseText)):n(i.statusText)},i.send()}function EE(e,t){e.textContent=t}function Kg(e,t,n){n||(t="Error Loading Chart: "+t),EE(e,t),e.style.color="#ff0000"}function T0(e){try{e.__render()}catch(t){throw Kg(e.element,t.message),t}}function $d(e,t,n){if(n&&e.options.loading&&(typeof t=="string"||typeof t=="function")&&EE(e.element,e.options.loading),typeof t=="string")gst(t,function(i){e.rawData=i,T0(e)},function(i){Kg(e.element,i)});else if(typeof t=="function")try{t(function(i){e.rawData=i,T0(e)},function(i){Kg(e.element,i,!0)})}catch(i){Kg(e.element,i,!0)}else e.rawData=t,T0(e)}function _st(e,t){if(AL(t.data,e)){var n=t.options.empty||t.options.messages&&t.options.messages.empty||"No data";EE(t.element,n)}else cst(e,t),t.options.download&&!t.__downloadAttached&&t.adapter==="chartjs"&&fst(t)}function vst(e){if(typeof e=="string"){var t=e;if(e=document.getElementById(e),!e)throw new Error("No element with id "+t)}return e}var Oe=function(t,n,i){this.element=vst(t),this.options=tn(Ut.options,i||{}),this.dataSource=n,this.element.id&&(Ut.charts[this.element.id]=this),$d(this,n,!0),this.options.refresh&&this.startRefresh()};Oe.prototype.getElement=function(){return this.element};Oe.prototype.getDataSource=function(){return this.dataSource};Oe.prototype.getData=function(){return this.data};Oe.prototype.getOptions=function(){return this.options};Oe.prototype.getChartObject=function(){return this.chart};Oe.prototype.getAdapter=function(){return this.adapter};Oe.prototype.updateData=function(t,n){this.dataSource=t,n&&this.__updateOptions(n),$d(this,t,!0)};Oe.prototype.setOptions=function(t){this.__updateOptions(t),this.redraw()};Oe.prototype.redraw=function(){$d(this,this.rawData)};Oe.prototype.refreshData=function(){if(typeof this.dataSource=="string"){var t=this.dataSource.indexOf("?")===-1?"?":"&",n=this.dataSource+t+"_="+new Date().getTime();$d(this,n)}else typeof this.dataSource=="function"&&$d(this,this.dataSource)};Oe.prototype.startRefresh=function(){var t=this,n=this.options.refresh;if(n&&typeof this.dataSource!="string"&&typeof this.dataSource!="function")throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId)if(n)this.intervalId=setInterval(function(){t.refreshData()},n*1e3);else throw new Error("No refresh interval")};Oe.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)};Oe.prototype.toImage=function(t){if(this.adapter==="chartjs")if(t&&t.background&&t.background!=="transparent"){var n=this.chart.canvas,i=this.chart.ctx,r=document.createElement("canvas"),s=r.getContext("2d");return r.width=i.canvas.width,r.height=i.canvas.height,s.fillStyle=t.background,s.fillRect(0,0,r.width,r.height),s.drawImage(n,0,0),r.toDataURL("image/png")}else return this.chart.toBase64Image();else throw new Error("Feature only available for Chart.js")};Oe.prototype.destroy=function(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&this.element.removeEventListener("mouseover",this.__enterEvent),this.__leaveEvent&&this.element.removeEventListener("mouseout",this.__leaveEvent)};Oe.prototype.__updateOptions=function(t){var n=t.refresh&&t.refresh!==this.options.refresh;this.options=tn(Ut.options,t),n&&(this.stopRefresh(),this.startRefresh())};Oe.prototype.__render=function(){this.data=this.__processData(),_st(this.__chartName(),this)};Oe.prototype.__config=function(){return Ut.config};var bst=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return Zl(this)},t.prototype.__chartName=function(){return"LineChart"},t}(Oe),wst=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return IL(this)},t.prototype.__chartName=function(){return"PieChart"},t}(Oe),Est=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return Zl(this,null,!0)},t.prototype.__chartName=function(){return"ColumnChart"},t}(Oe),Ist=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return Zl(this,null,!0)},t.prototype.__chartName=function(){return"BarChart"},t}(Oe),Ast=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return Zl(this)},t.prototype.__chartName=function(){return"AreaChart"},t}(Oe),Tst=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return IL(this)},t.prototype.__chartName=function(){return"GeoChart"},t}(Oe),Cst=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return Zl(this,"number")},t.prototype.__chartName=function(){return"ScatterChart"},t}(Oe),Sst=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){return Zl(this,"bubble")},t.prototype.__chartName=function(){return"BubbleChart"},t}(Oe),xst=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__processData=function(){for(var i=this.rawData,r=0;r<i.length;r++)i[r][1]=Pr(i[r][1]),i[r][2]=Pr(i[r][2]);return i},t.prototype.__chartName=function(){return"Timeline"},t}(Oe);Ut.LineChart=bst;Ut.PieChart=wst;Ut.ColumnChart=Est;Ut.BarChart=Ist;Ut.AreaChart=Ast;Ut.GeoChart=Tst;Ut.ScatterChart=Cst;Ut.BubbleChart=Sst;Ut.Timeline=xst;typeof window<"u"&&!window.Chartkick&&(window.Chartkick=Ut,document.addEventListener("turbolinks:before-render",function(){Ut.config.autoDestroy!==!1&&Ut.destroyAll()}),document.addEventListener("turbo:before-render",function(){Ut.config.autoDestroy!==!1&&Ut.destroyAll()}),setTimeout(function(){window.dispatchEvent(new Event("chartkick:load"))},0));Ut.default=Ut;/*!
 * Vue Chartkick
 * Create beautiful JavaScript charts with one line of Vue
 * https://github.com/ankane/vue-chartkick
 * v1.1.0
 * MIT License
 */var kst=1,po=function(e,t,n){var i=["adapter","bytes","code","colors","curve","dataset","decimal","discrete","donut","download","empty","label","legend","library","loading","max","messages","min","points","precision","prefix","refresh","round","stacked","suffix","thousands","title","xmax","xmin","xtitle","ytitle","zeros"];e.component(t,{props:["data","id","width","height"].concat(i),render:function(){var r=this.chartOptions.loading!==void 0?this.chartOptions.loading:"Loading...";if(typeof r!="string")throw new Error("loading must be a string");return hw("div",{id:this.chartId,style:this.chartStyle},[r])},data:function(){return{chartId:null}},computed:{chartStyle:function(){return this.data,this.chartOptions,{height:this.height||"300px",lineHeight:this.height||"300px",width:this.width||"100%",textAlign:"center",color:"#999",fontSize:"14px",fontFamily:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif"}},chartOptions:function(){for(var r={},s=i,a=0;a<s.length;a++){var l=s[a];this[l]!==void 0&&(r[l]=this[l])}return r}},created:function(){this.chartId=this.chartId||this.id||"chart-"+kst++},mounted:function(){this.updateChart()},updated:function(){this.updateChart()},beforeUnmount:function(){this.chart&&this.chart.destroy()},methods:{updateChart:function(){this.data!==null?this.chart?this.chart.updateData(this.data,this.chartOptions):this.chart=new n(this.chartId,this.data,this.chartOptions):this.chart&&(this.chart.destroy(),this.chart=null,this.$el.innerText="Loading...")}}})};Ut.install=function(e,t){t&&t.adapter&&Ut.addAdapter(t.adapter),po(e,"line-chart",Ut.LineChart),po(e,"pie-chart",Ut.PieChart),po(e,"column-chart",Ut.ColumnChart),po(e,"bar-chart",Ut.BarChart),po(e,"area-chart",Ut.AreaChart),po(e,"scatter-chart",Ut.ScatterChart),po(e,"geo-chart",Ut.GeoChart),po(e,"timeline",Ut.Timeline)};function Tt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Be(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Yy(e,t){const n=Tt(e);return isNaN(t)?Be(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function IE(e,t){const n=Tt(e);if(isNaN(t))return Be(e,NaN);if(!t)return n;const i=n.getDate(),r=Be(e,n.getTime());r.setMonth(n.getMonth()+t+1,0);const s=r.getDate();return i>=s?r:(n.setFullYear(r.getFullYear(),r.getMonth(),i),n)}function Qy(e,t){const n=+Tt(e);return Be(e,n+t)}const CL=6048e5,Pst=864e5,Ef=6e4,If=36e5,Rst=1e3;function Dst(e,t){return Qy(e,t*If)}let Mst={};function cc(){return Mst}function ns(e,t){var l,u,d,f;const n=cc(),i=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,r=Tt(e),s=r.getDay(),a=(s<i?7:0)+s-i;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function Ul(e){return ns(e,{weekStartsOn:1})}function SL(e){const t=Tt(e),n=t.getFullYear(),i=Be(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const r=Ul(i),s=Be(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Ul(s);return t.getTime()>=r.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function zb(e){const t=Tt(e);return t.setHours(0,0,0,0),t}function Dm(e){const t=Tt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function xL(e,t){const n=zb(e),i=zb(t),r=+n-Dm(n),s=+i-Dm(i);return Math.round((r-s)/Pst)}function Ost(e){const t=SL(e),n=Be(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ul(n)}function Nst(e,t){return Qy(e,t*Ef)}function Lst(e,t){const n=t*3;return IE(e,n)}function Fst(e,t){return Qy(e,t*1e3)}function Vst(e,t){const n=t*7;return Yy(e,n)}function Bst(e,t){return IE(e,t*12)}function rd(e,t){const n=Tt(e),i=Tt(t),r=n.getTime()-i.getTime();return r<0?-1:r>0?1:r}function Ust(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kL(e){if(!Ust(e)&&typeof e!="number")return!1;const t=Tt(e);return!isNaN(Number(t))}function $st(e,t){const n=Tt(e),i=Tt(t),r=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return r*12+s}function jst(e,t){const n=Tt(e),i=Tt(t);return n.getFullYear()-i.getFullYear()}function PL(e,t){const n=Tt(e),i=Tt(t),r=KP(n,i),s=Math.abs(xL(n,i));n.setDate(n.getDate()-r*s);const a=+(KP(n,i)===-r),l=r*(s-a);return l===0?0:l}function KP(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Af(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function Xy(e,t){return+Tt(e)-+Tt(t)}function Hst(e,t,n){const i=Xy(e,t)/If;return Af(n==null?void 0:n.roundingMethod)(i)}function zst(e,t,n){const i=Xy(e,t)/Ef;return Af(n==null?void 0:n.roundingMethod)(i)}function RL(e){const t=Tt(e);return t.setHours(23,59,59,999),t}function DL(e){const t=Tt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Wst(e){const t=Tt(e);return+RL(t)==+DL(t)}function ML(e,t){const n=Tt(e),i=Tt(t),r=rd(n,i),s=Math.abs($st(n,i));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*s);let l=rd(n,i)===-r;Wst(Tt(e))&&s===1&&rd(e,i)===1&&(l=!1),a=r*(s-Number(l))}return a===0?0:a}function qst(e,t,n){const i=ML(e,t)/3;return Af(n==null?void 0:n.roundingMethod)(i)}function Kst(e,t,n){const i=Xy(e,t)/1e3;return Af(n==null?void 0:n.roundingMethod)(i)}function Gst(e,t,n){const i=PL(e,t)/7;return Af(n==null?void 0:n.roundingMethod)(i)}function Yst(e,t){const n=Tt(e),i=Tt(t),r=rd(n,i),s=Math.abs(jst(n,i));n.setFullYear(1584),i.setFullYear(1584);const a=rd(n,i)===-r,l=r*(s-+a);return l===0?0:l}function Qst(e){const t=Tt(e);return t.setSeconds(0,0),t}function Xst(e){const t=Tt(e),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function Jst(e){const t=Tt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Zst(e){const t=Tt(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function OL(e){const t=Tt(e),n=Be(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tot(e){const t=Tt(e);return t.setMinutes(59,59,999),t}function eot(e,t){var l,u,d,f;const n=cc(),i=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,r=Tt(e),s=r.getDay(),a=(s<i?-7:0)+6-(s-i);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}function not(e){const t=Tt(e);return t.setSeconds(59,999),t}function iot(e){const t=Tt(e),n=t.getMonth(),i=n-n%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t}function rot(e){const t=Tt(e);return t.setMilliseconds(999),t}const sot={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oot=(e,t,n)=>{let i;const r=sot[e];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function C0(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const aot={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cot={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lot={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uot={date:C0({formats:aot,defaultWidth:"full"}),time:C0({formats:cot,defaultWidth:"full"}),dateTime:C0({formats:lot,defaultWidth:"full"})},hot={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dot=(e,t,n,i)=>hot[e];function vh(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let r;if(i==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;r=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return r[s]}}const fot={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pot={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},got={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mot={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yot={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_ot={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vot=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bot={ordinalNumber:vot,era:vh({values:fot,defaultWidth:"wide"}),quarter:vh({values:pot,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vh({values:got,defaultWidth:"wide"}),day:vh({values:mot,defaultWidth:"wide"}),dayPeriod:vh({values:yot,defaultWidth:"wide",formattingValues:_ot,defaultFormattingWidth:"wide"})};function bh(e){return(t,n={})=>{const i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=t.match(r);if(!s)return null;const a=s[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?Eot(l,g=>g.test(a)):wot(l,g=>g.test(a));let d;d=e.valueCallback?e.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=t.slice(a.length);return{value:d,rest:f}}}function wot(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Eot(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Iot(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const r=i[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(r.length);return{value:a,rest:l}}}const Aot=/^(\d+)(th|st|nd|rd)?/i,Tot=/\d+/i,Cot={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sot={any:[/^b/i,/^(a|c)/i]},xot={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kot={any:[/1/i,/2/i,/3/i,/4/i]},Pot={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rot={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dot={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mot={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Oot={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Not={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lot={ordinalNumber:Iot({matchPattern:Aot,parsePattern:Tot,valueCallback:e=>parseInt(e,10)}),era:bh({matchPatterns:Cot,defaultMatchWidth:"wide",parsePatterns:Sot,defaultParseWidth:"any"}),quarter:bh({matchPatterns:xot,defaultMatchWidth:"wide",parsePatterns:kot,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bh({matchPatterns:Pot,defaultMatchWidth:"wide",parsePatterns:Rot,defaultParseWidth:"any"}),day:bh({matchPatterns:Dot,defaultMatchWidth:"wide",parsePatterns:Mot,defaultParseWidth:"any"}),dayPeriod:bh({matchPatterns:Oot,defaultMatchWidth:"any",parsePatterns:Not,defaultParseWidth:"any"})},NL={code:"en-US",formatDistance:oot,formatLong:uot,formatRelative:dot,localize:bot,match:Lot,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Fot(e){const t=Tt(e);return xL(t,OL(t))+1}function LL(e){const t=Tt(e),n=+Ul(t)-+Ost(t);return Math.round(n/CL)+1}function AE(e,t){var f,g,m,v;const n=Tt(e),i=n.getFullYear(),r=cc(),s=(t==null?void 0:t.firstWeekContainsDate)??((g=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,a=Be(e,0);a.setFullYear(i+1,0,s),a.setHours(0,0,0,0);const l=ns(a,t),u=Be(e,0);u.setFullYear(i,0,s),u.setHours(0,0,0,0);const d=ns(u,t);return n.getTime()>=l.getTime()?i+1:n.getTime()>=d.getTime()?i:i-1}function Vot(e,t){var l,u,d,f;const n=cc(),i=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,r=AE(e,t),s=Be(e,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),ns(s,t)}function FL(e,t){const n=Tt(e),i=+ns(n,t)-+Vot(n,t);return Math.round(i/CL)+1}function ve(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const go={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return ve(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ve(n+1,2)},d(e,t){return ve(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ve(e.getHours()%12||12,t.length)},H(e,t){return ve(e.getHours(),t.length)},m(e,t){return ve(e.getMinutes(),t.length)},s(e,t){return ve(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return ve(r,t.length)}},Jc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GP={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return go.y(e,t)},Y:function(e,t,n,i){const r=AE(e,i),s=r>0?r:1-r;if(t==="YY"){const a=s%100;return ve(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):ve(s,t.length)},R:function(e,t){const n=SL(e);return ve(n,t.length)},u:function(e,t){const n=e.getFullYear();return ve(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return ve(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return ve(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return go.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return ve(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const r=FL(e,i);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):ve(r,t.length)},I:function(e,t,n){const i=LL(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):ve(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):go.d(e,t)},D:function(e,t,n){const i=Fot(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):ve(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const r=e.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return ve(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const r=e.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return ve(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return ve(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let r;switch(i===12?r=Jc.noon:i===0?r=Jc.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let r;switch(i>=17?r=Jc.evening:i>=12?r=Jc.afternoon:i>=4?r=Jc.morning:r=Jc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return go.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):go.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):ve(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):ve(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):go.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):go.s(e,t)},S:function(e,t){return go.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return QP(i);case"XXXX":case"XX":return Ia(i);case"XXXXX":case"XXX":default:return Ia(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return QP(i);case"xxxx":case"xx":return Ia(i);case"xxxxx":case"xxx":default:return Ia(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+YP(i,":");case"OOOO":default:return"GMT"+Ia(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+YP(i,":");case"zzzz":default:return"GMT"+Ia(i,":")}},t:function(e,t,n){const i=Math.trunc(e.getTime()/1e3);return ve(i,t.length)},T:function(e,t,n){const i=e.getTime();return ve(i,t.length)}};function YP(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+t+ve(s,2)}function QP(e,t){return e%60===0?(e>0?"-":"+")+ve(Math.abs(e)/60,2):Ia(e,t)}function Ia(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=ve(Math.trunc(i/60),2),s=ve(i%60,2);return n+r+t+s}const XP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},VL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Bot=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return XP(e,t);let s;switch(i){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",XP(i,t)).replace("{{time}}",VL(r,t))},Wb={p:VL,P:Bot},Uot=/^D+$/,$ot=/^Y+$/,jot=["D","DD","YY","YYYY"];function BL(e){return Uot.test(e)}function UL(e){return $ot.test(e)}function qb(e,t,n){const i=Hot(e,t,n);if(console.warn(i),jot.includes(e))throw new RangeError(i)}function Hot(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zot=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wot=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qot=/^'([^]*?)'?$/,Kot=/''/g,Got=/[a-zA-Z]/;function Yot(e,t,n){var f,g,m,v,E,b,w,A;const i=cc(),r=(n==null?void 0:n.locale)??i.locale??NL,s=(n==null?void 0:n.firstWeekContainsDate)??((g=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(m=i.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((b=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:b.weekStartsOn)??i.weekStartsOn??((A=(w=i.locale)==null?void 0:w.options)==null?void 0:A.weekStartsOn)??0,l=Tt(e);if(!kL(l))throw new RangeError("Invalid time value");let u=t.match(Wot).map(C=>{const k=C[0];if(k==="p"||k==="P"){const R=Wb[k];return R(C,r.formatLong)}return C}).join("").match(zot).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const k=C[0];if(k==="'")return{isToken:!1,value:Qot(C)};if(GP[k])return{isToken:!0,value:C};if(k.match(Got))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:C}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:r};return u.map(C=>{if(!C.isToken)return C.value;const k=C.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&UL(k)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&BL(k))&&qb(k,t,String(e));const R=GP[k[0]];return R(l,k,r.localize,d)}).join("")}function Qot(e){const t=e.match(qot);return t?t[1].replace(Kot,"'"):e}function Xot(){return Object.assign({},cc())}function Jot(e){let n=Tt(e).getDay();return n===0&&(n=7),n}function Zot(e,t){const n=t instanceof Date?Be(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const tat=10;class $L{constructor(){L(this,"subPriority",0)}validate(t,n){return!0}}class eat extends $L{constructor(t,n,i,r,s){super(),this.value=t,this.validateValue=n,this.setValue=i,this.priority=r,s&&(this.subPriority=s)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,i){return this.setValue(t,n,this.value,i)}}class nat extends $L{constructor(){super(...arguments);L(this,"priority",tat);L(this,"subPriority",-1)}set(n,i){return i.timestampIsSet?n:Be(n,Zot(n,Date))}}class fe{run(t,n,i,r){const s=this.parse(t,n,i,r);return s?{setter:new eat(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,n,i){return!0}}class iat extends fe{constructor(){super(...arguments);L(this,"priority",140);L(this,"incompatibleTokens",["R","u","t","T"])}parse(n,i,r){switch(i){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})||r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"})}}set(n,i,r){return i.era=r,n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}const vn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Fr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function bn(e,t){return e&&{value:t(e.value),rest:e.rest}}function Xe(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Vr(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const i=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:i*(r*If+s*Ef+a*Rst),rest:t.slice(n[0].length)}}function jL(e){return Xe(vn.anyDigitsSigned,e)}function hn(e,t){switch(e){case 1:return Xe(vn.singleDigit,t);case 2:return Xe(vn.twoDigits,t);case 3:return Xe(vn.threeDigits,t);case 4:return Xe(vn.fourDigits,t);default:return Xe(new RegExp("^\\d{1,"+e+"}"),t)}}function Mm(e,t){switch(e){case 1:return Xe(vn.singleDigitSigned,t);case 2:return Xe(vn.twoDigitsSigned,t);case 3:return Xe(vn.threeDigitsSigned,t);case 4:return Xe(vn.fourDigitsSigned,t);default:return Xe(new RegExp("^-?\\d{1,"+e+"}"),t)}}function TE(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function HL(e,t){const n=t>0,i=n?t:1-t;let r;if(i<=50)r=e||100;else{const s=i+50,a=Math.trunc(s/100)*100,l=e>=s%100;r=e+a-(l?100:0)}return n?r:1-r}function zL(e){return e%400===0||e%4===0&&e%100!==0}class rat extends fe{constructor(){super(...arguments);L(this,"priority",130);L(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,i,r){const s=a=>({year:a,isTwoDigitYear:i==="yy"});switch(i){case"y":return bn(hn(4,n),s);case"yo":return bn(r.ordinalNumber(n,{unit:"year"}),s);default:return bn(hn(i.length,n),s)}}validate(n,i){return i.isTwoDigitYear||i.year>0}set(n,i,r){const s=n.getFullYear();if(r.isTwoDigitYear){const l=HL(r.year,s);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const a=!("era"in i)||i.era===1?r.year:1-r.year;return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class sat extends fe{constructor(){super(...arguments);L(this,"priority",130);L(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,i,r){const s=a=>({year:a,isTwoDigitYear:i==="YY"});switch(i){case"Y":return bn(hn(4,n),s);case"Yo":return bn(r.ordinalNumber(n,{unit:"year"}),s);default:return bn(hn(i.length,n),s)}}validate(n,i){return i.isTwoDigitYear||i.year>0}set(n,i,r,s){const a=AE(n,s);if(r.isTwoDigitYear){const u=HL(r.year,a);return n.setFullYear(u,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),ns(n,s)}const l=!("era"in i)||i.era===1?r.year:1-r.year;return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),ns(n,s)}}class oat extends fe{constructor(){super(...arguments);L(this,"priority",130);L(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,i){return Mm(i==="R"?4:i.length,n)}set(n,i,r){const s=Be(n,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Ul(s)}}class aat extends fe{constructor(){super(...arguments);L(this,"priority",130);L(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,i){return Mm(i==="u"?4:i.length,n)}set(n,i,r){return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}class cat extends fe{constructor(){super(...arguments);L(this,"priority",120);L(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"Q":case"QQ":return hn(i.length,n);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})||r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=1&&i<=4}set(n,i,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class lat extends fe{constructor(){super(...arguments);L(this,"priority",120);L(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"q":case"qq":return hn(i.length,n);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})||r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=1&&i<=4}set(n,i,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class uat extends fe{constructor(){super(...arguments);L(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);L(this,"priority",110)}parse(n,i,r){const s=a=>a-1;switch(i){case"M":return bn(Xe(vn.month,n),s);case"MM":return bn(hn(2,n),s);case"Mo":return bn(r.ordinalNumber(n,{unit:"month"}),s);case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})||r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}class hat extends fe{constructor(){super(...arguments);L(this,"priority",110);L(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,i,r){const s=a=>a-1;switch(i){case"L":return bn(Xe(vn.month,n),s);case"LL":return bn(hn(2,n),s);case"Lo":return bn(r.ordinalNumber(n,{unit:"month"}),s);case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})||r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}function dat(e,t,n){const i=Tt(e),r=FL(i,n)-t;return i.setDate(i.getDate()-r*7),i}class fat extends fe{constructor(){super(...arguments);L(this,"priority",100);L(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,i,r){switch(i){case"w":return Xe(vn.week,n);case"wo":return r.ordinalNumber(n,{unit:"week"});default:return hn(i.length,n)}}validate(n,i){return i>=1&&i<=53}set(n,i,r,s){return ns(dat(n,r,s),s)}}function pat(e,t){const n=Tt(e),i=LL(n)-t;return n.setDate(n.getDate()-i*7),n}class gat extends fe{constructor(){super(...arguments);L(this,"priority",100);L(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,i,r){switch(i){case"I":return Xe(vn.week,n);case"Io":return r.ordinalNumber(n,{unit:"week"});default:return hn(i.length,n)}}validate(n,i){return i>=1&&i<=53}set(n,i,r){return Ul(pat(n,r))}}const mat=[31,28,31,30,31,30,31,31,30,31,30,31],yat=[31,29,31,30,31,30,31,31,30,31,30,31];class _at extends fe{constructor(){super(...arguments);L(this,"priority",90);L(this,"subPriority",1);L(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"d":return Xe(vn.date,n);case"do":return r.ordinalNumber(n,{unit:"date"});default:return hn(i.length,n)}}validate(n,i){const r=n.getFullYear(),s=zL(r),a=n.getMonth();return s?i>=1&&i<=yat[a]:i>=1&&i<=mat[a]}set(n,i,r){return n.setDate(r),n.setHours(0,0,0,0),n}}class vat extends fe{constructor(){super(...arguments);L(this,"priority",90);L(this,"subpriority",1);L(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,i,r){switch(i){case"D":case"DD":return Xe(vn.dayOfYear,n);case"Do":return r.ordinalNumber(n,{unit:"date"});default:return hn(i.length,n)}}validate(n,i){const r=n.getFullYear();return zL(r)?i>=1&&i<=366:i>=1&&i<=365}set(n,i,r){return n.setMonth(0,r),n.setHours(0,0,0,0),n}}function CE(e,t,n){var g,m,v,E;const i=cc(),r=(n==null?void 0:n.weekStartsOn)??((m=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??i.weekStartsOn??((E=(v=i.locale)==null?void 0:v.options)==null?void 0:E.weekStartsOn)??0,s=Tt(e),a=s.getDay(),u=(t%7+7)%7,d=7-r,f=t<0||t>6?t-(a+d)%7:(u+d)%7-(a+d)%7;return Yy(s,f)}class bat extends fe{constructor(){super(...arguments);L(this,"priority",90);L(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=CE(n,r,s),n.setHours(0,0,0,0),n}}class wat extends fe{constructor(){super(...arguments);L(this,"priority",90);L(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,i,r,s){const a=l=>{const u=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+u};switch(i){case"e":case"ee":return bn(hn(i.length,n),a);case"eo":return bn(r.ordinalNumber(n,{unit:"day"}),a);case"eee":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=CE(n,r,s),n.setHours(0,0,0,0),n}}class Eat extends fe{constructor(){super(...arguments);L(this,"priority",90);L(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,i,r,s){const a=l=>{const u=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+u};switch(i){case"c":case"cc":return bn(hn(i.length,n),a);case"co":return bn(r.ordinalNumber(n,{unit:"day"}),a);case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})||r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=CE(n,r,s),n.setHours(0,0,0,0),n}}function Iat(e,t){const n=Tt(e),i=Jot(n),r=t-i;return Yy(n,r)}class Aat extends fe{constructor(){super(...arguments);L(this,"priority",90);L(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,i,r){const s=a=>a===0?7:a;switch(i){case"i":case"ii":return hn(i.length,n);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return bn(r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return bn(r.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return bn(r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return bn(r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,i){return i>=1&&i<=7}set(n,i,r){return n=Iat(n,r),n.setHours(0,0,0,0),n}}class Tat extends fe{constructor(){super(...arguments);L(this,"priority",80);L(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,i,r){switch(i){case"a":case"aa":case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(TE(r),0,0,0),n}}class Cat extends fe{constructor(){super(...arguments);L(this,"priority",80);L(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,i,r){switch(i){case"b":case"bb":case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(TE(r),0,0,0),n}}class Sat extends fe{constructor(){super(...arguments);L(this,"priority",80);L(this,"incompatibleTokens",["a","b","t","T"])}parse(n,i,r){switch(i){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(TE(r),0,0,0),n}}class xat extends fe{constructor(){super(...arguments);L(this,"priority",70);L(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,i,r){switch(i){case"h":return Xe(vn.hour12h,n);case"ho":return r.ordinalNumber(n,{unit:"hour"});default:return hn(i.length,n)}}validate(n,i){return i>=1&&i<=12}set(n,i,r){const s=n.getHours()>=12;return s&&r<12?n.setHours(r+12,0,0,0):!s&&r===12?n.setHours(0,0,0,0):n.setHours(r,0,0,0),n}}class kat extends fe{constructor(){super(...arguments);L(this,"priority",70);L(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,i,r){switch(i){case"H":return Xe(vn.hour23h,n);case"Ho":return r.ordinalNumber(n,{unit:"hour"});default:return hn(i.length,n)}}validate(n,i){return i>=0&&i<=23}set(n,i,r){return n.setHours(r,0,0,0),n}}class Pat extends fe{constructor(){super(...arguments);L(this,"priority",70);L(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,i,r){switch(i){case"K":return Xe(vn.hour11h,n);case"Ko":return r.ordinalNumber(n,{unit:"hour"});default:return hn(i.length,n)}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.getHours()>=12&&r<12?n.setHours(r+12,0,0,0):n.setHours(r,0,0,0),n}}class Rat extends fe{constructor(){super(...arguments);L(this,"priority",70);L(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,i,r){switch(i){case"k":return Xe(vn.hour24h,n);case"ko":return r.ordinalNumber(n,{unit:"hour"});default:return hn(i.length,n)}}validate(n,i){return i>=1&&i<=24}set(n,i,r){const s=r<=24?r%24:r;return n.setHours(s,0,0,0),n}}class Dat extends fe{constructor(){super(...arguments);L(this,"priority",60);L(this,"incompatibleTokens",["t","T"])}parse(n,i,r){switch(i){case"m":return Xe(vn.minute,n);case"mo":return r.ordinalNumber(n,{unit:"minute"});default:return hn(i.length,n)}}validate(n,i){return i>=0&&i<=59}set(n,i,r){return n.setMinutes(r,0,0),n}}class Mat extends fe{constructor(){super(...arguments);L(this,"priority",50);L(this,"incompatibleTokens",["t","T"])}parse(n,i,r){switch(i){case"s":return Xe(vn.second,n);case"so":return r.ordinalNumber(n,{unit:"second"});default:return hn(i.length,n)}}validate(n,i){return i>=0&&i<=59}set(n,i,r){return n.setSeconds(r,0),n}}class Oat extends fe{constructor(){super(...arguments);L(this,"priority",30);L(this,"incompatibleTokens",["t","T"])}parse(n,i){const r=s=>Math.trunc(s*Math.pow(10,-i.length+3));return bn(hn(i.length,n),r)}set(n,i,r){return n.setMilliseconds(r),n}}class Nat extends fe{constructor(){super(...arguments);L(this,"priority",10);L(this,"incompatibleTokens",["t","T","x"])}parse(n,i){switch(i){case"X":return Vr(Fr.basicOptionalMinutes,n);case"XX":return Vr(Fr.basic,n);case"XXXX":return Vr(Fr.basicOptionalSeconds,n);case"XXXXX":return Vr(Fr.extendedOptionalSeconds,n);case"XXX":default:return Vr(Fr.extended,n)}}set(n,i,r){return i.timestampIsSet?n:Be(n,n.getTime()-Dm(n)-r)}}class Lat extends fe{constructor(){super(...arguments);L(this,"priority",10);L(this,"incompatibleTokens",["t","T","X"])}parse(n,i){switch(i){case"x":return Vr(Fr.basicOptionalMinutes,n);case"xx":return Vr(Fr.basic,n);case"xxxx":return Vr(Fr.basicOptionalSeconds,n);case"xxxxx":return Vr(Fr.extendedOptionalSeconds,n);case"xxx":default:return Vr(Fr.extended,n)}}set(n,i,r){return i.timestampIsSet?n:Be(n,n.getTime()-Dm(n)-r)}}class Fat extends fe{constructor(){super(...arguments);L(this,"priority",40);L(this,"incompatibleTokens","*")}parse(n){return jL(n)}set(n,i,r){return[Be(n,r*1e3),{timestampIsSet:!0}]}}class Vat extends fe{constructor(){super(...arguments);L(this,"priority",20);L(this,"incompatibleTokens","*")}parse(n){return jL(n)}set(n,i,r){return[Be(n,r),{timestampIsSet:!0}]}}const Bat={G:new iat,y:new rat,Y:new sat,R:new oat,u:new aat,Q:new cat,q:new lat,M:new uat,L:new hat,w:new fat,I:new gat,d:new _at,D:new vat,E:new bat,e:new wat,c:new Eat,i:new Aat,a:new Tat,b:new Cat,B:new Sat,h:new xat,H:new kat,K:new Pat,k:new Rat,m:new Dat,s:new Mat,S:new Oat,X:new Nat,x:new Lat,t:new Fat,T:new Vat},Uat=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$at=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jat=/^'([^]*?)'?$/,Hat=/''/g,zat=/\S/,Wat=/[a-zA-Z]/;function qat(e,t,n,i){var b,w,A,C,k,R,D,M;const r=Xot(),s=(i==null?void 0:i.locale)??r.locale??NL,a=(i==null?void 0:i.firstWeekContainsDate)??((w=(b=i==null?void 0:i.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??r.firstWeekContainsDate??((C=(A=r.locale)==null?void 0:A.options)==null?void 0:C.firstWeekContainsDate)??1,l=(i==null?void 0:i.weekStartsOn)??((R=(k=i==null?void 0:i.locale)==null?void 0:k.options)==null?void 0:R.weekStartsOn)??r.weekStartsOn??((M=(D=r.locale)==null?void 0:D.options)==null?void 0:M.weekStartsOn)??0;if(t==="")return e===""?Tt(n):Be(n,NaN);const u={firstWeekContainsDate:a,weekStartsOn:l,locale:s},d=[new nat],f=t.match($at).map(N=>{const V=N[0];if(V in Wb){const X=Wb[V];return X(N,s.formatLong)}return N}).join("").match(Uat),g=[];for(let N of f){!(i!=null&&i.useAdditionalWeekYearTokens)&&UL(N)&&qb(N,t,e),!(i!=null&&i.useAdditionalDayOfYearTokens)&&BL(N)&&qb(N,t,e);const V=N[0],X=Bat[V];if(X){const{incompatibleTokens:at}=X;if(Array.isArray(at)){const pt=g.find(Et=>at.includes(Et.token)||Et.token===V);if(pt)throw new RangeError(`The format string mustn't contain \`${pt.fullToken}\` and \`${N}\` at the same time`)}else if(X.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);g.push({token:V,fullToken:N});const J=X.run(e,N,s.match,u);if(!J)return Be(n,NaN);d.push(J.setter),e=J.rest}else{if(V.match(Wat))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");if(N==="''"?N="'":V==="'"&&(N=Kat(N)),e.indexOf(N)===0)e=e.slice(N.length);else return Be(n,NaN)}}if(e.length>0&&zat.test(e))return Be(n,NaN);const m=d.map(N=>N.priority).sort((N,V)=>V-N).filter((N,V,X)=>X.indexOf(N)===V).map(N=>d.filter(V=>V.priority===N).sort((V,X)=>X.subPriority-V.subPriority)).map(N=>N[0]);let v=Tt(n);if(isNaN(v.getTime()))return Be(n,NaN);const E={};for(const N of m){if(!N.validate(v,u))return Be(n,NaN);const V=N.set(v,E,u);Array.isArray(V)?(v=V[0],Object.assign(E,V[1])):v=V}return Be(n,v)}function Kat(e){return e.match(jat)[1].replace(Hat,"'")}function Gat(e){const t=Tt(e);return t.setMinutes(0,0,0),t}function Yat(e){const t=Tt(e);return t.setMilliseconds(0),t}function Qat(e,t){const n=(t==null?void 0:t.additionalDigits)??2,i=tct(e);let r;if(i.date){const u=ect(i.date,n);r=nct(u.restDateString,u.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);const s=r.getTime();let a=0,l;if(i.time&&(a=ict(i.time),isNaN(a)))return new Date(NaN);if(i.timezone){if(l=rct(i.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(s+a),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(s+a+l)}const bg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Xat=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Jat=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Zat=/^([+-])(\d{2})(?::?(\d{2}))?$/;function tct(e){const t={},n=e.split(bg.dateTimeDelimiter);let i;if(n.length>2)return t;if(/:/.test(n[0])?i=n[0]:(t.date=n[0],i=n[1],bg.timeZoneDelimiter.test(t.date)&&(t.date=e.split(bg.timeZoneDelimiter)[0],i=e.substr(t.date.length,e.length))),i){const r=bg.timezone.exec(i);r?(t.time=i.replace(r[1],""),t.timezone=r[1]):t.time=i}return t}function ect(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(n);if(!i)return{year:NaN,restDateString:""};const r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:e.slice((i[1]||i[2]).length)}}function nct(e,t){if(t===null)return new Date(NaN);const n=e.match(Xat);if(!n)return new Date(NaN);const i=!!n[4],r=wh(n[1]),s=wh(n[2])-1,a=wh(n[3]),l=wh(n[4]),u=wh(n[5])-1;if(i)return lct(t,l,u)?sct(t,l,u):new Date(NaN);{const d=new Date(0);return!act(t,s,a)||!cct(t,r)?new Date(NaN):(d.setUTCFullYear(t,s,Math.max(r,a)),d)}}function wh(e){return e?parseInt(e):1}function ict(e){const t=e.match(Jat);if(!t)return NaN;const n=S0(t[1]),i=S0(t[2]),r=S0(t[3]);return uct(n,i,r)?n*If+i*Ef+r*1e3:NaN}function S0(e){return e&&parseFloat(e.replace(",","."))||0}function rct(e){if(e==="Z")return 0;const t=e.match(Zat);if(!t)return 0;const n=t[1]==="+"?-1:1,i=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return hct(i,r)?n*(i*If+r*Ef):NaN}function sct(e,t,n){const i=new Date(0);i.setUTCFullYear(e,0,4);const r=i.getUTCDay()||7,s=(t-1)*7+n+1-r;return i.setUTCDate(i.getUTCDate()+s),i}const oct=[31,null,31,30,31,30,31,31,30,31,30,31];function WL(e){return e%400===0||e%4===0&&e%100!==0}function act(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(oct[t]||(WL(e)?29:28))}function cct(e,t){return t>=1&&t<=(WL(e)?366:365)}function lct(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function uct(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function hct(e,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const dct={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};LN._date.override({_id:"date-fns",formats:function(){return dct},parse:function(e,t){if(e===null||typeof e>"u")return null;const n=typeof e;return n==="number"||e instanceof Date?e=Tt(e):n==="string"&&(typeof t=="string"?e=qat(e,t,new Date,this.options):e=Qat(e,this.options)),kL(e)?e.getTime():null},format:function(e,t){return Yot(e,t,this.options)},add:function(e,t,n){switch(n){case"millisecond":return Qy(e,t);case"second":return Fst(e,t);case"minute":return Nst(e,t);case"hour":return Dst(e,t);case"day":return Yy(e,t);case"week":return Vst(e,t);case"month":return IE(e,t);case"quarter":return Lst(e,t);case"year":return Bst(e,t);default:return e}},diff:function(e,t,n){switch(n){case"millisecond":return Xy(e,t);case"second":return Kst(e,t);case"minute":return zst(e,t);case"hour":return Hst(e,t);case"day":return PL(e,t);case"week":return Gst(e,t);case"month":return ML(e,t);case"quarter":return qst(e,t);case"year":return Yst(e,t);default:return 0}},startOf:function(e,t,n){switch(t){case"second":return Yat(e);case"minute":return Qst(e);case"hour":return Gat(e);case"day":return zb(e);case"week":return ns(e);case"isoWeek":return ns(e,{weekStartsOn:+n});case"month":return Jst(e);case"quarter":return Xst(e);case"year":return OL(e);default:return e}},endOf:function(e,t){switch(t){case"second":return rot(e);case"minute":return not(e);case"hour":return tot(e);case"day":return RL(e);case"week":return eot(e);case"month":return DL(e);case"quarter":return iot(e);case"year":return Zst(e);default:return e}}});Ut.use(ac);V3(H3).use(Drt).use(Ut).mount("#app");
